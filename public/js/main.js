/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={54:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=Object.getPrototypeOf,n=(e,t,n)=>{var r;return!!n(e,t.prototype)||(null===(r=e.constructor)||void 0===r?void 0:r.name)===t.name},r=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&n(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t})(t)===e,o=e=>t=>typeof t===e,a=r("string"),i=r("object"),s=e=>((e,r)=>i(e)&&n(e,r,(e,n)=>t(e)===n))(e,Object),l=r("array"),c=o("boolean"),d=e=>!(e=>null==e)(e),u=o("function"),f=o("number"),p=()=>{};class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?m.some(e):m.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1),Array.prototype.slice;const h=Array.prototype.push,g=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);h.apply(t,e[n])}return t};u(Array.from)&&Array.from;const v=Object.keys,b=Object.hasOwnProperty,y=(e,t)=>b.call(e,t),k=(x=(e,t)=>s(e)&&s(t)?k(e,t):t,(...e)=>{if(0===e.length)throw new Error("Can't merge zero objects");const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)y(r,e)&&(t[e]=x(t[e],r[e]))}return t});var x;const C=e=>e.length>0,w=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},S=(e,t,n)=>{((e,t,n)=>{if(!(a(n)||c(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)};var E=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_=tinymce.util.Tools.resolve("tinymce.util.URI");const A=e=>t=>t.options.get(e),T=A("image_dimensions"),N=A("image_advtab"),O=A("image_uploadtab"),R=A("image_prepend_url"),P=A("image_class_list"),D=A("image_description"),M=A("image_title"),B=A("image_caption"),L=A("image_list"),I=A("a11y_advanced_options"),j=A("automatic_uploads"),F=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10)),U=e=>(e&&(e=e.replace(/px$/,"")),e),H=e=>(e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e),z=e=>"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder")),$=(e,t)=>{const n=e.options.get;return _.isDomSafe(t,"img",{allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")})},q=E.DOM,V=e=>e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?U(e.style.marginLeft):"",W=e=>e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?U(e.style.marginTop):"",K=e=>e.style.borderWidth?U(e.style.borderWidth):"",G=(e,t)=>{var n;return e.hasAttribute(t)&&null!==(n=e.getAttribute(t))&&void 0!==n?n:""},Y=e=>null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName,X=(e,t,n)=>{""===n||null===n?e.removeAttribute(t):e.setAttribute(t,n)},Q=(e,t)=>{const n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},Z=(e,t)=>(e,n,r)=>{const o=e.style;o[n]?(o[n]=H(r),Q(e,t)):X(e,n,r)},J=(e,t)=>e.style[t]?U(e.style[t]):G(e,t),ee=(e,t)=>{const n=H(t);e.style.marginLeft=n,e.style.marginRight=n},te=(e,t)=>{const n=H(t);e.style.marginTop=n,e.style.marginBottom=n},ne=(e,t)=>{const n=H(t);e.style.borderWidth=n},re=(e,t)=>{e.style.borderStyle=t},oe=e=>{var t;return null!==(t=e.style.borderStyle)&&void 0!==t?t:""},ae=e=>d(e)&&"FIGURE"===e.nodeName,ie=e=>0===q.getAttrib(e,"alt").length&&"presentation"===q.getAttrib(e,"role"),se=e=>ie(e)?"":G(e,"alt"),le=(e,t)=>{var n;const r=document.createElement("img");return X(r,"style",t.style),(V(r)||""!==t.hspace)&&ee(r,t.hspace),(W(r)||""!==t.vspace)&&te(r,t.vspace),(K(r)||""!==t.border)&&ne(r,t.border),(oe(r)||""!==t.borderStyle)&&re(r,t.borderStyle),e(null!==(n=r.getAttribute("style"))&&void 0!==n?n:"")},ce=(e,t)=>({src:G(t,"src"),alt:se(t),title:G(t,"title"),width:J(t,"width"),height:J(t,"height"),class:G(t,"class"),style:e(G(t,"style")),caption:Y(t),hspace:V(t),vspace:W(t),border:K(t),borderStyle:oe(t),isDecorative:ie(t)}),de=(e,t,n,r,o)=>{n[r]!==t[r]&&o(e,r,String(n[r]))},ue=(e,t,n)=>{if(n){q.setAttrib(e,"role","presentation");const t=w(e);S(t,"alt","")}else{if((e=>null===e)(t))w(e).dom.removeAttribute("alt");else{const n=w(e);S(n,"alt",t)}"presentation"===q.getAttrib(e,"role")&&q.setAttrib(e,"role","")}},fe=(e,t)=>(n,r,o)=>{e(n,o),Q(n,t)},pe=(e,t,n)=>{const r=ce(e,n);de(n,r,t,"caption",(e,t,n)=>(e=>{Y(e)?(e=>{const t=e.parentNode;d(t)&&(q.insertAfter(e,t),q.remove(t))})(e):(e=>{const t=q.create("figure",{class:"image"});q.insertAfter(t,e),t.appendChild(e),t.appendChild(q.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"})(e)})(e)),de(n,r,t,"src",X),de(n,r,t,"title",X),de(n,r,t,"width",Z(0,e)),de(n,r,t,"height",Z(0,e)),de(n,r,t,"class",X),de(n,r,t,"style",fe((e,t)=>X(e,"style",t),e)),de(n,r,t,"hspace",fe(ee,e)),de(n,r,t,"vspace",fe(te,e)),de(n,r,t,"border",fe(ne,e)),de(n,r,t,"borderStyle",fe(re,e)),((e,t,n)=>{n.alt===t.alt&&n.isDecorative===t.isDecorative||ue(e,n.alt,n.isDecorative)})(n,r,t)},me=(e,t)=>{const n=(e=>{if(e.margin){const t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e})(e.dom.styles.parse(t)),r=e.dom.styles.parse(e.dom.styles.serialize(n));return e.dom.styles.serialize(r)},he=e=>{const t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||z(t))?null:t},ge=(e,t)=>{var n;const r=e.dom,o=(t=>{const n={};var r;return((e,t,n,r)=>{((e,t)=>{const n=v(e);for(let r=0,o=n.length;r<o;r++){const o=n[r];t(e[o],o)}})(e,(e,o)=>{(t(0,o)?n:r)(e,o)})})(t,(t,n)=>!e.schema.isValidChild(n,"figure"),(r=n,(e,t)=>{r[t]=e}),p),n})(e.schema.getTextBlockElements()),a=r.getParent(t.parentNode,e=>{return t=o,n=e.nodeName,y(t,n)&&void 0!==t[n]&&null!==t[n];var t,n},e.getBody());return a&&null!==(n=r.split(a,t))&&void 0!==n?n:t};var ve=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),be=tinymce.util.Tools.resolve("tinymce.util.Tools");const ye=e=>a(e.value)?e.value:"",ke=(e,t)=>{const n=[];return be.each(e,e=>{const r=(e=>a(e.text)?e.text:a(e.title)?e.title:"")(e);if(void 0!==e.menu){const o=ke(e.menu,t);n.push({text:r,items:o})}else{const o=t(e);n.push({text:r,value:o})}}),n},xe=(e=ye)=>t=>t?m.from(t).map(t=>ke(t,e)):m.none(),Ce=(e,t)=>(e=>{for(let r=0;r<e.length;r++){const o=(e=>y(e,"items"))(n=e[r])?Ce(n.items,t):n.value===t?m.some(n):m.none();if(o.isSome())return o}var n;return m.none()})(e),we=xe,Se=(e,t)=>e.bind(e=>Ce(e,t)),Ee=e=>{const t=e.imageList.map(e=>({name:"images",type:"listbox",label:"Image list",items:e})),n={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)},r=e.classList.map(e=>({name:"classes",type:"listbox",label:"Class",items:e}));return g([[{name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"}],t.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],e.hasDescription?[n]:[],e.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],e.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[{...(o=e.classList.isSome()&&e.hasImageCaption,o?{type:"grid",columns:2}:{type:"panel"}),items:g([r.toArray(),e.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])}]]);var o},_e=e=>({title:"General",name:"general",items:Ee(e)}),Ae=Ee,Te=e=>({src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}),Ne=(e,t)=>({src:e.src.value,alt:null!==e.alt&&0!==e.alt.length||!t?e.alt:null,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}),Oe=(e,t,n,r)=>{((e,t)=>{const n=t.getData();((e,t)=>/^(?:[a-zA-Z]+:)?\/\//.test(t)?m.none():e.prependURL.bind(e=>t.substring(0,e.length)!==e?m.some(e+t):m.none()))(e,n.src.value).each(e=>{t.setData({src:{value:e,meta:n.src.meta}})})})(t,r),((e,t)=>{const n=t.getData(),r=n.src.meta;if(void 0!==r){const o=k({},n);((e,t,n)=>{e.hasDescription&&a(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&a(n.title)&&(t.title=n.title),e.hasDimensions&&(a(n.width)&&(t.dimensions.width=n.width),a(n.height)&&(t.dimensions.height=n.height)),a(n.class)&&Se(e.classList,n.class).each(e=>{t.classes=e.value}),e.hasImageCaption&&c(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(a(n.style)&&(t.style=n.style),a(n.vspace)&&(t.vspace=n.vspace),a(n.border)&&(t.border=n.border),a(n.hspace)&&(t.hspace=n.hspace),a(n.borderstyle)&&(t.borderstyle=n.borderstyle))})(e,o,r),t.setData(o)}})(t,r),((e,t,n,r)=>{const o=r.getData(),a=o.src.value,i=o.src.meta||{};i.width||i.height||!t.hasDimensions||(C(a)?e.imageSize(a).then(e=>{n.open&&r.setData({dimensions:e})}).catch(e=>console.error(e)):r.setData({dimensions:{width:"",height:""}}))})(e,t,n,r),((e,t,n)=>{const r=n.getData(),o=Se(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map(e=>e.value).getOr("")})})(t,n,r)},Re=(e,t,n)=>(r,o)=>{"src"===o.name?Oe(e,t,n,r):"images"===o.name?((e,t,n,r)=>{const o=r.getData(),a=Se(t.imageList,o.images);a.each(e=>{const t=""===o.alt||n.prevImage.map(e=>e.text===o.alt).getOr(!1);t?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})}),n.prevImage=a,Oe(e,t,n,r)})(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"fileinput"===o.name?((e,t,n,r)=>{const o=r.getData();var a;r.block("Uploading image"),(a=o.fileinput,(e=>0<e.length?m.some(e[0]):m.none())(a)).fold(()=>{r.unblock()},o=>{const a=URL.createObjectURL(o),i=()=>{r.unblock(),URL.revokeObjectURL(a)},s=o=>{r.setData({src:{value:o,meta:{}}}),r.showTab("general"),Oe(e,t,n,r),r.focus("src")};var l;(l=o,new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=()=>{var e;t(null===(e=n.error)||void 0===e?void 0:e.message)},n.readAsDataURL(l)})).then(n=>{const l=e.createBlobCache(o,a,n);t.automaticUploads?e.uploadImage(l).then(e=>{s(e.url),i()}).catch(t=>{i(),e.alertErr(t,()=>{r.focus("fileinput")})}):(e.addToBlobCache(l),s(l.blobUri()),r.unblock())})})})(e,t,n,r):"isDecorative"===o.name&&r.setEnabled("alt",!r.getData().isDecorative)},Pe=e=>()=>{e.open=!1},De=e=>e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler?{type:"tabpanel",tabs:g([[_e(e)],e.hasAdvTab?[{title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}]:[]])}:{type:"panel",items:Ae(e)},Me=(e,t,n)=>r=>{const o=k(Te(t.image),r.getData()),a={...o,style:le(n.normalizeCss,Ne(o,!1))};e.execCommand("mceUpdateImage",!1,Ne(a,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),r.close()},Be=e=>t=>$(e,t)?(e=>new Promise(t=>{const n=document.createElement("img"),r=e=>{n.parentNode&&n.parentNode.removeChild(n),t(e)};n.addEventListener("load",()=>{const e={width:F(n.width,n.clientWidth),height:F(n.height,n.clientHeight)};r(Promise.resolve(e))}),n.addEventListener("error",()=>{r(Promise.reject(`Failed to get image dimensions for: ${e}`))});const o=n.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(n),n.src=e}))(e.documentBaseURI.toAbsolute(t)).then(e=>({width:String(e.width),height:String(e.height)})):Promise.resolve({width:"",height:""}),Le=e=>(t,n,r)=>{var o;return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:null===(o=t.name)||void 0===o?void 0:o.replace(/\.[^\.]+$/,""),filename:t.name,base64:r.split(",")[1]})},Ie=e=>t=>{e.editorUpload.blobCache.add(t)},je=e=>(t,n)=>{e.windowManager.alert(t,n)},Fe=e=>t=>me(e,t),Ue=e=>t=>e.dom.parseStyle(t),He=e=>(t,n)=>e.dom.serializeStyle(t,n),ze=e=>t=>ve(e).upload([t],!1).then(e=>{var t;return 0===e.length?Promise.reject("Failed to upload image"):!1===e[0].status?Promise.reject(null===(t=e[0].error)||void 0===t?void 0:t.message):e[0]}),$e=e=>{const t={imageSize:Be(e),addToBlobCache:Ie(e),createBlobCache:Le(e),alertErr:je(e),normalizeCss:Fe(e),parseStyle:Ue(e),serializeStyle:He(e),uploadImage:ze(e)};return{open:()=>{(e=>{const t=we(t=>e.convertURL(t.value||t.url||"","src")),n=new Promise(n=>{((e,t)=>{const n=L(e);a(n)?fetch(n).then(e=>{e.ok&&e.json().then(t)}):u(n)?n(t):t(n)})(e,e=>{n(t(e).map(e=>g([[{text:"None",value:""}],e])))})}),r=(x=P(e),xe(ye)(x)),o=N(e),i=O(e),s=(e=>C(e.options.get("images_upload_url")))(e),l=(e=>d(e.options.get("images_upload_handler")))(e),c=(e=>{const t=he(e);return t?ce(t=>me(e,t),t):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}})(e),f=D(e),p=M(e),h=T(e),v=B(e),b=I(e),y=j(e),k=m.some(R(e)).filter(e=>a(e)&&e.length>0);var x;return n.then(e=>({image:c,imageList:e,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:s,hasUploadHandler:l,hasDescription:f,hasImageTitle:p,hasDimensions:h,hasImageCaption:v,prependURL:k,hasAccessibilityOptions:b,automaticUploads:y}))})(e).then(n=>{const r=(e=>({prevImage:Se(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}))(n);return{title:"Insert/Edit Image",size:"normal",body:De(n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Te(n.image),onSubmit:Me(e,n,t),onChange:Re(t,n,r),onClose:Pe(r)}}).then(e.windowManager.open)}}},qe=e=>{const t=e.attr("class");return d(t)&&/\bimage\b/.test(t)},Ve=e=>t=>{let n=t.length;const r=t=>{t.attr("contenteditable",e?"true":null)};for(;n--;){const o=t[n];qe(o)&&(o.attr("contenteditable",e?"false":null),be.each(o.getAll("figcaption"),r))}},We=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("image",e=>{(e=>{const t=e.options.register;t("image_dimensions",{processor:"boolean",default:!0}),t("image_advtab",{processor:"boolean",default:!1}),t("image_uploadtab",{processor:"boolean",default:!0}),t("image_prepend_url",{processor:"string",default:""}),t("image_class_list",{processor:"object[]"}),t("image_description",{processor:"boolean",default:!0}),t("image_title",{processor:"boolean",default:!1}),t("image_caption",{processor:"boolean",default:!1}),t("image_list",{processor:e=>{const t=!1===e||a(e)||((e,t)=>{if(l(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1})(e,i)||u(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})})(e),(e=>{e.on("PreInit",()=>{e.parser.addNodeFilter("figure",Ve(!0)),e.serializer.addNodeFilter("figure",Ve(!1))})})(e),(e=>{e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:$e(e).open,onSetup:t=>{t.setActive(d(he(e)));const n=e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind,r=We(e)(t);return()=>{n(),r()}}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:$e(e).open,onSetup:We(e)}),e.ui.registry.addContextMenu("image",{update:t=>e.selection.isEditable()&&(ae(t)||"IMG"===t.nodeName&&!z(t))?["image"]:[]})})(e),(e=>{e.addCommand("mceImage",$e(e).open),e.addCommand("mceUpdateImage",(t,n)=>{e.undoManager.transact(()=>((e,t)=>{const n=he(e);if(n){const r={...ce(t=>me(e,t),n),...t},o=((e,t)=>{const n=t.src;return{...t,src:$(e,n)?n:""}})(e,r);r.src?((e,t)=>{const n=he(e);if(n)if(pe(t=>me(e,t),t,n),((e,t)=>{e.dom.setAttrib(t,"src",t.getAttribute("src"))})(e,n),ae(n.parentNode)){e.dom.setStyle(n,"float","");const t=n.parentNode;ge(e,t),e.selection.select(n.parentNode)}else e.selection.select(n),((e,t,n)=>{const r=()=>{n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=()=>{t.width||t.height||!T(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r})(e,t,n)})(e,o):((e,t)=>{if(t){const n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}})(e,n)}else t.src&&((e,t)=>{const n=((t,n)=>{const r=document.createElement("img");if(pe(t=>me(e,t),{...n,caption:!1},r),ue(r,n.alt,n.isDecorative),n.caption){const e=q.create("figure",{class:"image"});return e.appendChild(r),e.appendChild(q.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false",e}return r})(0,t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);const r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),ae(r)){const t=ge(e,r);e.selection.select(t)}else e.selection.select(r)})(e,{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1,...t})})(e,n))})})(e)})}()},199:e=>{!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return{eq:e}},r=n(function(e,t){return e===t}),o=function(e){return n(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},a=function(e){return n(function(t,a){var i=Object.keys(t),s=Object.keys(a);if(!function(e,t){return function(e,t){return n(function(n,r){return e.eq(t(n),t(r))})}(o(e),function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,t)})}(r).eq(i,s))return!1;for(var l=i.length,c=0;c<l;c++){var d=i[c];if(!e.eq(t[d],a[d]))return!1}return!0})},i=n(function(e,n){if(e===n)return!0;var r=t(e);return r===t(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(r)?e===n:"array"===r?o(i).eq(e,n):"object"===r&&a(i).eq(e,n))});const s=Object.getPrototypeOf,l=(e,t,n)=>{var r;return!!n(e,t.prototype)||(null===(r=e.constructor)||void 0===r?void 0:r.name)===t.name},c=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&l(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t})(t)===e,d=e=>t=>typeof t===e,u=e=>t=>e===t,f=(e,t)=>m(e)&&l(e,t,(e,t)=>s(e)===t),p=c("string"),m=c("object"),h=e=>f(e,Object),g=c("array"),v=u(null),b=d("boolean"),y=u(void 0),k=e=>null==e,x=e=>!k(e),C=d("function"),w=d("number"),S=(e,t)=>{if(g(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},E=()=>{},_=(e,t)=>(...n)=>e(t.apply(null,n)),A=(e,t)=>n=>e(t(n)),T=e=>()=>e,N=e=>e,O=(e,t)=>e===t;function R(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const P=e=>t=>!e(t),D=e=>()=>{throw new Error(e)},M=e=>e(),B=e=>{e()},L=T(!1),I=T(!0);class j{constructor(e,t){this.tag=e,this.value=t}static some(e){return new j(!0,e)}static none(){return j.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?j.some(e(this.value)):j.none()}bind(e){return this.tag?e(this.value):j.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:j.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return x(e)?j.some(e):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const F=Array.prototype.slice,U=Array.prototype.indexOf,H=Array.prototype.push,z=(e,t)=>U.call(e,t),$=(e,t)=>z(e,t)>-1,q=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},V=(e,t)=>{const n=e.length,r=new Array(n);for(let o=0;o<n;o++){const n=e[o];r[o]=t(n,o)}return r},W=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},K=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},G=(e,t)=>{const n=[],r=[];for(let o=0,a=e.length;o<a;o++){const a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},Y=(e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const o=e[r];t(o,r)&&n.push(o)}return n},X=(e,t,n)=>(K(e,(e,r)=>{n=t(n,e,r)}),n),Q=(e,t,n)=>(W(e,(e,r)=>{n=t(n,e,r)}),n),Z=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++){const o=e[r];if(t(o,r))return j.some(o);if(n(o,r))break}return j.none()},J=(e,t)=>Z(e,t,L),ee=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return j.some(n);return j.none()},te=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!g(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);H.apply(t,e[n])}return t},ne=(e,t)=>te(V(e,t)),re=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},oe=e=>{const t=F.call(e,0);return t.reverse(),t},ae=(e,t)=>Y(e,e=>!$(t,e)),ie=(e,t)=>{const n={};for(let r=0,o=e.length;r<o;r++){const o=e[r];n[String(o)]=t(o,r)}return n},se=(e,t)=>{const n=F.call(e,0);return n.sort(t),n},le=(e,t)=>t>=0&&t<e.length?j.some(e[t]):j.none(),ce=e=>le(e,0),de=e=>le(e,e.length-1),ue=C(Array.from)?Array.from:e=>F.call(e),fe=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return j.none()},pe=(e,t)=>{const n=[],r=C(t)?e=>q(n,n=>t(n,e)):e=>$(n,e);for(let t=0,o=e.length;t<o;t++){const o=e[t];r(o)||n.push(o)}return n},me=Object.keys,he=Object.hasOwnProperty,ge=(e,t)=>{const n=me(e);for(let r=0,o=n.length;r<o;r++){const o=n[r];t(e[o],o)}},ve=(e,t)=>be(e,(e,n)=>({k:n,v:t(e,n)})),be=(e,t)=>{const n={};return ge(e,(e,r)=>{const o=t(e,r);n[o.k]=o.v}),n},ye=e=>(t,n)=>{e[n]=t},ke=(e,t,n,r)=>{ge(e,(e,o)=>{(t(e,o)?n:r)(e,o)})},xe=(e,t)=>{const n={};return ke(e,t,ye(n),E),n},Ce=(e,t)=>{const n=[];return ge(e,(e,r)=>{n.push(t(e,r))}),n},we=e=>Ce(e,N),Se=(e,t)=>Ee(e,t)?j.from(e[t]):j.none(),Ee=(e,t)=>he.call(e,t),_e=(e,t)=>Ee(e,t)&&void 0!==e[t]&&null!==e[t],Ae=e=>{if(!g(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return W(e,(r,o)=>{const a=me(r);if(1!==a.length)throw new Error("one and only one name per case");const i=a[0],s=r[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!g(s))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const r=n.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+s.length+" ("+s+"), got "+r);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:e=>{const r=me(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!re(t,e=>$(r,e)))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}}),n},Te=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Ne=e=>{const t=t=>t(e),n=T(e),r=()=>o,o={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:I,isError:L,map:t=>Re.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>j.some(e)};return o},Oe=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:L,isError:I,map:t,mapError:t=>Re.error(t(e)),bind:t,exists:L,forall:I,getOr:N,or:N,getOrThunk:M,orThunk:M,getOrDie:D(String(e)),each:E,toOptional:j.none};return n},Re={value:Ne,error:Oe,fromOption:(e,t)=>e.fold(()=>Oe(t),Ne)},Pe="undefined"!=typeof window?window:Function("return this;")(),De=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Me=0;const Be=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*De());return Me++,e+"_"+n+Me+String(t)},Le=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const o=t[r];for(const t in o)Ee(o,t)&&(n[t]=e(n[t],o[t]))}return n},Ie=Le((e,t)=>h(e)&&h(t)?Ie(e,t):t),je=Le((e,t)=>t),Fe=(e,t,n=O)=>e.exists(e=>n(e,t)),Ue=(e,t,n=O)=>He(e,t,n).getOr(e.isNone()&&t.isNone()),He=(e,t,n)=>e.isSome()&&t.isSome()?j.some(n(e.getOrDie(),t.getOrDie())):j.none(),ze=(e,t)=>e?j.some(t):j.none(),$e=(e,t)=>((e,t)=>{let n=null!=t?t:Pe;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t);Ae([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const qe=e=>{const t=Te(j.none()),n=()=>t.get().each(e=>clearInterval(e));return{clear:()=>{n(),t.set(j.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:r=>{n(),t.set(j.some(setInterval(r,e)))}}},Ve=()=>{const e=(e=>{const t=Te(j.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(j.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(j.some(e))}}})(E);return{...e,on:t=>e.get().each(t)}},We=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Ke=(e,t)=>Ye(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Ge=(e,t,n=0,r)=>{const o=e.indexOf(t,n);return-1!==o&&(!!y(r)||o+t.length<=r)},Ye=(e,t)=>We(e,t,0),Xe=(e,t)=>We(e,t,e.length-t.length),Qe=e=>t=>t.replace(e,""),Ze=Qe(/^\s+|\s+$/g),Je=Qe(/^\s+/g),et=Qe(/\s+$/g),tt=e=>e.length>0,nt=e=>!tt(e),rt=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?j.none():j.some(n)},ot=(e,t)=>{let n=null;return{cancel:()=>{v(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{v(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},at=(e,t)=>{let n=null;const r=()=>{v(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...o)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,o)},t)}}},it=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e.apply(null,r)),t)},st="\ufeff",lt="Â ",ct=e=>e===st,dt=e=>{const t={};return W(e,e=>{t[e]={}}),me(t)},ut=e=>void 0!==e.length,ft=Array.isArray,pt=(e,t,n)=>{if(!e)return!1;if(n=n||e,ut(e)){for(let r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(const r in e)if(Ee(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0},mt=(e,t)=>{const n=[];return pt(e,(r,o)=>{n.push(t(r,o,e))}),n},ht=(e,t)=>{const n=[];return pt(e,(r,o)=>{t&&!t(r,o,e)||n.push(r)}),n},gt=(e,t,n,r)=>{let o=y(n)?e[0]:n;for(let n=0;n<e.length;n++)o=t.call(r,o,e[n],n);return o},vt=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},bt=e=>e[e.length-1],yt=()=>kt(0,0),kt=(e,t)=>({major:e,minor:t}),xt={nu:kt,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?yt():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}})(e,t);if(!n)return{major:0,minor:0};const r=e=>Number(t.replace(n,"$"+e));return kt(r(1),r(2))})(e,n)},unknown:yt},Ct=(e,t)=>{const n=String(t).toLowerCase();return J(e,e=>e.search(n))},wt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,St=e=>t=>Ge(t,e),Et=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ge(e,"edge/")&&Ge(e,"chrome")&&Ge(e,"safari")&&Ge(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wt],search:e=>Ge(e,"chrome")&&!Ge(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ge(e,"msie")||Ge(e,"trident")},{name:"Opera",versionRegexes:[wt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:St("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:St("firefox")},{name:"Safari",versionRegexes:[wt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ge(e,"safari")||Ge(e,"mobile/"))&&Ge(e,"applewebkit")}],_t=[{name:"Windows",search:St("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ge(e,"iphone")||Ge(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:St("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:St("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:St("linux"),versionRegexes:[]},{name:"Solaris",search:St("sunos"),versionRegexes:[]},{name:"FreeBSD",search:St("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:St("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],At={browsers:T(Et),oses:T(_t)},Tt="Edge",Nt="Chromium",Ot="Opera",Rt="Firefox",Pt="Safari",Dt=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(Tt),isChromium:r(Nt),isIE:r("IE"),isOpera:r(Ot),isFirefox:r(Rt),isSafari:r(Pt)}},Mt=()=>Dt({current:void 0,version:xt.unknown()}),Bt=Dt,Lt=(T(Tt),T(Nt),T("IE"),T(Ot),T(Rt),T(Pt),"Windows"),It="Android",jt="Linux",Ft="macOS",Ut="Solaris",Ht="FreeBSD",zt="ChromeOS",$t=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(Lt),isiOS:r("iOS"),isAndroid:r(It),isMacOS:r(Ft),isLinux:r(jt),isSolaris:r(Ut),isFreeBSD:r(Ht),isChromeOS:r(zt)}},qt=()=>$t({current:void 0,version:xt.unknown()}),Vt=$t,Wt=(T(Lt),T("iOS"),T(It),T(jt),T(Ft),T(Ut),T(Ht),T(zt),e=>window.matchMedia(e).matches);let Kt=it(()=>((e,t,n)=>{const r=At.browsers(),o=At.oses(),a=t.bind(e=>((e,t)=>fe(t.brands,t=>{const n=t.brand.toLowerCase();return J(e,e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:xt.nu(parseInt(t.version,10),0)}))}))(r,e)).orThunk(()=>((e,t)=>Ct(e,t).map(e=>{const n=xt.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(r,e)).fold(Mt,Bt),i=((e,t)=>Ct(e,t).map(e=>{const n=xt.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(o,e).fold(qt,Vt),s=((e,t,n,r)=>{const o=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!o,i=e.isiOS()||e.isAndroid(),s=i||r("(pointer:coarse)"),l=o||!a&&i&&r("(min-device-width:768px)"),c=a||i&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!c&&!l&&!d;return{isiPad:T(o),isiPhone:T(a),isTablet:T(l),isPhone:T(c),isTouch:T(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:T(d),isDesktop:T(u)}})(i,a,e,n);return{browser:a,os:i,deviceType:s}})(window.navigator.userAgent,j.from(window.navigator.userAgentData),Wt));const Gt=()=>Kt(),Yt=Object.getPrototypeOf,Xt=e=>{const t=$e("ownerDocument.defaultView",e);return m(e)&&((e=>((e,t)=>{const n=((e,t)=>$e(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Yt(e).constructor.name))},Qt=window.navigator.userAgent,Zt=Gt(),Jt=Zt.browser,en=Zt.os,tn=Zt.deviceType,nn=-1!==Qt.indexOf("Windows Phone"),rn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Jt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Jt.isIE(),windowsPhone:nn,browser:{current:Jt.current,version:Jt.version,isChromium:Jt.isChromium,isEdge:Jt.isEdge,isFirefox:Jt.isFirefox,isIE:Jt.isIE,isOpera:Jt.isOpera,isSafari:Jt.isSafari},os:{current:en.current,version:en.version,isAndroid:en.isAndroid,isChromeOS:en.isChromeOS,isFreeBSD:en.isFreeBSD,isiOS:en.isiOS,isLinux:en.isLinux,isMacOS:en.isMacOS,isSolaris:en.isSolaris,isWindows:en.isWindows},deviceType:{isDesktop:tn.isDesktop,isiPad:tn.isiPad,isiPhone:tn.isiPhone,isPhone:tn.isPhone,isTablet:tn.isTablet,isTouch:tn.isTouch,isWebView:tn.isWebView}},on=/^\s*|\s*$/g,an=e=>k(e)?"":(""+e).replace(on,""),sn=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),pt(e,(e,o)=>!1!==t.call(r,e,o,n)&&(sn(e,t,n,r),!0)))},ln={trim:an,isArray:ft,is:(e,t)=>t?!("array"!==t||!ft(e))||typeof e===t:void 0!==e,toArray:e=>{if(ft(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const r=p(e)?e.split(t||","):e||[];let o=r.length;for(;o--;)n[r[o]]={};return n},each:pt,map:mt,grep:ht,inArray:(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},hasOwn:Ee,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if(Ee(r,t)){const n=r[t];void 0!==n&&(e[t]=n)}}return e},walk:sn,resolve:(e,t=window)=>{const n=e.split(".");for(let e=0,r=n.length;e<r&&(t=t[n[e]]);e++);return t},explode:(e,t)=>g(e)?e:""===e?[]:mt(e.split(t||","),an),_addCacheSuffix:e=>{const t=rn.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},cn=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},dn=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return cn(n.childNodes[0])},un=(e,t)=>{const n=(t||document).createElement(e);return cn(n)},fn=(e,t)=>{const n=(t||document).createTextNode(e);return cn(n)},pn=cn,mn=(e,t,n)=>j.from(e.dom.elementFromPoint(t,n)).map(cn),hn=(e,t,n)=>{const r=e.document.createRange();var o;return o=r,t.fold(e=>{o.setStartBefore(e.dom)},(e,t)=>{o.setStart(e.dom,t)},e=>{o.setStartAfter(e.dom)}),((e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,n)=>{e.setEnd(t.dom,n)},t=>{e.setEndAfter(t.dom)})})(r,n),r},gn=(e,t,n,r,o)=>{const a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,o),a},vn=Ae([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),bn=(e,t,n)=>t(pn(n.startContainer),n.startOffset,pn(n.endContainer),n.endOffset);vn.ltr,vn.rtl;const yn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},kn=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,xn=(e,t)=>e.dom===t.dom,Cn=(e,t)=>{const n=e.dom,r=t.dom;return n!==r&&n.contains(r)},wn=(e,t)=>{const n=[],r=e=>(n.push(e),t(e));let o=t(e);do{o=o.bind(r)}while(o.isSome());return n},Sn=e=>e.dom.nodeName.toLowerCase(),En=e=>e.dom.nodeType,_n=e=>t=>En(t)===e,An=e=>Tn(e)&&Xt(e.dom),Tn=_n(1),Nn=_n(3),On=_n(9),Rn=_n(11),Pn=e=>t=>Tn(t)&&Sn(t)===e,Dn=e=>pn(e.dom.ownerDocument),Mn=e=>On(e)?e:Dn(e),Bn=e=>pn(Mn(e).dom.defaultView),Ln=e=>j.from(e.dom.parentNode).map(pn),In=e=>j.from(e.dom.parentElement).map(pn),jn=(e,t)=>{const n=C(t)?t:L;let r=e.dom;const o=[];for(;null!==r.parentNode&&void 0!==r.parentNode;){const e=r.parentNode,t=pn(e);if(o.push(t),!0===n(t))break;r=e}return o},Fn=e=>j.from(e.dom.previousSibling).map(pn),Un=e=>j.from(e.dom.nextSibling).map(pn),Hn=e=>oe(wn(e,Fn)),zn=e=>wn(e,Un),$n=e=>V(e.dom.childNodes,pn),qn=(e,t)=>{const n=e.dom.childNodes;return j.from(n[t]).map(pn)},Vn=e=>qn(e,0),Wn=e=>qn(e,e.dom.childNodes.length-1),Kn=e=>e.dom.childNodes.length,Gn=e=>Rn(e)&&x(e.dom.host),Yn=e=>pn(e.dom.getRootNode()),Xn=e=>Gn(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return pn(t)})(Mn(e)),Qn=e=>pn(e.dom.host),Zn=e=>{if(x(e.target)){const t=pn(e.target);if(Tn(t)&&Jn(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ce(t)}}return j.from(e.target)},Jn=e=>x(e.dom.shadowRoot),er=(e,t,n,r)=>((e,t,n,r,o)=>{const a=((e,t)=>n=>{e(n)&&t((e=>{const t=pn(Zn(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),o=_(r,n);return((e,t,n,r,o,a,i)=>({target:e,x:t,y:n,stop:r,prevent:o,kill:a,raw:i}))(t,e.clientX,e.clientY,n,r,o,e)})(n))})(n,r);return e.dom.addEventListener(t,a,o),{unbind:R(tr,e,t,a,o)}})(e,t,n,r,!1),tr=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},nr=I,rr=()=>pn(document),or=(e,t=!1)=>e.dom.focus({preventScroll:t}),ar=e=>{const t=Yn(e).dom;return e.dom===t.activeElement},ir=(e=rr())=>j.from(e.dom.activeElement).map(pn),sr=(e,t)=>{Ln(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},lr=(e,t)=>{Un(e).fold(()=>{Ln(e).each(e=>{dr(e,t)})},e=>{sr(e,t)})},cr=(e,t)=>{Vn(e).fold(()=>{dr(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},dr=(e,t)=>{e.dom.appendChild(t.dom)},ur=(e,t)=>{sr(e,t),dr(t,e)},fr=(e,t)=>{W(t,t=>{dr(e,t)})},pr=(e,t,n)=>{if(!(p(n)||b(n)||w(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},mr=(e,t,n)=>{pr(e.dom,t,n)},hr=(e,t)=>{const n=e.dom;ge(t,(e,t)=>{pr(n,t,e)})},gr=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},vr=(e,t)=>j.from(gr(e,t)),br=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},yr=(e,t)=>{e.dom.removeAttribute(t)},kr=e=>Q(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),xr=e=>{e.dom.textContent="",W($n(e),e=>{Cr(e)})},Cr=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},wr=e=>{const t=$n(e);var n,r;t.length>0&&(n=e,W(r=t,(e,t)=>{const o=0===t?n:r[t-1];lr(o,e)})),Cr(e)},Sr=(e,t)=>pn(e.dom.cloneNode(t)),Er=e=>Sr(e,!1),_r=e=>Sr(e,!0),Ar=e=>V(e,pn),Tr=e=>e.dom.innerHTML,Nr=(e,t)=>{const n=Dn(e).dom,r=pn(n.createDocumentFragment()),o=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,$n(pn(n))})(t,n);fr(r,o),xr(e),dr(e,r)},Or=e=>void 0!==e.style&&C(e.style.getPropertyValue),Rr=e=>{const t=Nn(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=Yn(e);return Gn(t)?j.some(t):j.none()})(pn(t)).fold(()=>n.body.contains(t),A(Rr,Qn))},Pr=(e,t,n)=>{if(!p(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Or(e)&&e.style.setProperty(t,n)},Dr=(e,t,n)=>{const r=e.dom;Pr(r,t,n)},Mr=(e,t)=>{const n=e.dom;ge(t,(e,t)=>{Pr(n,t,e)})},Br=(e,t)=>{const n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Rr(e)?r:Lr(n,t)},Lr=(e,t)=>Or(e)?e.style.getPropertyValue(t):"",Ir=(e,t)=>{const n=e.dom,r=Lr(n,t);return j.from(r).filter(e=>e.length>0)},jr=e=>{const t={},n=e.dom;if(Or(n))for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t[r]=n.style[r]}return t},Fr=(e,t)=>{((e,t)=>{Or(e)&&e.style.removeProperty(t)})(e.dom,t),Fe(vr(e,"style").map(Ze),"")&&yr(e,"style")},Ur=(e=>{const t=t=>{const n=(e=>{const t=e.dom;return Rr(e)?t.getBoundingClientRect().height:t.offsetHeight})(t);if(n<=0||null===n){const n=Br(t,e);return parseFloat(n)||0}return n},n=(e,t)=>Q(t,(t,n)=>{const r=Br(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0);return{set:(t,n)=>{if(!w(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const r=t.dom;Or(r)&&(r.style[e]=n+"px")},get:t,getOuter:t,aggregate:n,max:(e,t,r)=>{const o=n(e,r);return t>o?t-o:0}}})("height"),Hr=(e,t)=>({left:e,top:t,translate:(n,r)=>Hr(e+n,t+r)}),zr=Hr,$r=(e,t)=>void 0!==e?e:void 0!==t?t:0,qr=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?zr(n.offsetLeft,n.offsetTop):Rr(e)?(e=>{const t=e.getBoundingClientRect();return zr(t.left,t.top)})(t):zr(0,0)},Vr=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return zr(n,r)},Wr=(e,t,n)=>{const r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)},Kr=(e,t)=>{Gt().browser.isSafari()&&C(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Gr=(e,t)=>{const n=(t||document).createDocumentFragment();return W(e,e=>{n.appendChild(e.dom)}),pn(n)},Yr=(e=>{const t=t=>e(t)?j.from(t.dom.nodeValue):j.none();return{get:n=>{if(!e(n))throw new Error("Can only get text value of a text node");return t(n).getOr("")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(Nn),Xr=e=>Yr.get(e),Qr=(e,t)=>Yr.set(e,t),Zr=(e,t)=>{const n=gr(e,t);return void 0===n||""===n?[]:n.split(" ")};var Jr=(e,t,n,r,o)=>e(n,r)?j.some(n):C(o)&&o(n)?j.none():t(n,r,o);const eo=(e,t,n)=>{let r=e.dom;const o=C(n)?n:L;for(;r.parentNode;){r=r.parentNode;const e=pn(r);if(t(e))return j.some(e);if(o(e))break}return j.none()},to=(e,t,n)=>Jr((e,t)=>t(e),eo,e,t,n),no=(e,t)=>{const n=e=>{for(let r=0;r<e.childNodes.length;r++){const o=pn(e.childNodes[r]);if(t(o))return j.some(o);const a=n(e.childNodes[r]);if(a.isSome())return a}return j.none()};return n(e.dom)},ro=(e,t,n)=>eo(e,e=>yn(e,t),n),oo=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return kn(n)?j.none():j.from(n.querySelector(e)).map(pn)})(t,e),ao=(e,t,n)=>Jr((e,t)=>yn(e,t),ro,e,t,n),io=e=>void 0!==e.dom.classList,so=e=>Zr(e,"class"),lo=(e,t)=>((e,t,n)=>{const r=Zr(e,t).concat([n]);return mr(e,t,r.join(" ")),!0})(e,"class",t),co=(e,t)=>((e,t,n)=>{const r=Y(Zr(e,t),e=>e!==n);return r.length>0?mr(e,t,r.join(" ")):yr(e,t),!1})(e,"class",t),uo=(e,t)=>{io(e)?e.dom.classList.add(t):lo(e,t)},fo=e=>{0===(io(e)?e.dom.classList:so(e)).length&&yr(e,"class")},po=(e,t)=>{io(e)?e.dom.classList.remove(t):co(e,t),fo(e)},mo=(e,t)=>io(e)&&e.dom.classList.contains(t),ho=(e,t=!1)=>{return Rr(e)?e.dom.isContentEditable:(n=e,ao(n,"[contenteditable]")).fold(T(t),e=>"true"===go(e));var n},go=e=>e.dom.contentEditable,vo=(e,t)=>{e.dom.contentEditable=t?"true":"false"},bo=(e,t)=>{let n=[];return W($n(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(bo(e,t))}),n},yo=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return kn(n)?[]:V(n.querySelectorAll(e),pn)})(t,e),ko=(e,t,n)=>eo(e,t,n).isSome(),xo=(e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?((e,t)=>J(e.dom.childNodes,e=>t(pn(e))).map(pn))(pn(n.parentNode),n=>!xn(e,n)&&t(n)):j.none()})(e,t).isSome(),Co=(e,t)=>no(e,t).isSome(),wo=e=>C(e)?e:L,So=(e,t,n)=>{const r=t(e),o=wo(n);return r.orThunk(()=>o(e)?j.none():((e,t,n)=>{let r=e.dom;const o=wo(n);for(;r.parentNode;){r=r.parentNode;const e=pn(r),n=t(e);if(n.isSome())return n;if(o(e))break}return j.none()})(e,t,o))},Eo=["img","br"],_o=e=>{return(t=e,Yr.getOption(t)).filter(e=>0!==e.trim().length||e.indexOf(lt)>-1).isSome()||$(Eo,Sn(e))||(e=>An(e)&&"false"===gr(e,"contenteditable"))(e);var t},Ao=(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r}),To=Ae([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),No={before:To.before,on:To.on,after:To.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(N,N,N)},Oo=Ae([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ro={domRange:Oo.domRange,relative:Oo.relative,exact:Oo.exact,exactFromRange:e=>Oo.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>pn(e.startContainer),relative:(e,t)=>No.getStart(e),exact:(e,t,n,r)=>e}))(e);return Bn(t)},range:Ao},Po=(e,t)=>{const n=Sn(e);return"input"===n?No.after(e):$(["br","img"],n)?0===t?No.before(e):No.after(e):No.on(e,t)},Do=(e,t)=>{const n=e.fold(No.before,Po,No.after),r=t.fold(No.before,Po,No.after);return Ro.relative(n,r)},Mo=(e,t,n,r)=>{const o=Po(e,t),a=Po(n,r);return Ro.relative(o,a)},Bo=e=>{const t=Ro.getWin(e).dom,n=(e,n,r,o)=>gn(t,e,n,r,o),r=(e=>e.match({domRange:e=>{const t=pn(e.startContainer),n=pn(e.endContainer);return Mo(t,e.startOffset,n,e.endOffset)},relative:Do,exact:Mo}))(e);return((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:T(e),rtl:j.none}),relative:(t,n)=>({ltr:it(()=>hn(e,t,n)),rtl:it(()=>j.some(hn(e,n,t)))}),exact:(t,n,r,o)=>({ltr:it(()=>gn(e,t,n,r,o)),rtl:it(()=>j.some(gn(e,r,o,t,n)))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>vn.rtl(pn(e.endContainer),e.endOffset,pn(e.startContainer),e.startOffset)).getOrThunk(()=>bn(0,vn.ltr,n)):bn(0,vn.ltr,n)})(0,n)})(t,r).match({ltr:n,rtl:n})},Lo=(e,t,n)=>((e,t,n)=>((e,t,n)=>e.caretPositionFromPoint?((e,t,n)=>{var r;return j.from(null===(r=e.caretPositionFromPoint)||void 0===r?void 0:r.call(e,t,n)).bind(t=>{if(null===t.offsetNode)return j.none();const n=e.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),j.some(n)})})(e,t,n):e.caretRangeFromPoint?((e,t,n)=>{var r;return j.from(null===(r=e.caretRangeFromPoint)||void 0===r?void 0:r.call(e,t,n))})(e,t,n):j.none())(e.document,t,n).map(e=>Ao(pn(e.startContainer),e.startOffset,pn(e.endContainer),e.endOffset)))(e,t,n),Io=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),jo=e=>{const t=void 0===e?window:e,n=t.document,r=Vr(pn(n));return(e=>{const t=void 0===e?window:e;return Gt().browser.isFirefox()?j.none():j.from(t.visualViewport)})(t).fold(()=>{const e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Io(r.left,r.top,n,o)},e=>Io(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height))};class Fo{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,r){if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let r=e.parentNode;r&&r!==this.rootNode;r=r.parentNode)if(t=r[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const r=e.parentNode;if(r&&r!==this.rootNode)return r}}}const Uo=/^[ \t\r\n]*$/,Ho=e=>Uo.test(e),zo=e=>"\n"===e||"\r"===e,$o=(e,t=4,n=!0,r=!0)=>{const o=((e,t)=>t<=0?"":new Array(t+1).join(" "))(0,t),a=e.replace(/\t/g,o),i=Q(a,(e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===lt?e.pcIsSpace||""===e.str&&n||e.str.length===a.length-1&&r||((e,t)=>t<e.length&&t>=0&&zo(e[t]))(a,e.str.length+1)?{pcIsSpace:!1,str:e.str+lt}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:zo(t),str:e.str+t},{pcIsSpace:!1,str:""});return i.str},qo=e=>t=>!!t&&t.nodeType===e,Vo=e=>!!e&&!Object.getPrototypeOf(e),Wo=qo(1),Ko=e=>Wo(e)&&An(pn(e)),Go=e=>{const t=e.toLowerCase();return e=>x(e)&&e.nodeName.toLowerCase()===t},Yo=e=>{const t=e.map(e=>e.toLowerCase());return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return $(t,n)}return!1}},Xo=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(Wo(t)){const r=t.ownerDocument.defaultView;if(r)for(let o=0;o<n.length;o++){const a=r.getComputedStyle(t,null);if((a?a.getPropertyValue(e):null)===n[o])return!0}}return!1}},Qo=e=>Wo(e)&&e.hasAttribute("data-mce-bogus"),Zo=e=>Wo(e)&&"TABLE"===e.tagName,Jo=e=>t=>{if(Ko(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},ea=Yo(["textarea","input"]),ta=qo(3),na=qo(4),ra=qo(7),oa=qo(8),aa=qo(9),ia=qo(11),sa=Go("br"),la=Go("img"),ca=Go("a"),da=Jo("true"),ua=Jo("false"),fa=e=>Ko(e)&&e.isContentEditable&&x(e.parentElement)&&!e.parentElement.isContentEditable,pa=Yo(["td","th"]),ma=Yo(["td","th","caption"]),ha=Yo(["video","audio","object","embed"]),ga=Go("li"),va=Go("details"),ba=Go("summary"),ya={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},ka=e=>Wo(e)&&e.hasAttribute("data-mce-bookmark");const xa=(e,t,n,r)=>ta(e)&&!((e,t,n)=>Ho(e.data)&&!((e,t,n)=>{const r=pn(t),o=pn(e),a=n.getWhitespaceElements();return ko(o,e=>Ee(a,Sn(e)),R(xn,r))})(e,t,n))(e,t,n)&&(!r.includeZwsp||!(e=>{for(const t of e)if(!ct(t))return!1;return!0})(e.data)),Ca=(e,t,n,r)=>C(r.isContent)&&r.isContent(t)||((e,t)=>Wo(e)&&Ee(t.getNonEmptyElements(),e.nodeName))(t,e)||ka(t)||(e=>Wo(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(t)||xa(t,n,e,r)||ua(t)||da(t)&&(e=>In(pn(e)).exists(e=>!ho(e)))(t),wa=(e,t,n)=>{const r={...ya,...n};if(r.checkRootAsContent&&Ca(e,t,t,r))return!1;let o=t.firstChild,a=0;if(!o)return!0;const i=new Fo(o,t);do{if(r.skipBogus&&Wo(o)){const e=o.getAttribute("data-mce-bogus");if(e){o=i.next("all"===e);continue}}if(oa(o))o=i.next(!0);else if(sa(o))a++,o=i.next();else{if(Ca(e,o,t,r))return!1;o=i.next()}}while(o);return a<=1},Sa=(e,t,n)=>wa(e,t.dom,{checkRootAsContent:!0,...n}),Ea=(e,t,n)=>Ca(e,t,t,{includeZwsp:ya.includeZwsp,...n}),_a=e=>{const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":"html"},Aa=e=>"html"!==_a(e),Ta=e=>Aa(e.nodeName),Na=e=>_a(e.nodeName),Oa=["svg","math"],Ra="data-mce-block",Pa=e=>V((e=>Y(me(e),e=>!/[A-Z]/.test(e)))(e),e=>{const t=CSS.escape(e);return`${t}:`+V(Oa,e=>`not(${e} ${t})`).join(":")}).join(","),Da=(e,t)=>x(t.querySelector(e))?(t.setAttribute(Ra,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Ra),!1),Ma=(e,t)=>{const n=Pa(e.getTransparentElements()),r=Pa(e.getBlockElements());return Y(t.querySelectorAll(n),e=>Da(r,e))},Ba=(e,t,n)=>{var r;const o=n?"lastChild":"firstChild";for(let n=t[o];n;n=n[o])if(wa(e,n,{checkRootAsContent:!0}))return void(null===(r=n.parentNode)||void 0===r||r.removeChild(n))},La=(e,t,n)=>{const r=e.getBlockElements(),o=pn(t),a=e=>Sn(e)in r,i=e=>xn(e,o);W(Ar(n),t=>{eo(t,a,i).each(n=>{const r=(t=>Y($n(t),t=>a(t)&&!e.isValidChild(Sn(n),Sn(t))))(t);if(r.length>0){const t=In(n);W(r,t=>{eo(t,a,i).each(n=>{((e,t,n)=>{const r=document.createRange(),o=t.parentNode;if(o){r.setStartBefore(t),r.setEndBefore(n);const a=r.extractContents();Ba(e,a,!0),r.setStartAfter(n),r.setEndAfter(t);const i=r.extractContents();Ba(e,i,!1),wa(e,a,{checkRootAsContent:!0})||o.insertBefore(a,t),wa(e,n,{checkRootAsContent:!0})||o.insertBefore(n,t),wa(e,i,{checkRootAsContent:!0})||o.insertBefore(i,t),o.removeChild(t)}})(e,n.dom,t.dom)})}),t.each(t=>Ma(e,t.dom))}})})},Ia=(e,t)=>{const n=Ma(e,t);La(e,t,n),((e,t,n)=>{W([...n,...za(e,t)?[t]:[]],t=>W(yo(pn(t),t.nodeName.toLowerCase()),t=>{$a(e,t.dom)&&wr(t)}))})(e,t,n)},ja=(e,t)=>{if(Ha(e,t)){const n=Pa(e.getBlockElements());Da(n,t)}},Fa=e=>e.hasAttribute(Ra),Ua=(e,t)=>Ee(e.getTransparentElements(),t),Ha=(e,t)=>Wo(t)&&Ua(e,t.nodeName),za=(e,t)=>Ha(e,t)&&Fa(t),$a=(e,t)=>Ha(e,t)&&!Fa(t),qa=(e,t)=>1===t.type&&Ua(e,t.name)&&p(t.attr(Ra)),Va=Gt().browser,Wa=e=>J(e,Tn),Ka=(e,t)=>e.children&&$(e.children,t),Ga=(e,t={})=>{let n=0;const r={},o=pn(e),a=Mn(o),i=e=>{dr(Xn(o),e)},s=e=>{const t=Xn(o);oo(t,"#"+e).each(Cr)},l=e=>Se(r,e).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),c=e=>new Promise((n,o)=>{let s;const c=ln._addCacheSuffix(e),d=l(c);r[c]=d,d.count++;const u=(e,t)=>{W(e,B),d.status=t,d.passed=[],d.failed=[],s&&(s.onload=null,s.onerror=null,s=null)},f=()=>u(d.passed,2),p=()=>u(d.failed,3);if(n&&d.passed.push(n),o&&d.failed.push(o),1===d.status)return;if(2===d.status)return void f();if(3===d.status)return void p();d.status=1;const m=un("link",a.dom);hr(m,{rel:"stylesheet",type:"text/css",id:d.id}),t.contentCssCors&&mr(m,"crossOrigin","anonymous"),t.referrerPolicy&&mr(m,"referrerpolicy",t.referrerPolicy),s=m.dom,s.onload=f,s.onerror=p,i(m),mr(m,"href",c)}),d=e=>{const t=ln._addCacheSuffix(e);Se(r,t).each(e=>{0===--e.count&&(delete r[t],s(e.id))})};return{load:c,loadRawCss:(e,t)=>{const n=l(e);r[e]=n,n.count++;const o=un("style",a.dom);hr(o,{rel:"stylesheet",type:"text/css",id:n.id,"data-mce-key":e}),o.dom.innerHTML=t,i(o)},loadAll:e=>Promise.allSettled(V(e,e=>c(e).then(T(e)))).then(e=>{const t=G(e,e=>"fulfilled"===e.status);return t.fail.length>0?Promise.reject(V(t.fail,e=>e.reason)):V(t.pass,e=>e.value)}),unload:d,unloadRawCss:e=>{Se(r,e).each(t=>{0===--t.count&&(delete r[e],s(t.id))})},unloadAll:e=>{W(e,e=>{d(e)})},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},Ya=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const r=Yn(t).dom;return j.from(e.get(r)).getOrThunk(()=>{const t=Ga(r,n);return e.set(r,t),t})}}})(),Xa=(e,t)=>x(e)&&(Ea(t,e)||t.isInline(e.nodeName.toLowerCase())),Qa=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),Za=(e,t,n,r)=>{var o;const a=r||t;if(Wo(t)&&Qa(t))return t;const i=t.childNodes;for(let t=i.length-1;t>=0;t--)Za(e,i[t],n,a);if(Wo(t)){const e=t.childNodes;1===e.length&&Qa(e[0])&&(null===(o=t.parentNode)||void 0===o||o.insertBefore(e[0],t))}return(e=>ia(e)||aa(e))(t)||Ea(n,t)||(e=>!!Wo(e)&&e.childNodes.length>0)(t)||((e,t,n)=>ta(e)&&e.data.length>0&&((e,t,n)=>{const r=new Fo(e,t).prev(!1),o=new Fo(e,t).next(!1),a=y(r)||Xa(r,n),i=y(o)||Xa(o,n);return a&&i})(e,t,n))(t,a,n)||e.remove(t),t},Ja=ln.makeMap,ei=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ti=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ni=/[<>&\"\']/g,ri=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,oi={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},ai={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ii={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},si=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let e=0;e<r.length;e+=2){const o=String.fromCharCode(parseInt(r[e],t));if(!ai[o]){const t="&"+r[e+1]+";";n[o]=t,n[t]=o}}return n}},li=si("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ci=(e,t)=>e.replace(t?ei:ti,e=>ai[e]||e),di=(e,t)=>e.replace(t?ei:ti,e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":ai[e]||"&#"+e.charCodeAt(0)+";"),ui=(e,t,n)=>{const r=n||li;return e.replace(t?ei:ti,e=>ai[e]||r[e]||e)},fi={encodeRaw:ci,encodeAllRaw:e=>(""+e).replace(ni,e=>ai[e]||e),encodeNumeric:di,encodeNamed:ui,getEncodeFunc:(e,t)=>{const n=si(t)||li,r=Ja(e.replace(/\+/g,","));return r.named&&r.numeric?(e,t)=>e.replace(t?ei:ti,e=>void 0!==ai[e]?ai[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"):r.named?t?(e,t)=>ui(e,t,n):ui:r.numeric?di:ci},decode:e=>e.replace(ri,(e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):oi[t]||String.fromCharCode(t):ii[e]||li[e]||(e=>{const t=un("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e))},pi=(e,t)=>(e=ln.trim(e))?e.split(t||" "):[],mi=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),hi=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",..."html4"!==e?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],..."html5-strict"!==e?["xml:lang"]:[]]),gi=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),"html5-strict"!==e&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:r}},vi=e=>{const{blockContent:t,phrasingContent:n,flowContent:r}=gi(e),o=e=>Object.freeze(e.split(" "));return Object.freeze({blockContent:o(t),phrasingContent:o(n),flowContent:o(r)})},bi={html4:it(()=>vi("html4")),html5:it(()=>vi("html5")),"html5-strict":it(()=>vi("html5-strict"))},yi=(e,t)=>{const{blockContent:n,phrasingContent:r,flowContent:o}=bi[e]();return"blocks"===t?j.some(n):"phrasing"===t?j.some(r):"flow"===t?j.some(o):j.none()},ki=e=>j.from(/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/.exec(e)).map(e=>({preset:"@"===e[1],name:e[2]})),xi={},Ci=ln.makeMap,wi=ln.each,Si=ln.extend,Ei=ln.explode,_i=(e,t={})=>{const n=Ci(e," ",Ci(e.toUpperCase()," "));return Si(n,t)},Ai=e=>_i("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Ti=(e,t)=>{if(e){const n={};return p(e)&&(e={"*":e}),wi(e,(e,r)=>{n[r]=n[r.toUpperCase()]="map"===t?Ci(e,/[, ]/):Ei(e,/[, ]/)}),n}},Ni=(e={})=>{var t;const n={},r={};let o=[];const a={},i={},s=(t,n,r)=>{const o=e[t];if(o)return Ci(o,/[, ]/,Ci(o.toUpperCase(),/[, ]/));{let e=xi[t];return e||(e=_i(n,r),xi[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const t=hi(e),{phrasingContent:n,flowContent:r}=gi(e),o={},a=(e,t,n)=>{o[e]={attributes:ie(t,T({})),attributesOrder:t,children:ie(n,T({}))}},i=(e,n="",r="")=>{const o=pi(r),i=pi(e);let s=i.length;const l=[...t,...pi(n)];for(;s--;)a(i[s],l.slice(),o)},s=(e,t)=>{const n=pi(e),r=pi(t);let a=n.length;for(;a--;){const e=o[n[a]];for(let t=0,n=r.length;t<n;t++)e.attributes[r[t]]={},e.attributesOrder.push(r[t])}};return"html5-strict"!==e&&(W(pi("acronym applet basefont big font strike tt"),e=>{i(e,"",n)}),W(pi("center dir isindex noframes"),e=>{i(e,"",r)})),i("html","manifest","head body"),i("head","","base command link meta noscript script style title"),i("title hr noscript br"),i("base","href target"),i("link","href rel media hreflang type sizes hreflang"),i("meta","name http-equiv content charset"),i("style","media type scoped"),i("script","src async defer type charset"),i("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),i("dd div","",r),i("address dt caption","","html4"===e?n:r),i("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),i("blockquote","cite",r),i("ol","reversed start type","li"),i("ul","","li"),i("li","value",r),i("dl","","dt dd"),i("a","href target rel media hreflang type","html4"===e?n:r),i("q","cite",n),i("ins del","cite datetime",r),i("img","src sizes srcset alt usemap ismap width height"),i("iframe","src name width height",r),i("embed","src type width height"),i("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),i("param","name value"),i("map","name",[r,"area"].join(" ")),i("area","alt coords shape href target rel media hreflang type"),i("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),i("colgroup","span","col"),i("col","span"),i("tbody thead tfoot","","tr"),i("tr","","td th"),i("td","colspan rowspan headers",r),i("th","colspan rowspan headers scope abbr",r),i("form","accept-charset action autocomplete enctype method name novalidate target",r),i("fieldset","disabled form name",[r,"legend"].join(" ")),i("label","form for",n),i("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),i("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:n),i("select","disabled form multiple name required size","option optgroup"),i("optgroup","disabled label","option"),i("option","disabled label selected value"),i("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),i("menu","type label",[r,"li"].join(" ")),i("noscript","",r),"html4"!==e&&(i("wbr"),i("ruby","",[n,"rt rp"].join(" ")),i("figcaption","",r),i("mark rt rp bdi","",n),i("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),i("canvas","width height",r),i("data","value",n),i("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),i("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),i("picture","","img source"),i("source","src srcset type media sizes"),i("track","kind src srclang label default"),i("datalist","",[n,"option"].join(" ")),i("article section nav aside main header footer","",r),i("hgroup","","h1 h2 h3 h4 h5 h6"),i("figure","",[r,"figcaption"].join(" ")),i("time","datetime",n),i("dialog","open",r),i("command","type label icon disabled checked radiogroup command"),i("output","for form name",n),i("progress","value max",n),i("meter","value min max low high optimum",n),i("details","open",[r,"summary"].join(" ")),i("keygen","autofocus challenge disabled form keytype name"),a("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),"html5-strict"!==e&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==e&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("img","loading"),s("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),"html4"!==e&&W([o.video,o.audio],e=>{delete e.children.audio,delete e.children.video}),W(pi("a form meter progress dfn"),e=>{o[e]&&delete o[e].children[e]}),delete o.caption.children.table,delete o.script,o})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const d=Ti(e.valid_styles),u=Ti(e.invalid_styles,"map"),f=Ti(e.valid_classes,"map"),h=s("whitespace_elements","pre script noscript style textarea video audio iframe object code"),v=s("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),y=s("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),k=s("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),x="td th iframe video audio object script code",C=s("non_empty_elements",x+" pre svg textarea summary",y),w=s("move_caret_before_on_enter_elements",x+" table",y),S="h1 h2 h3 h4 h5 h6",E=s("text_block_elements",S+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),_=s("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",E),A=s("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),N=s("transparent_elements","a ins del canvas map"),O=s("wrap_block_elements","pre "+S);wi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),e=>{i[e]=new RegExp("</"+e+"[^>]*>","gi")});const R=e=>{const t=j.from(n["@"]),r=/[*?+]/;W(((e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ne(pi(t,","),t=>{const r=n.exec(t);if(r){const t=r[1],n=r[2],o=r[3],a=r[4],i=r[5],s={attributes:{},attributesOrder:[]};if(e.each(e=>((e,t)=>{ge(e.attributes,(e,n)=>{t.attributes[n]=e}),t.attributesOrder.push(...e.attributesOrder)})(e,s)),"#"===t?s.paddEmpty=!0:"-"===t&&(s.removeEmpty=!0),"!"===a&&(s.removeEmptyAttrs=!0),i&&((e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:o,attributesOrder:a}=t;W(pi(e,"|"),e=>{const i=n.exec(e);if(i){const e={},n=i[1],s=i[2].replace(/[\\:]:/g,":"),l=i[3],c=i[4];if("!"===n&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(s),e.required=!0),"-"===n)return delete o[s],void a.splice(ln.inArray(a,s),1);if(l&&("="===l?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:s,value:c}),e.defaultValue=c):"~"===l?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:s,value:c}),e.forcedValue=c):"<"===l&&(e.validValues=ln.makeMap(c,"?"))),r.test(s)){const n=e;t.attributePatterns=t.attributePatterns||[],n.pattern=mi(s),t.attributePatterns.push(n)}else o[s]||a.push(s),o[s]=e}})})(i,s),o&&(s.outputName=n),"@"===n){if(!e.isNone())return[];e=j.some(s)}return[o?{name:n,element:s,aliasName:o}:{name:n,element:s}]}return[]})})(t,null!=e?e:""),({name:e,element:t,aliasName:a})=>{if(a&&(n[a]=t),r.test(e)){const n=t;n.pattern=mi(e),o.push(n)}else n[e]=t})},P=e=>{o=[],W(me(n),e=>{delete n[e]}),R(e)},D=(e,t)=>{var o,i;delete xi.text_block_elements,delete xi.block_elements;const s=!!t.extends&&!re(t.extends),c=t.extends;if(r[e]=c?r[c]:{},a[e]=null!=c?c:e,C[e.toUpperCase()]={},C[e]={},s||(_[e.toUpperCase()]={},_[e]={}),c&&!n[e]&&n[c]){const t=(e=>{const t=e=>g(e)?V(e,t):(e=>m(e)&&e.source&&"[object RegExp]"===Object.prototype.toString.call(e))(e)?new RegExp(e.source,e.flags):m(e)?ve(e,t):e;return t(e)})(n[c]);delete t.removeEmptyAttrs,delete t.removeEmpty,n[e]=t}else n[e]={attributesOrder:[],attributes:{}};if(g(t.attributes)){const r=e=>{a.attributesOrder.push(e),a.attributes[e]={}},a=null!==(o=n[e])&&void 0!==o?o:{};delete a.attributesDefault,delete a.attributesForced,delete a.attributePatterns,delete a.attributesRequired,a.attributesOrder=[],a.attributes={},W(t.attributes,e=>{const t=hi(l);ki(e).each(({preset:e,name:n})=>{e?"global"===n&&W(t,r):r(n)})}),n[e]=a}if(b(t.padEmpty)){const r=null!==(i=n[e])&&void 0!==i?i:{};r.paddEmpty=t.padEmpty,n[e]=r}if(g(t.children)){const n={},o=e=>{n[e]={}},a=e=>{yi(l,e).each(e=>{W(e,o)})};W(t.children,e=>{ki(e).each(({preset:e,name:t})=>{e?a(t):o(t)})}),r[e]=n}c&&ge(r,(t,n)=>{t[c]&&(r[n]=t=Si({},r[n]),t[e]=t[c])})},M=e=>{m(e)?ge(e,(e,t)=>D(t,e)):p(e)&&(e=>{W((e=>{const t=/^(~)?(.+)$/;return ne(pi(e,","),e=>{const n=t.exec(e);return n?[{cloneName:"~"===n[1]?"span":"div",name:n[2]}]:[]})})(null!=e?e:""),({name:e,cloneName:t})=>{D(e,{extends:t})})})(e)},B=e=>{W((e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ne(pi(e,","),e=>{const n=t.exec(e);if(n){const e=n[1],t=e?(e=>"-"===e?"remove":"add")(e):"replace";return[{operation:t,name:n[2],validChildren:ne(pi(n[3],"|"),e=>ki(e).toArray())}]}return[]})})(null!=e?e:""),({operation:e,name:t,validChildren:n})=>{const o="replace"===e?{"#comment":{}}:r[t],a=t=>{"remove"===e?delete o[t]:o[t]={}};W(n,({preset:e,name:t})=>{e?(e=>{yi(l,e).each(e=>{W(e,a)})})(t):a(t)}),r[t]=o})},L=e=>{const t=n[e];if(t)return t;let r=o.length;for(;r--;){const t=o[r];if(t.pattern.test(e))return t}},I=T(d),F=T(u),U=T(f),H=T(k),z=T(_),$=T(E),q=T(A),K=T(Object.seal(y)),G=T(v),Y=T(C),X=T(w),Q=T(h),Z=T(N),J=T(O),ee=T(Object.seal(i)),te=(e,t)=>{const n=L(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}}return!1},re=e=>Ee(z(),e),oe=e=>!Ye(e,"#")&&te(e)&&!re(e),ae=T(a);return e.valid_elements?(P(e.valid_elements),wi(c,(e,t)=>{r[t]=e.children})):(wi(c,(e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},r[t]=e.children}),wi(pi("strong/b em/i"),e=>{const t=pi(e,"/");n[t[1]].outputName=t[0]}),wi(A,(t,r)=>{n[r]&&(e.padd_empty_block_inline_children&&(n[r].paddInEmptyBlock=!0),n[r].removeEmpty=!0)}),wi(pi("ol ul blockquote a table tbody"),e=>{n[e]&&(n[e].removeEmpty=!0)}),wi(pi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),e=>{n[e]&&(n[e].paddEmpty=!0)}),wi(pi("span"),e=>{n[e].removeEmptyAttrs=!0})),delete n.svg,M(e.custom_elements),B(e.valid_children),R(e.extended_valid_elements),B("+ol[ul|ol],+ul[ul|ol]"),wi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(e,t)=>{n[t]&&(n[t].parentsRequired=pi(e))}),e.invalid_elements&&wi(Ei(e.invalid_elements),e=>{n[e]&&delete n[e]}),L("span")||R("span[!data-mce-type|*]"),{type:l,children:r,elements:n,getValidStyles:I,getValidClasses:U,getBlockElements:z,getInvalidStyles:F,getVoidElements:K,getTextBlockElements:$,getTextInlineElements:q,getBoolAttrs:H,getElementRule:L,getSelfClosingElements:G,getNonEmptyElements:Y,getMoveCaretBeforeOnEnterElements:X,getWhitespaceElements:Q,getTransparentElements:Z,getSpecialElements:ee,isValidChild:(e,t)=>{const n=r[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:te,isBlock:re,isInline:oe,isWrapper:e=>Ee(J(),e)||oe(e),getCustomElements:ae,addValidElements:R,setValidElements:P,addCustomElements:M,addValidChildren:B}},Oi=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Ri=e=>(e=>{return{value:(t=e,Ke(t,"#").toUpperCase())};var t})(Oi(e.red)+Oi(e.green)+Oi(e.blue)),Pi=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Di=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Mi=(e,t,n,r)=>((e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}))(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseFloat(r)),Bi=e=>Pi.test(e)?"rgb":Di.test(e)?"rgba":"other",Li=e=>{const t=Pi.exec(e);if(null!==t)return j.some(Mi(t[1],t[2],t[3],"1"));const n=Di.exec(e);return null!==n?j.some(Mi(n[1],n[2],n[3],n[4])):j.none()},Ii=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,ji=e=>Li(e).map(Ri).map(e=>"#"+e.value).getOr(e),Fi=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,a={};let i,s;const l=st;t&&(i=t.getValidStyles(),s=t.getInvalidStyles());const c="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<c.length;e++)a[c[e]]=l+e,a[l+e]=c[e];const d={parse:t=>{const i={};let s=!1;const c=e.url_converter,u=e.url_converter_scope||d,f=(e,t,n)=>{const r=i[e+"-top"+t];if(!r)return;const o=i[e+"-right"+t];if(!o)return;const a=i[e+"-bottom"+t];if(!a)return;const s=i[e+"-left"+t];if(!s)return;const l=[r,o,a,s];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&n||(i[e+t]=-1===c?l[0]:l.join(" "),delete i[e+"-top"+t],delete i[e+"-right"+t],delete i[e+"-bottom"+t],delete i[e+"-left"+t])},p=e=>{const t=i[e];if(!t)return;const n=t.indexOf(",")>-1?[t]:t.split(" ");let r=n.length;for(;r--;)if(n[r]!==n[0])return!1;return i[e]=n[0],!0},m=e=>(s=!0,a[e]),h=(e,t)=>(s&&(e=e.replace(/\uFEFF[0-9]/g,e=>a[e])),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),g=e=>String.fromCharCode(parseInt(e.slice(1),16)),v=e=>e.replace(/\\[0-9a-f]+/gi,g),b=(t,n,r,o,a,i)=>{if(a=a||i)return"'"+(a=h(a)).replace(/\'/g,"\\'")+"'";if(n=h(n||r||o||""),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return c&&(n=c.call(u,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){let a;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,m).replace(/\"[^\"]+\"|\'[^\']+\'/g,e=>e.replace(/[;:]/g,m));a=r.exec(t);){r.lastIndex=a.index+a[0].length;let t=a[1].replace(o,"").toLowerCase(),c=a[2].replace(o,"");if(t&&c){if(t=v(t),c=v(c),-1!==t.indexOf(l)||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===t&&"700"===c?c="bold":"color"!==t&&"background-color"!==t||(c=c.toLowerCase()),"rgb"===Bi(c)&&Li(c).each(e=>{c=ji(Ii(e)).toLowerCase()}),c=c.replace(n,b),i[t]=s?h(c,!0):c}}f("border","",!0),f("border","-width"),f("border","-color"),f("border","-style"),f("padding",""),f("margin",""),k="border-style",x="border-color",p(y="border-width")&&p(k)&&p(x)&&(i.border=i[y]+" "+i[k]+" "+i[x],delete i[y],delete i[k],delete i[x]),"medium none"===i.border&&delete i.border,"none"===i["border-image"]&&delete i["border-image"]}var y,k,x;return i},serialize:(e,t)=>{let n="";const r=(t,r)=>{const o=r[t];if(o)for(let t=0,r=o.length;t<r;t++){const r=o[t],a=e[r];a&&(n+=(n.length>0?" ":"")+r+": "+a+";")}};return t&&i?(r("*",i),r(t,i)):ge(e,(e,r)=>{e&&((e,t)=>{if(!s||!t)return!0;let n=s["*"];return!(n&&n[e]||(n=s[t],n&&n[e]))})(r,t)&&(n+=(n.length>0?" ":"")+r+": "+e+";")}),n}};return d},Ui={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Hi=(e,t)=>{const n=null!=t?t:{};for(const t in e)Ee(Ui,t)||(n[t]=e[t]);return x(e.composedPath)&&(n.composedPath=()=>e.composedPath()),x(e.getModifierState)&&(n.getModifierState=t=>e.getModifierState(t)),x(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},zi=(e,t,n,r)=>{var o;const a=Hi(t,r);return a.type=e,k(a.target)&&(a.target=null!==(o=a.srcElement)&&void 0!==o?o:n),(e=>k(e.preventDefault)||(e=>e instanceof Event||C(e.initEvent))(e))(t)&&(a.preventDefault=()=>{a.defaultPrevented=!0,a.isDefaultPrevented=I,C(t.preventDefault)&&t.preventDefault()},a.stopPropagation=()=>{a.cancelBubble=!0,a.isPropagationStopped=I,C(t.stopPropagation)&&t.stopPropagation()},a.stopImmediatePropagation=()=>{a.isImmediatePropagationStopped=I,a.stopPropagation()},(e=>e.isDefaultPrevented===I||e.isDefaultPrevented===L)(a)||(a.isDefaultPrevented=!0===a.defaultPrevented?I:L,a.isPropagationStopped=!0===a.cancelBubble?I:L,a.isImmediatePropagationStopped=L)),a},$i=/^(?:mouse|contextmenu)|click/,qi=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},Vi=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},Wi=(e,t)=>{const n=zi(e.type,e,document,t);if((e=>x(e)&&$i.test(e.type))(e)&&y(e.pageX)&&!y(e.clientX)){const t=n.target.ownerDocument||document,r=t.documentElement,o=t.body,a=n;a.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),a.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}return n},Ki=(e,t,n)=>{const r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);const a=()=>{Vi(e,"DOMContentLoaded",a),Vi(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?a():qi(e,"DOMContentLoaded",a),n.domLoaded||qi(e,"load",a)};class Gi{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,r){const o=this;let a;const i=window,s=e=>{o.executeHandlers(Wi(e||i.event),l)};if(!e||ta(e)||oa(e))return n;let l;e[o.expando]?l=e[o.expando]:(l=o.count++,e[o.expando]=l,o.events[l]={}),r=r||e;const c=t.split(" ");let d=c.length;for(;d--;){let t=c[d],u=s,f=!1,p=!1;"DOMContentLoaded"===t&&(t="ready"),o.domLoaded&&"ready"===t&&"complete"===e.readyState?n.call(r,Wi({type:t})):(o.hasFocusIn||"focusin"!==t&&"focusout"!==t||(f=!0,p="focusin"===t?"focus":"blur",u=e=>{const t=Wi(e||i.event);t.type="focus"===t.type?"focusin":"focusout",o.executeHandlers(t,l)}),a=o.events[l][t],a?"ready"===t&&o.domLoaded?n(Wi({type:t})):a.push({func:n,scope:r}):(o.events[l][t]=a=[{func:n,scope:r}],a.fakeName=p,a.capture=f,a.nativeHandler=u,"ready"===t?Ki(e,u,o):qi(e,p||t,u,f)))}return e=a=null,n}unbind(e,t,n){if(!e||ta(e)||oa(e))return this;const r=e[this.expando];if(r){let o=this.events[r];if(t){const r=t.split(" ");let a=r.length;for(;a--;){const t=r[a],i=o[t];if(i){if(n){let e=i.length;for(;e--;)if(i[e].func===n){const n=i.nativeHandler,r=i.fakeName,a=i.capture,s=i.slice(0,e).concat(i.slice(e+1));s.nativeHandler=n,s.fakeName=r,s.capture=a,o[t]=s}}n&&0!==i.length||(delete o[t],Vi(e,i.fakeName||t,i.nativeHandler,i.capture))}}}else ge(o,(t,n)=>{Vi(e,t.fakeName||n,t.nativeHandler,t.capture)}),o={};for(const e in o)if(Ee(o,e))return this;delete this.events[r];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||ta(e)||oa(e))return this;const r=Wi({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(r,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return this}clean(e){if(!e||ta(e)||oa(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let n=t.length;for(;n--;)(e=t[n])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],r=n&&n[e.type];if(r)for(let t=0,n=r.length;t<n;t++){const n=r[t];if(n&&!1===n.func.call(n.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}Gi.Event=new Gi;const Yi=ln.each,Xi=ln.grep,Qi="data-mce-style",Zi=ln.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ji=(e,t,n)=>{k(n)||""===n?yr(e,t):mr(e,t,n)},es=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),ts=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const e=o.nodeType;(!t||!ta(o)||e!==r&&o.data.length)&&(n++,r=e)}return n},ns=(e,t)=>{const n=gr(t,"style"),r=e.serialize(e.parse(n),Sn(t));Ji(t,Qi,r)},rs=(e,t,n)=>{const r=es(t);k(n)||""===n?Fr(e,r):Dr(e,r,((e,t)=>w(e)?Ee(Zi,t)?e+"":e+"px":e)(n,r))},os=(e,t={})=>{const n={},r=window,o={};let a=0;const i=Ya.forElement(pn(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),s=[],l=t.schema?t.schema:Ni({}),c=Fi({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),d=t.ownEvents?new Gi:Gi.Event,u=l.getBlockElements(),f=t=>t&&e&&p(t)?e.getElementById(t):t,m=e=>{const t=f(e);return x(t)?pn(t):null},v=(e,t,n="")=>{let r;const o=m(e);if(x(o)&&Tn(o)){const e=Y[t];r=e&&e.get?e.get(o.dom,t):gr(o,t)}return x(r)?r:n},b=e=>{const t=f(e);return k(t)?[]:t.attributes},y=(e,n,r)=>{P(e,e=>{if(Wo(e)){const o=pn(e),a=""===r?null:r,i=gr(o,n),s=Y[n];s&&s.set?s.set(o.dom,a,n):Ji(o,n,a),i!==a&&t.onSetAttrib&&t.onSetAttrib({attrElm:o.dom,attrName:n,attrValue:a})}})},w=()=>t.root_element||e.body,S=(t,n)=>((e,t,n)=>{let r=0,o=0;const a=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Br(pn(e),"position")){const n=t.getBoundingClientRect();return r=n.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,o=n.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop,{x:r,y:o}}let i=t;for(;i&&i!==n&&i.nodeType&&!Ka(i,n);){const e=i;r+=e.offsetLeft||0,o+=e.offsetTop||0,i=e.offsetParent}for(i=t.parentNode;i&&i!==n&&i.nodeType&&!Ka(i,n);)r-=i.scrollLeft||0,o-=i.scrollTop||0,i=i.parentNode;o+=(e=>Va.isFirefox()&&"table"===Sn(e)?Wa($n(e)).filter(e=>"caption"===Sn(e)).bind(e=>Wa(zn(e)).map(t=>{const n=t.dom.offsetTop,r=e.dom.offsetTop,o=e.dom.offsetHeight;return n<=r?-o:0})).getOr(0):0)(pn(t))}return{x:r,y:o}})(e.body,f(t),n),_=(e,t,n)=>{const r=f(e);var o;if(!k(r)&&(Ko(r)||Wo(o=r)&&"http://www.w3.org/2000/svg"===o.namespaceURI))return n?Br(pn(r),es(t)):("float"===(t=t.replace(/-(\D)/g,(e,t)=>t.toUpperCase()))&&(t="cssFloat"),r.style?r.style[t]:void 0)},A=e=>{const t=f(e);if(!t)return{w:0,h:0};let n=_(t,"width"),r=_(t,"height");return n&&-1!==n.indexOf("px")||(n="0"),r&&-1!==r.indexOf("px")||(r="0"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(r,10)||t.offsetHeight||t.clientHeight}},N=(e,t)=>{if(!e)return!1;const n=g(e)?e:[e];return q(n,e=>yn(pn(e),t))},O=(e,t,n,r)=>{const o=[];let a=f(e);r=void 0===r;const i=n||("BODY"!==w().nodeName?w().parentNode:null);if(p(t))if("*"===t)t=Wo;else{const e=t;t=t=>N(t,e)}for(;a&&!(a===i||k(a.nodeType)||aa(a)||ia(a));){if(!t||t(a)){if(!r)return[a];o.push(a)}a=a.parentNode}return r?o:null},R=(e,t,n)=>{let r=t;if(e){p(t)&&(r=e=>N(e,t));for(let t=e[n];t;t=t[n])if(C(r)&&r(t))return t}return null},P=function(e,t,n){const r=null!=n?n:this;if(g(e)){const n=[];return Yi(e,(e,o)=>{const a=f(e);a&&n.push(t.call(r,a,o))}),n}{const n=f(e);return!!n&&t.call(r,n)}},D=(e,t)=>{P(e,e=>{ge(t,(t,n)=>{y(e,n,t)})})},M=(e,t)=>{P(e,e=>{const n=pn(e);Nr(n,t)})},B=(t,n,r,o,a)=>P(t,t=>{const i=p(n)?e.createElement(n):n;return x(r)&&D(i,r),o&&(!p(o)&&o.nodeType?i.appendChild(o):p(o)&&M(i,o)),a?i:t.appendChild(i)}),L=(t,n,r)=>B(e.createElement(t),t,n,r,!0),I=fi.encodeAllRaw,j=(e,t)=>P(e,e=>{const n=pn(e);return t&&W($n(n),e=>{Nn(e)&&0===e.dom.length?Cr(e):sr(n,e)}),Cr(n),n.dom}),F=(e,t,n)=>{P(e,e=>{if(Wo(e)){const r=pn(e),o=t.split(" ");W(o,e=>{x(n)?(n?uo:po)(r,e):((e,t)=>{const n=io(e)?e.dom.classList.toggle(t):((e,t)=>$(so(e),t)?co(e,t):lo(e,t))(e,t);fo(e)})(r,e)})}})},U=(e,t,n)=>P(t,r=>{var o;const a=g(t)?e.cloneNode(!0):e;return n&&Yi(Xi(r.childNodes),e=>{a.appendChild(e)}),null===(o=r.parentNode)||void 0===o||o.replaceChild(a,r),r}),H=()=>e.createRange(),z=(n,o,a,i)=>{if(g(n)){let e=n.length;const t=[];for(;e--;)t[e]=z(n[e],o,a,i);return t}return!t.collect||n!==e&&n!==r||s.push([n,o,a,i]),d.bind(n,o,a,i||G)},V=(t,n,o)=>{if(g(t)){let e=t.length;const r=[];for(;e--;)r[e]=V(t[e],n,o);return r}if(s.length>0&&(t===e||t===r)){let e=s.length;for(;e--;){const[r,a,i]=s[e];t!==r||n&&n!==a||o&&o!==i||d.unbind(r,a,i)}}return d.unbind(t,n,o)},K=e=>{if(e&&Ko(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},G={doc:e,settings:t,win:r,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:i,boundEvents:s,styles:c,schema:l,events:d,isBlock:e=>p(e)?Ee(u,e):Wo(e)&&(Ee(u,e.nodeName)||za(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:w,getViewPort:e=>{const t=jo(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=f(e),n=S(t),r=A(t);return{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:A,getParent:(e,t,n)=>{const r=O(e,t,n,!1);return r&&r.length>0?r[0]:null},getParents:O,get:f,getNext:(e,t)=>R(e,t,"nextSibling"),getPrev:(e,t)=>R(e,t,"previousSibling"),select:(n,r)=>{var o,a;const i=null!==(a=null!==(o=f(r))&&void 0!==o?o:t.root_element)&&void 0!==a?a:e;return C(i.querySelectorAll)?ue(i.querySelectorAll(n)):[]},is:N,add:B,create:L,createHTML:(e,t,n="")=>{let r="<"+e;for(const e in t)_e(t,e)&&(r+=" "+e+'="'+I(t[e])+'"');return nt(n)&&Ee(l.getVoidElements(),e)?r+" />":r+">"+n+"</"+e+">"},createFragment:t=>{const n=e.createElement("div"),r=e.createDocumentFragment();let o;for(r.appendChild(n),t&&(n.innerHTML=t);o=n.firstChild;)r.appendChild(o);return r.removeChild(n),r},remove:j,setStyle:(e,n,r)=>{P(e,e=>{const o=pn(e);rs(o,n,r),t.update_styles&&ns(c,o)})},getStyle:_,setStyles:(e,n)=>{P(e,e=>{const r=pn(e);ge(n,(e,t)=>{rs(r,t,e)}),t.update_styles&&ns(c,r)})},removeAllAttribs:e=>P(e,e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))}),setAttrib:y,setAttribs:D,getAttrib:v,getPos:S,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if(G!==os.DOM&&e===document){if(n[t])return;n[t]=!0}let r=e.getElementById("mceDefaultStyles");if(!r){r=e.createElement("style"),r.id="mceDefaultStyles",r.type="text/css";const t=e.head;t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),W(e.split(","),e=>{o[e]=!0,i.load(e).catch(E)})},addClass:(e,t)=>{F(e,t,!0)},removeClass:(e,t)=>{F(e,t,!1)},hasClass:(e,t)=>{const n=m(e),r=t.split(" ");return x(n)&&re(r,e=>mo(n,e))},toggleClass:F,show:e=>{P(e,e=>Fr(pn(e),"display"))},hide:e=>{P(e,e=>Dr(pn(e),"display","none"))},isHidden:e=>{const t=m(e);return x(t)&&Fe(Ir(t,"display"),"none")},uniqueId:e=>(e||"mce_")+a++,setHTML:M,getOuterHTML:e=>{const t=m(e);return x(t)?Wo(t.dom)?t.dom.outerHTML:(e=>{const t=un("div"),n=pn(e.dom.cloneNode(!0));return dr(t,n),Tr(t)})(t):""},setOuterHTML:(e,t)=>{P(e,e=>{Wo(e)&&(e.outerHTML=t)})},decode:fi.decode,encode:I,insertAfter:(e,t)=>{const n=f(t);return P(e,e=>{const t=null==n?void 0:n.parentNode,r=null==n?void 0:n.nextSibling;return t&&(r?t.insertBefore(e,r):t.appendChild(e)),e})},replace:U,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=L(t);return Yi(b(e),t=>{y(n,t.nodeName,v(e,t.nodeName))}),U(n,e,!0),n}return e},findCommonAncestor:(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},run:P,getAttribs:b,isEmpty:(e,t,n)=>{if(h(t)){const r=e=>{const n=e.nodeName.toLowerCase();return Boolean(t[n])};return wa(l,e,{...n,isContent:r})}return wa(l,e,n)},createRng:H,nodeIndex:ts,split:(e,t,n)=>{let r,o,a=H();if(e&&t&&e.parentNode&&t.parentNode){const i=e.parentNode;return a.setStart(i,ts(e)),a.setEnd(t.parentNode,ts(t)),r=a.extractContents(),a=H(),a.setStart(t.parentNode,ts(t)+1),a.setEnd(i,ts(e)+1),o=a.extractContents(),i.insertBefore(Za(G,r,l),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Za(G,o,l),e),j(e),n||t}},bind:z,unbind:V,fire:(e,t,n)=>d.dispatch(e,t,n),dispatch:(e,t,n)=>d.dispatch(e,t,n),getContentEditable:K,getContentEditableParent:e=>{const t=w();let n=null;for(let r=e;r&&r!==t&&(n=K(r),null===n);r=r.parentNode);return n},isEditable:e=>{if(x(e)){const t=Wo(e)?e:e.parentElement;return x(t)&&Ko(t)&&ho(pn(t))}return!1},destroy:()=>{if(s.length>0){let e=s.length;for(;e--;){const[t,n,r]=s[e];d.unbind(t,n,r)}}ge(o,(e,t)=>{i.unload(t),delete o[t]})},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Y=((e,t,n)=>{const r=t.keep_values,o={set:(e,r,o)=>{const a=pn(e);C(t.url_converter)&&x(r)&&(r=t.url_converter.call(t.url_converter_scope||n(),String(r),o,e)),Ji(a,"data-mce-"+o,r),Ji(a,o,r)},get:(e,t)=>{const n=pn(e);return gr(n,"data-mce-"+t)||gr(n,t)}},a={style:{set:(t,n)=>{const o=pn(t);r&&Ji(o,Qi,n),yr(o,"style"),p(n)&&Mr(o,e.parse(n))},get:t=>{const n=pn(t),r=gr(n,Qi)||gr(n,"style");return e.serialize(e.parse(r),Sn(n))}}};return r&&(a.href=a.src=o),a})(c,t,T(G));return G};os.DOM=os(document),os.nodeIndex=ts;const as=os.DOM;class is{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise((t,n)=>{const r=as;let o;const a=()=>{r.remove(i),o&&(o.onerror=o.onload=o=null)},i=r.uniqueId();o=document.createElement("script"),o.id=i,o.type="text/javascript",o.src=ln._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=()=>{a(),t()},o.onerror=()=>{a(),n("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)})}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise((n,r)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:r})})}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{Se(t.scriptLoadedCallbacks,n).each(t=>{W(t,t=>t[e](n))}),delete t.scriptLoadedCallbacks[n]},r=e=>{const t=Y(e,e=>"rejected"===e.status);return t.length>0?Promise.reject(ne(t,({reason:e})=>g(e)?e:[e])):Promise.resolve()},o=e=>Promise.allSettled(V(e,e=>2===t.states[e]?(n("resolve",e),Promise.resolve()):3===t.states[e]?(n("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then(()=>{t.states[e]=2,n("resolve",e);const a=t.queue;return a.length>0?(t.queue=[],o(a).then(r)):Promise.resolve()},()=>(t.states[e]=3,n("reject",e),Promise.reject(e)))))),a=e=>(t.loading=!0,o(e).then(e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return j.from(n).each(B),r(e)})),i=dt(e);return t.loading?new Promise((e,n)=>{t.queueLoadedCallbacks.push(()=>{a(i).then(e,n)})}):a(i)}}is.ScriptLoader=new is;const ss={},ls=Te("en"),cs=()=>Se(ss,ls.get()),ds={getData:()=>ve(ss,e=>({...e})),setCode:e=>{e&&ls.set(e)},getCode:()=>ls.get(),add:(e,t)=>{let n=ss[e];n||(ss[e]=n={});const r=V(me(t),e=>e.toLowerCase());ge(t,(e,o)=>{const a=o.toLowerCase();a!==o&&((e,t)=>{const n=e.indexOf(t);return-1!==n&&e.indexOf(t,n+1)>n})(r,a)?(Ee(t,a)||(n[a]=e),n[o]=e):n[a]=e})},translate:e=>{const t=cs().getOr({}),n=e=>C(e)?Object.prototype.toString.call(e):r(e)?"":""+e,r=e=>""===e||null==e,o=e=>{const r=n(e);return Ee(t,r)?n(t[r]):Se(t,r.toLowerCase()).map(n).getOr(r)},a=e=>e.replace(/{context:\w+}$/,"");if(r(e))return"";if(m(i=e)&&Ee(i,"raw"))return n(e.raw);var i;if((e=>g(e)&&e.length>1)(e)){const t=e.slice(1);return a(o(e[0]).replace(/\{([0-9]+)\}/g,(e,r)=>Ee(t,r)?n(t[r]):e))}return a(o(e))},isRtl:()=>cs().bind(e=>Se(e,"_dir")).exists(e=>"rtl"===e),hasCode:e=>Ee(ss,e)},us=()=>{const e=[],t={},n={},r=[],o=(e,t)=>{const n=Y(r,n=>n.name===e&&n.state===t);W(n,e=>e.resolve())},a=e=>Ee(t,e),i=(e,n)=>{const r=ds.getCode();!r||n&&-1===(","+(n||"")+",").indexOf(","+r+",")||is.ScriptLoader.add(t[e]+"/langs/"+r+".js")},s=(e,t="added")=>"added"===t&&(e=>Ee(n,e))(e)||"loaded"===t&&a(e)?Promise.resolve():new Promise(n=>{r.push({name:e,state:t,resolve:n})});return{items:e,urls:t,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==us.languageLoad&&(a(e)?i(e,t):s(e,"loaded").then(()=>i(e,t)))},add:(t,r)=>(e.push(r),n[t]={instance:r},o(t,"added"),r),remove:e=>{delete t[e],delete n[e]},createUrl:(e,t)=>p(t)?p(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,r)=>{if(t[e])return Promise.resolve();let a=p(r)?r:r.prefix+r.resource+r.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=us.baseURL+"/"+a),t[e]=a.substring(0,a.lastIndexOf("/"));const i=()=>(o(e,"loaded"),Promise.resolve());return n[e]?i():is.ScriptLoader.add(a).then(i)},waitFor:s}};us.languageLoad=!0,us.baseURL="",us.PluginManager=us(),us.ThemeManager=us(),us.ModelManager=us();const fs=T("mce-annotation"),ps=T("data-mce-annotation"),ms=T("data-mce-annotation-uid"),hs=T("data-mce-annotation-active"),gs=T("data-mce-annotation-classes"),vs=T("data-mce-annotation-attrs"),bs=e=>t=>xn(t,e),ys=(e,t)=>{const n=e.selection.getRng(),r=pn(n.startContainer),o=pn(e.getBody()),a=t.fold(()=>"."+fs(),e=>`[${ps()}="${e}"]`),i=qn(r,n.startOffset).getOr(r);return ao(i,a,bs(o)).bind(t=>vr(t,`${ms()}`).bind(n=>vr(t,`${ps()}`).map(t=>{const r=xs(e,n);return{uid:n,name:t,elements:r}})))},ks=(e,t)=>br(e,"data-mce-bogus")||((e,t,n)=>ro(e,'[data-mce-bogus="all"]',n).isSome())(e,0,bs(t)),xs=(e,t)=>{const n=pn(e.getBody()),r=yo(n,`[${ms()}="${t}"]`);return Y(r,e=>!ks(e,n))},Cs=(e,t)=>{const n=pn(e.getBody()),r=yo(n,`[${ps()}="${t}"]`),o={};return W(r,e=>{if(!ks(e,n)){const t=gr(e,ms()),n=Se(o,t).getOr([]);o[t]=n.concat([e])}}),o},ws=(e,t,n=L)=>{const r=new Fo(e,t),o=e=>{let t;do{t=r[e]()}while(t&&!ta(t)&&!n(t));return j.from(t).filter(ta)};return{current:()=>j.from(r.current()).filter(ta),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},Ss=(e,t)=>{const n=t||(t=>e.isBlock(t)||sa(t)||ua(t)),r=(e,t,n,o)=>{if(ta(e)){const n=o(e,t,e.data);if(-1!==n)return j.some({container:e,offset:n})}return n().bind(e=>r(e.container,e.offset,n,o))};return{backwards:(t,o,a,i)=>{const s=ws(t,null!=i?i:e.getRoot(),n);return r(t,o,()=>s.prev().map(e=>({container:e,offset:e.length})),a).getOrNull()},forwards:(t,o,a,i)=>{const s=ws(t,null!=i?i:e.getRoot(),n);return r(t,o,()=>s.next().map(e=>({container:e,offset:0})),a).getOrNull()}}},Es=e=>{let t;return n=>(t=t||ie(e,I),Ee(t,Sn(n)))},_s=e=>Tn(e)&&"br"===Sn(e),As=Es(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Ts=Es(["ul","ol","dl"]),Ns=Es(["li","dd","dt"]),Os=Es(["thead","tbody","tfoot"]),Rs=Es(["td","th"]),Ps=Es(["pre","script","textarea","style"]),Ds=()=>{const e=un("br");return mr(e,"data-mce-bogus","1"),e},Ms=e=>{xr(e),dr(e,Ds())},Bs=st,Ls=ct,Is=e=>e.replace(/\uFEFF/g,""),js=Wo,Fs=ta,Us=e=>(Fs(e)&&(e=e.parentNode),js(e)&&e.hasAttribute("data-mce-caret")),Hs=e=>Fs(e)&&Ls(e.data),zs=e=>Us(e)||Hs(e),$s=e=>e.firstChild!==e.lastChild||!sa(e.firstChild),qs=e=>{const t=e.container();return!!ta(t)&&(t.data.charAt(e.offset())===Bs||e.isAtStart()&&Hs(t.previousSibling))},Vs=e=>{const t=e.container();return!!ta(t)&&(t.data.charAt(e.offset()-1)===Bs||e.isAtEnd()&&Hs(t.nextSibling))},Ws=e=>Fs(e)&&e.data[0]===Bs,Ks=e=>Fs(e)&&e.data[e.data.length-1]===Bs,Gs=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];Qo(r)&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ys=e=>Us(e.startContainer),Xs=Math.round,Qs=e=>e?{left:Xs(e.left),top:Xs(e.top),bottom:Xs(e.bottom),right:Xs(e.right),width:Xs(e.width),height:Xs(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Zs=(e,t)=>(e=Qs(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Js=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,el=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Js(t.top-e.bottom,e,t)},tl=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&Js(t.bottom-e.top,e,t),nl=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-o)*(n-o))},rl=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ol=(e,t)=>{if(Wo(e)&&e.hasChildNodes()){const n=e.childNodes,r=((e,t,n)=>Math.min(Math.max(e,0),n))(t,0,n.length-1);return n[r]}return e},al=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),il=e=>p(e)&&e.charCodeAt(0)>=768&&al.test(e),sl=da,ll=ua,cl=sa,dl=ta,ul=Yo(["script","style","textarea"]),fl=Yo(["img","input","textarea","hr","iframe","video","audio","object","embed"]),pl=Yo(["table"]),ml=zs,hl=e=>!ml(e)&&(dl(e)?!ul(e.parentNode):fl(e)||cl(e)||pl(e)||gl(e)),gl=e=>!(e=>Wo(e)&&"true"===e.getAttribute("unselectable"))(e)&&ll(e),vl=(e,t)=>hl(e)&&((e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(gl(n))return!1;if(sl(n))return!0}return!0})(e,t),bl=Wo,yl=hl,kl=Xo("display","block table"),xl=Xo("float","left right"),Cl=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(bl,yl,P(xl)),wl=P(Xo("white-space","pre pre-line pre-wrap")),Sl=ta,El=sa,_l=os.nodeIndex,Al=(e,t)=>t<0&&Wo(e)&&e.hasChildNodes()?void 0:ol(e,t),Tl=e=>e?e.createRange():os.DOM.createRng(),Nl=e=>p(e)&&/[\r\n\t ]/.test(e),Ol=e=>!!e.setStart&&!!e.setEnd,Rl=e=>{const t=e.startContainer,n=e.startOffset;if(Nl(e.toString())&&wl(t.parentNode)&&ta(t)){const e=t.data;if(Nl(e[n-1])||Nl(e[n+1]))return!0}return!1},Pl=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Dl=e=>{var t;let n;const r=e.getClientRects();return n=r.length>0?Qs(r[0]):Qs(e.getBoundingClientRect()),!Ol(e)&&El(e)&&Pl(n)?(e=>{const t=e.ownerDocument,n=Tl(t),r=t.createTextNode(lt),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const a=Qs(n.getBoundingClientRect());return o.removeChild(r),a})(e):Pl(n)&&Ol(e)&&null!==(t=(e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&ta(n)&&0===r&&1===o){const t=e.cloneRange();return t.setEndAfter(n),Dl(t)}return null})(e))&&void 0!==t?t:n},Ml=(e,t)=>{const n=Zs(e,t);return n.width=1,n.right=n.left+1,n},Bl=(e,t,n)=>{const r=()=>(n||(n=(e=>{const t=[],n=e=>{var n,r;0!==e.height&&(t.length>0&&(n=e,r=t[t.length-1],n.left===r.left&&n.top===r.top&&n.bottom===r.bottom&&n.right===r.right)||t.push(e))},r=(e,t)=>{const r=Tl(e.ownerDocument);if(t<e.data.length){if(il(e.data[t]))return;if(il(e.data[t-1])&&(r.setStart(e,t),r.setEnd(e,t+1),!Rl(r)))return void n(Ml(Dl(r),!1))}t>0&&(r.setStart(e,t-1),r.setEnd(e,t),Rl(r)||n(Ml(Dl(r),!1))),t<e.data.length&&(r.setStart(e,t),r.setEnd(e,t+1),Rl(r)||n(Ml(Dl(r),!0)))},o=e.container(),a=e.offset();if(Sl(o))return r(o,a),t;if(bl(o))if(e.isAtEnd()){const e=Al(o,a);Sl(e)&&r(e,e.data.length),Cl(e)&&!El(e)&&n(Ml(Dl(e),!1))}else{const i=Al(o,a);if(Sl(i)&&r(i,0),Cl(i)&&e.isAtEnd())return n(Ml(Dl(i),!1)),t;const s=Al(e.container(),e.offset()-1);Cl(s)&&!El(s)&&(kl(s)||kl(i)||!Cl(i))&&n(Ml(Dl(s),!1)),Cl(i)&&n(Ml(Dl(i),!0))}return t})(Bl(e,t))),n);return{container:T(e),offset:T(t),toRange:()=>{const n=Tl(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:()=>r().length>0,isAtStart:()=>(Sl(e),0===t),isAtEnd:()=>Sl(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>Al(e,n?t-1:t)}};Bl.fromRangeStart=e=>Bl(e.startContainer,e.startOffset),Bl.fromRangeEnd=e=>Bl(e.endContainer,e.endOffset),Bl.after=e=>Bl(e.parentNode,_l(e)+1),Bl.before=e=>Bl(e.parentNode,_l(e)),Bl.isAbove=(e,t)=>He(ce(t.getClientRects()),de(e.getClientRects()),el).getOr(!1),Bl.isBelow=(e,t)=>He(de(t.getClientRects()),ce(e.getClientRects()),tl).getOr(!1),Bl.isAtStart=e=>!!e&&e.isAtStart(),Bl.isAtEnd=e=>!!e&&e.isAtEnd(),Bl.isTextPosition=e=>!!e&&ta(e.container()),Bl.isElementPosition=e=>!Bl.isTextPosition(e);const Ll=(e,t)=>{ta(t)&&0===t.data.length&&e.remove(t)},Il=(e,t,n)=>{ia(n)?((e,t,n)=>{const r=j.from(n.firstChild),o=j.from(n.lastChild);t.insertNode(n),r.each(t=>Ll(e,t.previousSibling)),o.each(t=>Ll(e,t.nextSibling))})(e,t,n):((e,t,n)=>{t.insertNode(n),Ll(e,n.previousSibling),Ll(e,n.nextSibling)})(e,t,n)},jl=ta,Fl=Qo,Ul=os.nodeIndex,Hl=e=>{const t=e.parentNode;return Fl(t)?Hl(t):t},zl=e=>e?gt(e.childNodes,(e,t)=>(Fl(t)&&"BR"!==t.nodeName?e=e.concat(zl(t)):e.push(t),e),[]):[],$l=e=>t=>e===t,ql=e=>(jl(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,n;t=zl(Hl(e)),n=vt(t,$l(e),e),t=t.slice(0,n+1);const r=gt(t,(e,n,r)=>(jl(n)&&jl(t[r-1])&&e++,e),0);return t=ht(t,Yo([e.nodeName])),n=vt(t,$l(e),e),n-r})(e)+"]",Vl=(e,t)=>{let n,r=[],o=t.container(),a=t.offset();if(jl(o))n=((e,t)=>{let n=e;for(;(n=n.previousSibling)&&jl(n);)t+=n.data.length;return t})(o,a);else{const e=o.childNodes;a>=e.length?(n="after",a=e.length-1):n="before",o=e[a]}r.push(ql(o));let i=((e,t)=>{const n=[];for(let r=t.parentNode;r&&r!==e;r=r.parentNode)n.push(r);return n})(e,o);return i=ht(i,P(Qo)),r=r.concat(mt(i,e=>ql(e))),r.reverse().join("/")+","+n},Wl=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),o=n.length>1?n[1]:"before",a=gt(r,(e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),((e,t,n)=>{let r=zl(e);return r=ht(r,(e,t)=>!jl(e)||!jl(r[t-1])),r=ht(r,Yo([t])),r[n]})(e,n[1],parseInt(n[2],10))):null},e);if(!a)return null;if(!jl(a)&&a.parentNode){let e;return e="after"===o?Ul(a)+1:Ul(a),Bl(a.parentNode,e)}return((e,t)=>{let n=e,r=0;for(;jl(n);){const o=n.data.length;if(t>=r&&t<=r+o){e=n,t-=r;break}if(!jl(n.nextSibling)){e=n,t=o;break}r+=o,n=n.nextSibling}return jl(e)&&t>e.data.length&&(t=e.data.length),Bl(e,t)})(a,parseInt(o,10))},Kl=ua,Gl=(e,t,n,r,o)=>{const a=o?r.startContainer:r.endContainer;let i=o?r.startOffset:r.endOffset;const s=[],l=e.getRoot();if(ta(a))s.push(n?((e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let n=t.previousSibling;n&&ta(n);n=n.previousSibling)r+=e(n.data).length;return r})(t,a,i):i);else{let t=0;const r=a.childNodes;i>=r.length&&r.length&&(t=1,i=Math.max(0,r.length-1)),s.push(e.nodeIndex(r[i],n)+t)}for(let t=a;t&&t!==l;t=t.parentNode)s.push(e.nodeIndex(t,n));return s},Yl=(e,t,n)=>{let r=0;return ln.each(e.select(t),e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==n&&void r++),r},Xl=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Wo(n)&&"TR"===n.nodeName){const o=n.childNodes;n=o[Math.min(t?r:r-1,o.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},Ql=e=>(Xl(e,!0),Xl(e,!1),e),Zl=(e,t)=>{if(Wo(e)&&(e=ol(e,t),Kl(e)))return e;if(zs(e)){ta(e)&&Us(e)&&(e=e.parentNode);let t=e.previousSibling;if(Kl(t))return t;if(t=e.nextSibling,Kl(t))return t}},Jl=(e,t,n)=>{const r=n.getNode(),o=n.getRng();if("IMG"===r.nodeName||Kl(r)){const e=r.nodeName;return{name:e,index:Yl(n.dom,e,r)}}const a=(e=>Zl(e.startContainer,e.startOffset)||Zl(e.endContainer,e.endOffset))(o);if(a){const e=a.tagName;return{name:e,index:Yl(n.dom,e,a)}}return((e,t,n,r)=>{const o=t.dom,a=Gl(o,e,n,r,!0),i=t.isForward(),s=Ys(r)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:a,forward:i,...s}:{start:a,end:Gl(o,e,n,r,!1),forward:i,...s}})(e,n,t,o)},ec=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},tc=(e,t)=>{const n=e.dom;let r=e.getRng();const o=n.uniqueId(),a=e.isCollapsed(),i=e.getNode(),s=i.nodeName,l=e.isForward();if("IMG"===s)return{name:s,index:Yl(n,s,i)};const c=Ql(r.cloneRange());if(!a){c.collapse(!1);const e=ec(n,o+"_end",t);Il(n,c,e)}r=Ql(r),r.collapse(!0);const d=ec(n,o+"_start",t);return Il(n,r,d),e.moveToBookmark({id:o,keep:!0,forward:l}),{id:o,forward:l}},nc=R(Jl,N,!0),rc=e=>"inline-command"===e.type||"inline-format"===e.type,oc=e=>"block-command"===e.type||"block-format"===e.type,ac=e=>{var t;const n=t=>Re.error({message:t,pattern:e}),r=(t,r,o)=>{if(void 0!==e.format){let o;if(g(e.format)){if(!re(e.format,p))return n(t+" pattern has non-string items in the `format` array");o=e.format}else{if(!p(e.format))return n(t+" pattern has non-string `format` parameter");o=[e.format]}return Re.value(r(o))}return void 0!==e.cmd?p(e.cmd)?Re.value(o(e.cmd,e.value)):n(t+" pattern has non-string `cmd` parameter"):n(t+" pattern is missing both `format` and `cmd` parameters")};if(!m(e))return n("Raw pattern is not an object");if(!p(e.start))return n("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!p(e.end))return n("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return n("Inline pattern has empty `start` and `end` parameters");let t=e.start,o=e.end;return 0===o.length&&(o=t,t=""),r("Inline",e=>({type:"inline-format",start:t,end:o,format:e}),(e,n)=>({type:"inline-command",start:t,end:o,cmd:e,value:n}))}if(void 0!==e.replacement)return p(e.replacement)?0===e.start.length?n("Replacement pattern has empty `start` parameter"):Re.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const o=null!==(t=e.trigger)&&void 0!==t?t:"space";return 0===e.start.length?n("Block pattern has empty `start` parameter"):r("Block",t=>({type:"block-format",start:e.start,format:t[0],trigger:o}),(t,n)=>({type:"block-command",start:e.start,cmd:t,value:n,trigger:o}))}},ic=e=>Y(e,oc),sc=e=>Y(e,rc),lc=(e,t)=>({...e,blockPatterns:Y(e.blockPatterns,e=>((e,t)=>("block-command"===e.type||"block-format"===e.type)&&e.trigger===t)(e,t))}),cc=e=>{const t=(e=>{const t=[],n=[];return W(e,e=>{e.fold(e=>{t.push(e)},e=>{n.push(e)})}),{errors:t,values:n}})(V(e,ac));return W(t.errors,e=>console.error(e.message,e.pattern)),t.values},dc=(e,t,n)=>{e.dispatch(t,n)},uc=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},fc=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},pc=(e,t)=>e.dispatch("SetContent",t),mc=(e,t)=>e.dispatch("GetContent",t),hc=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},gc=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),vc=Gt().deviceType,bc=vc.isTouch(),yc=os.DOM,kc=e=>f(e,RegExp),xc=e=>t=>t.options.get(e),Cc=e=>p(e)||m(e),wc=(e,t="")=>n=>{const r=p(n);if(r){if(-1!==n.indexOf("=")){const o=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Q(t,(e,t)=>{const n=t.split("="),r=n[0],o=n.length>1?n[1]:r;return e[Ze(r)]=Ze(o),e},{})})(n);return{value:Se(o,e.id).getOr(t),valid:r}}return{value:n,valid:r}}return{valid:!1,message:"Must be a string."}},Sc=xc("iframe_attrs"),Ec=xc("doctype"),_c=xc("document_base_url"),Ac=xc("body_id"),Tc=xc("body_class"),Nc=xc("content_security_policy"),Oc=xc("br_in_pre"),Rc=xc("forced_root_block"),Pc=xc("forced_root_block_attrs"),Dc=xc("newline_behavior"),Mc=xc("br_newline_selector"),Bc=xc("no_newline_selector"),Lc=xc("keep_styles"),Ic=xc("end_container_on_empty_block"),jc=xc("automatic_uploads"),Fc=xc("images_reuse_filename"),Uc=xc("images_replace_blob_uris"),Hc=xc("icons"),zc=xc("icons_url"),$c=xc("images_upload_url"),qc=xc("images_upload_base_path"),Vc=xc("images_upload_credentials"),Wc=xc("images_upload_handler"),Kc=xc("content_css_cors"),Gc=xc("referrer_policy"),Yc=xc("language"),Xc=xc("language_url"),Qc=xc("indent_use_margin"),Zc=xc("indentation"),Jc=xc("content_css"),ed=xc("content_style"),td=xc("font_css"),nd=xc("directionality"),rd=xc("inline_boundaries_selector"),od=xc("object_resizing"),ad=xc("resize_img_proportional"),id=xc("placeholder"),sd=xc("event_root"),ld=xc("service_message"),cd=xc("theme"),dd=xc("theme_url"),ud=xc("model"),fd=xc("model_url"),pd=xc("inline_boundaries"),md=xc("formats"),hd=xc("preview_styles"),gd=xc("format_empty_lines"),vd=xc("format_noneditable_selector"),bd=xc("custom_ui_selector"),yd=xc("inline"),kd=xc("hidden_input"),xd=xc("submit_patch"),Cd=xc("add_form_submit_trigger"),wd=xc("add_unload_trigger"),Sd=xc("custom_undo_redo_levels"),Ed=xc("disable_nodechange"),_d=xc("readonly"),Ad=xc("editable_root"),Td=xc("content_css_cors"),Nd=xc("plugins"),Od=xc("external_plugins"),Rd=xc("block_unsupported_drop"),Pd=xc("visual"),Dd=xc("visual_table_class"),Md=xc("visual_anchor_class"),Bd=xc("iframe_aria_text"),Ld=xc("setup"),Id=xc("init_instance_callback"),jd=xc("urlconverter_callback"),Fd=xc("auto_focus"),Ud=xc("browser_spellcheck"),Hd=xc("protect"),zd=xc("paste_block_drop"),$d=xc("paste_data_images"),qd=xc("paste_preprocess"),Vd=xc("paste_postprocess"),Wd=xc("newdocument_content"),Kd=xc("paste_webkit_styles"),Gd=xc("paste_remove_styles_if_webkit"),Yd=xc("paste_merge_formats"),Xd=xc("smart_paste"),Qd=xc("paste_as_text"),Zd=xc("paste_tab_spaces"),Jd=xc("allow_html_data_urls"),eu=xc("text_patterns"),tu=xc("text_patterns_lookup"),nu=xc("noneditable_class"),ru=xc("editable_class"),ou=xc("noneditable_regexp"),au=xc("preserve_cdata"),iu=xc("highlight_on_focus"),su=xc("xss_sanitization"),lu=xc("init_content_sync"),cu=e=>ln.explode(e.options.get("images_file_types")),du=xc("table_tab_navigation"),uu=xc("details_initial_state"),fu=xc("details_serialized_state"),pu=xc("sandbox_iframes"),mu=e=>e.options.get("sandbox_iframes_exclusions"),hu=xc("convert_unsafe_embeds"),gu=xc("license_key"),vu=xc("api_key"),bu=xc("disabled"),yu=Wo,ku=ta,xu=e=>{const t=e.parentNode;t&&t.removeChild(e)},Cu=e=>{const t=Is(e);return{count:e.length-t.length,text:t}},wu=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Bs));)e.deleteData(t,1)},Su=(e,t)=>(_u(e),t),Eu=(e,t)=>Bl.isTextPosition(t)?((e,t)=>ku(e)&&t.container()===e?((e,t)=>{const n=Cu(e.data.substr(0,t.offset())),r=Cu(e.data.substr(t.offset()));return(n.text+r.text).length>0?(wu(e),Bl(e,t.offset()-n.count)):t})(e,t):Su(e,t))(e,t):((e,t)=>t.container()===e.parentNode?((e,t)=>{const n=t.container(),r=((e,t)=>{const n=z(e,t);return-1===n?j.none():j.some(n)})(ue(n.childNodes),e).map(e=>e<t.offset()?Bl(n,t.offset()-1):t).getOr(t);return _u(e),r})(e,t):Su(e,t))(e,t),_u=e=>{yu(e)&&zs(e)&&($s(e)?e.removeAttribute("data-mce-caret"):xu(e)),ku(e)&&(wu(e),0===e.data.length&&xu(e))},Au=ua,Tu=ha,Nu=pa,Ou=(e,t,n)=>{const r=Zs(t.getBoundingClientRect(),n);let o,a;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;o=e.scrollLeft||t.scrollLeft,a=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();o=e.scrollLeft-t.left,a=e.scrollTop-t.top}r.left+=o,r.right+=o,r.top+=a,r.bottom+=a,r.width=1;let i=t.offsetWidth-t.clientWidth;return i>0&&(n&&(i*=-1),r.left+=i,r.right+=i),r},Ru=(e,t,n,r)=>{const o=Ve();let a,i;const s=Rc(e),l=e.dom,c=()=>{(e=>{var t,n;const r=yo(pn(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<r.length;e++){const o=r[e].dom;let a=o.previousSibling;if(Ks(a)){const e=a.data;1===e.length?null===(t=a.parentNode)||void 0===t||t.removeChild(a):a.deleteData(e.length-1,1)}a=o.nextSibling,Ws(a)&&(1===a.data.length?null===(n=a.parentNode)||void 0===n||n.removeChild(a):a.deleteData(0,1))}})(t),i&&(_u(i),i=null),o.on(e=>{l.remove(e.caret),o.clear()}),a&&(clearInterval(a),a=void 0)};return{isShowing:o.isSet,show:(e,d)=>{let u;if(c(),Nu(d))return null;if(!n(d))return i=((e,t)=>{var n;const r=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Bs),o=e.parentNode;if(t){const t=e.previousSibling;if(Fs(t)){if(zs(t))return t;if(Ks(t))return t.splitText(t.data.length-1)}null==o||o.insertBefore(r,e)}else{const t=e.nextSibling;if(Fs(t)){if(zs(t))return t;if(Ws(t))return t.splitText(1),t}e.nextSibling?null==o||o.insertBefore(r,e.nextSibling):null==o||o.appendChild(r)}return r})(d,e),u=d.ownerDocument.createRange(),Du(i.nextSibling)?(u.setStart(i,0),u.setEnd(i,0)):(u.setStart(i,1),u.setEnd(i,1)),u;{const n=((e,t,n)=>{var r;const o=(null!==(r=t.ownerDocument)&&void 0!==r?r:document).createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Ds().dom);const a=t.parentNode;return n?null==a||a.insertBefore(o,t):t.nextSibling?null==a||a.insertBefore(o,t.nextSibling):null==a||a.appendChild(o),o})(s,d,e),c=Ou(t,d,e);l.setStyle(n,"top",c.top),l.setStyle(n,"caret-color","transparent"),i=n;const f=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(f,{...c}),l.add(t,f),o.set({caret:f,element:d,before:e}),e&&l.addClass(f,"mce-visual-caret-before"),a=window.setInterval(()=>{o.on(e=>{r()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")})},500),u=d.ownerDocument.createRange(),u.setStart(n,0),u.setEnd(n,0)}return u},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on(e=>{const n=Ou(t,e.element,e.before);l.setStyles(e.caret,{...n})})},destroy:()=>clearInterval(a)}},Pu=()=>rn.browser.isFirefox(),Du=e=>Au(e)||Tu(e),Mu=e=>(Du(e)||Zo(e)&&Pu())&&In(pn(e)).exists(ho),Bu=da,Lu=ua,Iu=ha,ju=Xo("display","block table table-cell table-row table-caption list-item"),Fu=zs,Uu=Us,Hu=Wo,zu=ta,$u=hl,qu=e=>1===e,Vu=e=>-1===e,Wu=(e,t)=>{let n;for(;n=e(t);)if(!Uu(n))return n;return null},Ku=(e,t,n,r,o)=>{const a=new Fo(e,r),i=Lu(e)||Uu(e);let s;if(Vu(t)){if(i&&(s=Wu(a.prev.bind(a),!0),n(s)))return s;for(;s=Wu(a.prev.bind(a),o);)if(n(s))return s}if(qu(t)){if(i&&(s=Wu(a.next.bind(a),!0),n(s)))return s;for(;s=Wu(a.next.bind(a),o);)if(n(s))return s}return null},Gu=(e,t)=>{for(;e&&e!==t;){if(ju(e))return e;e=e.parentNode}return null},Yu=(e,t,n)=>Gu(e.container(),n)===Gu(t.container(),n),Xu=(e,t)=>{if(!t)return j.none();const n=t.container(),r=t.offset();return Hu(n)?j.from(n.childNodes[r+e]):j.none()},Qu=(e,t)=>{var n;const r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},Zu=(e,t,n)=>Gu(t,e)===Gu(n,e),Ju=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let o=n;for(;o&&o!==t;){let e=o[r];if(e&&Fu(e)&&(e=e[r]),Lu(e)||Iu(e)){if(Zu(t,e,o))return e;break}if($u(e))break;o=o.parentNode}return null},ef=R(Qu,!0),tf=R(Qu,!1),nf=(e,t,n)=>{let r;const o=R(Ju,!0,t),a=R(Ju,!1,t),i=n.startContainer,s=n.startOffset;if(Us(i)){const e=zu(i)?i.parentNode:i,t=e.getAttribute("data-mce-caret");if("before"===t&&(r=e.nextSibling,Mu(r)))return ef(r);if("after"===t&&(r=e.previousSibling,Mu(r)))return tf(r)}if(!n.collapsed)return n;if(ta(i)){if(Fu(i)){if(1===e){if(r=a(i),r)return ef(r);if(r=o(i),r)return tf(r)}if(-1===e){if(r=o(i),r)return tf(r);if(r=a(i),r)return ef(r)}return n}if(Ks(i)&&s>=i.data.length-1)return 1===e&&(r=a(i),r)?ef(r):n;if(Ws(i)&&s<=1)return-1===e&&(r=o(i),r)?tf(r):n;if(s===i.data.length)return r=a(i),r?ef(r):n;if(0===s)return r=o(i),r?tf(r):n}return n},rf=(e,t)=>Xu(e?0:-1,t).filter(Lu),of=(e,t,n)=>{const r=nf(e,t,n);return-1===e?Bl.fromRangeStart(r):Bl.fromRangeEnd(r)},af=e=>j.from(e.getNode()).map(pn),sf=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},lf=(e,t)=>{const n=Yu(e,t);return!(n||!sa(e.getNode()))||n},cf=ua,df=ta,uf=Wo,ff=sa,pf=hl,mf=e=>fl(e)||(e=>!!gl(e)&&!Q(ue(e.getElementsByTagName("*")),(e,t)=>e||sl(t),!1))(e),hf=vl,gf=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,vf=(e,t)=>{if(qu(e)){if(pf(t.previousSibling)&&!df(t.previousSibling))return Bl.before(t);if(df(t))return Bl(t,0)}if(Vu(e)){if(pf(t.nextSibling)&&!df(t.nextSibling))return Bl.after(t);if(df(t))return Bl(t,t.data.length)}return Vu(e)?ff(t)?Bl.before(t):Bl.after(t):Bl.before(t)},bf=(e,t,n)=>{let r,o,a,i;if(!uf(n)||!t)return null;if(t.isEqual(Bl.after(n))&&n.lastChild){if(i=Bl.after(n.lastChild),Vu(e)&&pf(n.lastChild)&&uf(n.lastChild))return ff(n.lastChild)?Bl.before(n.lastChild):i}else i=t;const s=i.container();let l=i.offset();if(df(s)){if(Vu(e)&&l>0)return Bl(s,--l);if(qu(e)&&l<s.length)return Bl(s,++l);r=s}else{if(Vu(e)&&l>0&&(o=gf(s,l-1),pf(o)))return!mf(o)&&(a=Ku(o,e,hf,o),a)?df(a)?Bl(a,a.data.length):Bl.after(a):df(o)?Bl(o,o.data.length):Bl.before(o);if(qu(e)&&l<s.childNodes.length&&(o=gf(s,l),pf(o)))return ff(o)?((e,t)=>{const n=t.nextSibling;return n&&pf(n)?df(n)?Bl(n,0):Bl.before(n):bf(1,Bl.after(t),e)})(n,o):!mf(o)&&(a=Ku(o,e,hf,o),a)?df(a)?Bl(a,0):Bl.before(a):df(o)?Bl(o,0):Bl.after(o);r=o||i.getNode()}if(r&&(qu(e)&&i.isAtEnd()||Vu(e)&&i.isAtStart())&&(r=Ku(r,e,I,n,!0),hf(r,n)))return vf(e,r);o=r?Ku(r,e,hf,n):r;const c=bt(Y(((e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n})(s,n),cf));return!c||o&&c.contains(o)?o?vf(e,o):null:(i=qu(e)?Bl.after(c):Bl.before(c),i)},yf=e=>({next:t=>bf(1,t,e),prev:t=>bf(-1,t,e)}),kf=e=>Bl.isTextPosition(e)?0===e.offset():hl(e.getNode()),xf=e=>{if(Bl.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return hl(e.getNode(!0))},Cf=(e,t)=>!Bl.isTextPosition(e)&&!Bl.isTextPosition(t)&&e.getNode()===t.getNode(!0),wf=(e,t,n)=>{const r=yf(t);return j.from(e?r.next(n):r.prev(n))},Sf=(e,t,n)=>wf(e,t,n).bind(r=>Yu(n,r,t)&&((e,t,n)=>{return e?!Cf(t,n)&&(r=t,!(!Bl.isTextPosition(r)&&sa(r.getNode())))&&xf(t)&&kf(n):!Cf(n,t)&&kf(t)&&xf(n);var r})(e,n,r)?wf(e,t,r):j.some(r)),Ef=(e,t,n,r)=>Sf(e,t,n).bind(n=>r(n)?Ef(e,t,n,r):j.some(n)),_f=(e,t)=>{const n=e?t.firstChild:t.lastChild;return ta(n)?j.some(Bl(n,e?0:n.data.length)):n?hl(n)?j.some(e?Bl.before(n):sa(r=n)?Bl.before(r):Bl.after(r)):((e,t,n)=>{const r=e?Bl.before(n):Bl.after(n);return wf(e,t,r)})(e,t,n):j.none();var r},Af=R(wf,!0),Tf=R(wf,!1),Nf=R(_f,!0),Of=R(_f,!1),Rf="_mce_caret",Pf=e=>Wo(e)&&e.id===Rf,Df=(e,t)=>{let n=t;for(;n&&n!==e;){if(Pf(n))return n;n=n.parentNode}return null},Mf=e=>Ee(e,"name"),Bf=e=>ln.isArray(e.start),Lf=e=>!(!Mf(e)&&b(e.forward))||e.forward,If=(e,t)=>(Wo(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),jf=(e,t)=>Of(e).fold(L,e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0)),Ff=(e,t,n)=>!(!(e=>!e.hasChildNodes())(t)||!Df(e,t)||(((e,t)=>{var n;const r=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Bs);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)})(t,n),0)),Uf=(e,t,n,r)=>{const o=n[t?"start":"end"],a=e.getRoot();if(o){let e=a,n=o[0];for(let t=o.length-1;e&&t>=1;t--){const n=e.childNodes;if(Ff(a,e,r))return!0;if(o[t]>n.length-1)return!!Ff(a,e,r)||jf(e,r);e=n[o[t]]}ta(e)&&(n=Math.min(o[0],e.data.length)),Wo(e)&&(n=Math.min(o[0],e.childNodes.length)),t?r.setStart(e,n):r.setEnd(e,n)}return!0},Hf=e=>ta(e)&&e.data.length>0,zf=(e,t,n)=>{const r=e.get(n.id+"_"+t),o=null==r?void 0:r.parentNode,a=n.keep;if(r&&o){let i,s;if("start"===t?a?r.hasChildNodes()?(i=r.firstChild,s=1):Hf(r.nextSibling)?(i=r.nextSibling,s=0):Hf(r.previousSibling)?(i=r.previousSibling,s=r.previousSibling.data.length):(i=o,s=e.nodeIndex(r)+1):(i=o,s=e.nodeIndex(r)):a?r.hasChildNodes()?(i=r.firstChild,s=1):Hf(r.previousSibling)?(i=r.previousSibling,s=r.previousSibling.data.length):(i=o,s=e.nodeIndex(r)):(i=o,s=e.nodeIndex(r)),!a){const o=r.previousSibling,a=r.nextSibling;let l;for(ln.each(ln.grep(r.childNodes),e=>{ta(e)&&(e.data=e.data.replace(/\uFEFF/g,""))});l=e.get(n.id+"_"+t);)e.remove(l,!0);if(ta(a)&&ta(o)&&!rn.browser.isOpera()){const t=o.data.length;o.appendData(a.data),e.remove(a),i=o,s=t}}return j.some(Bl(i,s))}return j.none()},$f=(e,t,n)=>((e,t,n=!1)=>2===t?Jl(Is,n,e):3===t?(e=>{const t=e.getRng();return{start:Vl(e.dom.getRoot(),Bl.fromRangeStart(t)),end:Vl(e.dom.getRoot(),Bl.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):tc(e,!1))(e,t,n),qf=(e,t)=>{((e,t)=>{const n=e.dom;if(t){if(Bf(t))return((e,t)=>{const n=e.createRng();return Uf(e,!0,t,n)&&Uf(e,!1,t,n)?j.some({range:n,forward:Lf(t)}):j.none()})(n,t);if((e=>p(e.start))(t))return((e,t)=>{const n=j.from(Wl(e.getRoot(),t.start)),r=j.from(Wl(e.getRoot(),t.end));return He(n,r,(n,r)=>{const o=e.createRng();return o.setStart(n.container(),n.offset()),o.setEnd(r.container(),r.offset()),{range:o,forward:Lf(t)}})})(n,t);if((e=>Ee(e,"id"))(t))return((e,t)=>{const n=zf(e,"start",t),r=zf(e,"end",t);return He(n,r.or(n),(n,r)=>{const o=e.createRng();return o.setStart(If(e,n.container()),n.offset()),o.setEnd(If(e,r.container()),r.offset()),{range:o,forward:Lf(t)}})})(n,t);if(Mf(t))return((e,t)=>j.from(e.select(t.name)[t.index]).map(t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}}))(n,t);if((e=>Ee(e,"rng"))(t))return j.some({range:t.rng,forward:Lf(t)})}return j.none()})(e,t).each(({range:t,forward:n})=>{e.setRng(t,n)})},Vf=e=>Wo(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Wf=(Kf=lt,e=>Kf===e);var Kf;const Gf=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Yf=e=>!Gf(e)&&!Wf(e)&&!ct(e),Xf=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Qf=(e,t)=>{const n=yo(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:(e=>Y((e=>ne(e,e=>{const t=rl(e);return t?[pn(t)]:[]}))(e),Rs))(e)},Zf=e=>Qf(Xf(e.selection.getSel()),pn(e.getBody())),Jf=(e,t)=>ro(e,"table",t),ep=e=>Vn(e).fold(T([e]),t=>[e].concat(ep(t))),tp=e=>Wn(e).fold(T([e]),t=>"br"===Sn(t)?Fn(t).map(t=>[e].concat(tp(t))).getOr([]):[e].concat(tp(t))),np=(e,t)=>He((e=>{const t=e.startContainer,n=e.startOffset;return ta(t)?0===n?j.some(pn(t)):j.none():j.from(t.childNodes[n]).map(pn)})(t),(e=>{const t=e.endContainer,n=e.endOffset;return ta(t)?n===t.data.length?j.some(pn(t)):j.none():j.from(t.childNodes[n-1]).map(pn)})(t),(t,n)=>{const r=J(ep(e),R(xn,t)),o=J(tp(e),R(xn,n));return r.isSome()&&o.isSome()}).getOr(!1),rp=(e,t,n,r)=>{const o=n,a=new Fo(n,o),i=xe(e.schema.getMoveCaretBeforeOnEnterElements(),(e,t)=>!$(["td","th","table"],t.toLowerCase()));let s=n;do{if(ta(s)&&0!==ln.trim(s.data).length)return void(r?t.setStart(s,0):t.setEnd(s,s.data.length));if(i[s.nodeName])return void(r?t.setStartBefore(s):"BR"===s.nodeName?t.setEndBefore(s):t.setEndAfter(s))}while(s=r?a.next():a.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},op=e=>{const t=e.selection.getSel();return x(t)&&t.rangeCount>0},ap=(e,t)=>{const n=Zf(e);n.length>0?W(n,n=>{const r=n.dom,o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)}):t(e.selection.getRng(),!1)},ip=(e,t,n)=>{const r=tc(e,t);n(r),e.moveToBookmark(r)},sp=e=>w(null==e?void 0:e.nodeType),lp=e=>Wo(e)&&!Vf(e)&&!Pf(e)&&!Qo(e),cp=(e,t,n)=>{const{selection:r,dom:o}=e,a=r.getNode(),i=ua(a);ip(r,!0,()=>{t()}),i&&ua(a)&&o.isChildOf(a,e.getBody())?e.selection.select(a):n(r.getStart())&&dp(o,r)},dp=(e,t)=>{var n,r;const o=t.getRng(),{startContainer:a,startOffset:i}=o;if(!((e,t)=>{if(lp(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}return!1})(e,t.getNode())&&Wo(a)){const s=a.childNodes,l=e.getRoot();let c;if(i<s.length){const t=s[i];c=new Fo(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=s[s.length-1];c=new Fo(t,null!==(r=e.getParent(t,e.isBlock))&&void 0!==r?r:l),c.next(!0)}for(let n=c.current();n;n=c.next()){if("false"===e.getContentEditable(n))return;if(ta(n)&&!mp(n))return o.setStart(n,0),void t.setRng(o)}}},up=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(Wo(e)||!mp(e))return e}},fp=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||za(e,t),pp=(e,t,n)=>e.schema.isValidChild(t,n),mp=(e,t=!1)=>{if(x(e)&&ta(e)){const n=t?e.data.replace(/ /g,"Â "):e.data;return Ho(n)}return!1},hp=(e,t)=>{const n=e.dom;return lp(t)&&"false"===n.getContentEditable(t)&&((e,t)=>{const n="[data-mce-cef-wrappable]",r=vd(e),o=nt(r)?n:`${n},${r}`;return yn(pn(t),o)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},gp=(e,t)=>C(e)?e(t):(x(t)&&(e=e.replace(/%(\w+)/g,(e,n)=>t[n]||e)),e),vp=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),bp=(e,t)=>{if(k(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=ji(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},yp=(e,t,n)=>{const r=e.getStyle(t,n);return bp(r,n)},kp=(e,t)=>{let n;return e.getParent(t,t=>!!Wo(t)&&(n=e.getStyle(t,"text-decoration"),!!n&&"none"!==n)),n},xp=(e,t,n)=>e.getParents(t,n,e.getRoot()),Cp=(e,t,n)=>{const r=e.formatter.get(t);return x(r)&&q(r,n)},wp=e=>_e(e,"block"),Sp=e=>_e(e,"selector"),Ep=e=>_e(e,"inline"),_p=e=>Sp(e)&&!1!==e.expand&&!Ep(e),Ap=e=>(e=>{const t=[];let n=e;for(;n;){if(ta(n)&&n.data!==Bs||n.childNodes.length>1)return[];Wo(n)&&t.push(n),n=n.firstChild}return t})(e).length>0,Tp=e=>Pf(e.dom)&&Ap(e.dom),Np=Vf,Op=xp,Rp=mp,Pp=fp,Dp=e=>sa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Mp=(e,t)=>{let n=t;for(;n;){if(Wo(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Bp=(e,t,n,r)=>{const o=t.data;if(e){for(let e=n;e>0;e--)if(r(o.charAt(e-1)))return e}else for(let e=n;e<o.length;e++)if(r(o.charAt(e)))return e;return-1},Lp=(e,t,n)=>Bp(e,t,n,e=>Wf(e)||Gf(e)),Ip=(e,t,n)=>Bp(e,t,n,Yf),jp=(e,t,n,r,o,a)=>{let i;const s=e.getParent(n,t=>fa(t)||e.isBlock(t)),l=x(s)?s:t,c=(t,n,r)=>{const a=Ss(e),s=o?a.backwards:a.forwards;return j.from(s(t,n,(e,t)=>Np(e.parentNode)?-1:(i=e,r(o,e,t)),l))};return c(n,r,Lp).bind(e=>a?c(e.container,e.offset+(o?-1:0),Ip):j.some(e)).orThunk(()=>i?j.some({container:i,offset:o?0:i.length}):j.none())},Fp=(e,t,n,r,o)=>{const a=r[o];ta(r)&&nt(r.data)&&a&&(r=a);const i=Op(e,r);for(let r=0;r<i.length;r++)for(let o=0;o<t.length;o++){const a=t[o];if((!x(a.collapsed)||a.collapsed===n.collapsed)&&Sp(a)&&e.is(i[r],a.selector))return i[r]}return r},Up=(e,t,n,r)=>{var o;let a=n;const i=e.getRoot(),s=t[0];if(wp(s)&&(a=s.wrapper?null:e.getParent(n,s.block,i)),!a){const t=null!==(o=e.getParent(n,"LI,TD,TH,SUMMARY"))&&void 0!==o?o:i;a=e.getParent(ta(n)?n.parentNode:n,t=>t!==i&&Pp(e.schema,t),t)}if(a&&wp(s)&&s.wrapper&&(a=Op(e,a,"ul,ol").reverse()[0]||a),!a)for(a=n;a&&a[r]&&!e.isBlock(a[r])&&(a=a[r],!vp(a,"br")););return a||n},Hp=(e,t,n,r)=>{const o=n.parentNode;return!x(n[r])&&(!(o!==t&&!k(o)&&!e.isBlock(o))||Hp(e,t,o,r))},zp=(e,t,n,r,o,a)=>{let i=n;const s=o?"previousSibling":"nextSibling",l=e.getRoot();if(ta(n)&&!Rp(n)&&(o?r>0:r<n.data.length))return n;for(;i;){if(fa(i))return n;if(!t[0].block_expand&&e.isBlock(i))return a?i:n;for(let t=i[s];t;t=t[s]){const n=ta(t)&&!Hp(e,l,t,s);if(!Np(t)&&!Dp(t)&&!Rp(t,n))return i}if(i===l||i.parentNode===l){n=i;break}i=i.parentNode}return n},$p=e=>Np(e.parentNode)||Np(e),qp=(e,t,n,r={})=>{const{includeTrailingSpace:o=!1,expandToBlock:a=!0}=r,i=e.getParent(t.commonAncestorContainer,e=>fa(e)),s=x(i)?i:e.getRoot();let{startContainer:l,startOffset:c,endContainer:d,endOffset:u}=t;const f=n[0];return Wo(l)&&l.hasChildNodes()&&(l=ol(l,c),ta(l)&&(c=0)),Wo(d)&&d.hasChildNodes()&&(d=ol(d,t.collapsed?u:u-1),ta(d)&&(u=d.data.length)),l=Mp(e,l),d=Mp(e,d),$p(l)&&(l=Np(l)?l:l.parentNode,l=t.collapsed?l.previousSibling||l:l.nextSibling||l,ta(l)&&(c=t.collapsed?l.length:0)),$p(d)&&(d=Np(d)?d:d.parentNode,d=t.collapsed?d.nextSibling||d:d.previousSibling||d,ta(d)&&(u=t.collapsed?0:d.length)),t.collapsed&&(jp(e,s,l,c,!0,o).each(({container:e,offset:t})=>{l=e,c=t}),jp(e,s,d,u,!1,o).each(({container:e,offset:t})=>{d=e,u=t})),(Ep(f)||f.block_expand)&&(Ep(f)&&ta(l)&&0!==c||(l=zp(e,n,l,c,!0,a)),Ep(f)&&ta(d)&&u!==d.data.length||(d=zp(e,n,d,u,!1,a))),_p(f)&&(l=Fp(e,n,t,l,"previousSibling"),d=Fp(e,n,t,d,"nextSibling")),(wp(f)||Sp(f))&&(l=Up(e,n,l,"previousSibling"),d=Up(e,n,d,"nextSibling"),wp(f)&&(e.isBlock(l)||(l=zp(e,n,l,c,!0,a),ta(l)&&(c=0)),e.isBlock(d)||(d=zp(e,n,d,u,!1,a),ta(d)&&(u=d.data.length)))),Wo(l)&&l.parentNode&&(c=e.nodeIndex(l),l=l.parentNode),Wo(d)&&d.parentNode&&(u=e.nodeIndex(d)+1,d=d.parentNode),{startContainer:l,startOffset:c,endContainer:d,endOffset:u}},Vp=(e,t,n)=>{var r;const o=t.startOffset,a=ol(t.startContainer,o),i=t.endOffset,s=ol(t.endContainer,i-1),l=e=>{const t=e[0];ta(t)&&t===a&&o>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===i&&e.length>0&&n===s&&ta(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{const r=[];for(;e&&e!==n;e=e[t])r.push(e);return r},d=(t,n)=>e.getParent(t,e=>e.parentNode===n,n),u=(e,t,r)=>{const o=r?"nextSibling":"previousSibling";for(let a=e,i=a.parentNode;a&&a!==t;a=i){i=a.parentNode;const t=c(a===e?a:a[o],o);t.length&&(r||t.reverse(),n(l(t)))}};if(a===s)return n(l([a]));const f=null!==(r=e.findCommonAncestor(a,s))&&void 0!==r?r:e.getRoot();if(e.isChildOf(a,s))return u(a,f,!0);if(e.isChildOf(s,a))return u(s,f);const p=d(a,f)||a,m=d(s,f)||s;u(a,p,!0);const h=c(p===a?p:p.nextSibling,"nextSibling",m===s?m.nextSibling:m);h.length&&n(l(h)),u(s,m)},Wp=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],Kp=(e,t,n,r,o,a)=>{const{uid:i=t,...s}=n;uo(e,fs()),mr(e,`${ms()}`,i),mr(e,`${ps()}`,r);const{attributes:l={},classes:c=[]}=o(i,s);if(hr(e,l),((e,t)=>{W(t,t=>{uo(e,t)})})(e,c),a){c.length>0&&mr(e,`${gs()}`,c.join(","));const t=me(l);t.length>0&&mr(e,`${vs()}`,t.join(","))}},Gp=(e,t,n,r,o)=>{const a=un("span",e);return Kp(a,t,n,r,o,!1),a},Yp=(e,t,n,r,o,a)=>{const i=[],s=Gp(e.getDoc(),n,a,r,o),l=Ve(),c=()=>{l.clear()},d=e=>{W(e,u)},u=t=>{switch(((e,t,n,r)=>In(t).fold(()=>"skipping",o=>"br"===r||(e=>Nn(e)&&Xr(e)===Bs)(t)?"valid":(e=>Tn(e)&&mo(e,fs()))(t)?"existing":Pf(t.dom)?"caret":q(Wp,e=>yn(t,e))?"valid-block":pp(e,n,r)&&pp(e,Sn(o),n)?"valid":"invalid-child"))(e,t,"span",Sn(t))){case"invalid-child":{c();const e=$n(t);d(e),c();break}case"valid-block":c(),Kp(t,n,a,r,o,!0);break;case"valid":{const e=l.get().getOrThunk(()=>{const e=Er(s);return i.push(e),l.set(e),e});ur(t,e);break}}};return Vp(e.dom,t,e=>{c(),(e=>{const t=V(e,pn);d(t)})(e)}),i},Xp=e=>{const t=(()=>{const e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>Se(e,t).map(e=>e.settings),getNames:()=>me(e)}})();((e,t)=>{const n=ps(),r=e=>j.from(e.attr(n)).bind(t.lookup),o=e=>{var t,n;e.attr(ms(),null),e.attr(ps(),null),e.attr(hs(),null);const r=j.from(e.attr(vs())).map(e=>e.split(",")).getOr([]),o=j.from(e.attr(gs())).map(e=>e.split(",")).getOr([]);W(r,t=>e.attr(t,null));const a=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],i=ae(a,[fs()].concat(o));e.attr("class",i.length>0?i.join(" "):null),e.attr(gs(),null),e.attr(vs(),null)};e.serializer.addTempAttr(hs()),e.serializer.addAttributeFilter(n,e=>{for(const t of e)r(t).each(e=>{!1===e.persistent&&("span"===t.name?t.unwrap():o(t))})})})(e,t);const n=((e,t)=>{const n=Te({}),r=()=>({listeners:[],previous:Ve()}),o=(e,t)=>{a(e,e=>(t(e),e))},a=(e,t)=>{const o=n.get(),a=t(Se(o,e).getOrThunk(r));o[e]=a,n.set(o)},i=(t,n)=>{W(xs(e,t),e=>{n?mr(e,hs(),"true"):yr(e,hs())})},s=at(()=>{const n=se(t.getNames());W(n,t=>{a(t,n=>{const r=n.previous.get();return ys(e,j.some(t)).fold(()=>{r.each(e=>{(e=>{o(e,t=>{W(t.listeners,t=>t(!1,e))})})(t),n.previous.clear(),i(e,!1)})},({uid:e,name:t,elements:a})=>{Fe(r,e)||(r.each(e=>i(e,!1)),((e,t,n)=>{o(e,r=>{W(r.listeners,r=>r(!0,e,{uid:t,nodes:V(n,e=>e.dom)}))})})(t,e,a),n.previous.set(e),i(e,!0))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",()=>{s.cancel()}),e.on("NodeChange",()=>{s.throttle()}),{addListener:(e,t)=>{a(e,e=>({previous:e.previous,listeners:e.listeners.concat([t])}))}}})(e,t),r=Pn("span"),o=e=>{W(e,e=>{r(e)?wr(e):(e=>{po(e,fs()),yr(e,`${ms()}`),yr(e,`${ps()}`),yr(e,`${hs()}`);const t=vr(e,`${vs()}`).map(e=>e.split(",")).getOr([]),n=vr(e,`${gs()}`).map(e=>e.split(",")).getOr([]);var r;W(t,t=>yr(e,t)),r=e,W(n,e=>{po(r,e)}),yr(e,`${gs()}`),yr(e,`${vs()}`)})(e)})};return{register:(e,n)=>{t.register(e,n)},annotate:(n,r)=>{t.lookup(n).each(t=>{((e,t,n,r)=>{e.undoManager.transact(()=>{const o=e.selection,a=o.getRng(),i=Zf(e).length>0,s=Be("mce-annotation");if(a.collapsed&&!i&&((e,t)=>{const n=qp(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)})(e,a),o.getRng().collapsed&&!i){const a=Gp(e.getDoc(),s,r,t,n.decorate);Nr(a,lt),o.getRng().insertNode(a.dom),o.select(a.dom)}else ip(o,!1,()=>{ap(e,o=>{Yp(e,o,s,t,n.decorate,r)})})})})(e,n,t,r)})},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{ys(e,j.some(t)).each(({elements:t})=>{const n=e.selection.getBookmark();o(t),e.selection.moveToBookmark(n)})},removeAll:t=>{const n=e.selection.getBookmark();ge(Cs(e,t),(e,t)=>{o(e)}),e.selection.moveToBookmark(n)},getAll:t=>{const n=Cs(e,t);return ve(n,e=>V(e,e=>e.dom))}}},Qp=e=>({getBookmark:R($f,e),moveToBookmark:R(qf,e)});Qp.isBookmarkNode=Vf;const Zp=(e,t,n)=>!n.collapsed&&q(n.getClientRects(),n=>((e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom)(n,e,t)),Jp=(e,t)=>{const n=Nn(t)?Xr(t).length:$n(t).length+1;return e>n?n:e<0?0:e},em=e=>Ro.range(e.start,Jp(e.soffset,e.start),e.finish,Jp(e.foffset,e.finish)),tm=(e,t)=>!Vo(t.dom)&&(Cn(e,t)||xn(e,t)),nm=e=>t=>tm(e,t.start)&&tm(e,t.finish),rm=e=>Ro.range(pn(e.startContainer),e.startOffset,pn(e.endContainer),e.endOffset),om=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),j.some(t)}catch(e){return j.none()}},am=e=>{const t=(e=>e.inline||rn.browser.isFirefox())(e)?(n=pn(e.getBody()),(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?j.from(t.getRangeAt(0)):j.none()).map(rm)})(Bn(n).dom).filter(nm(n))):j.none();var n;e.bookmark=t.isSome()?t:e.bookmark},im=e=>(e.bookmark?e.bookmark:j.none()).bind(t=>{return n=pn(e.getBody()),r=t,j.from(r).filter(nm(n)).map(em);var n,r}).bind(om),sm={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},lm={setEditorTimeout:(e,t,n)=>((e,t)=>(w(t)||(t=0),window.setTimeout(e,t)))(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const r=((e,t)=>(w(t)||(t=0),window.setInterval(e,t)))(()=>{e.removed?window.clearInterval(r):t()},n);return r}},cm=(e,t)=>e.view(t).fold(T([]),t=>{const n=e.owner(t),r=cm(e,n);return[t].concat(r)});var dm=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?j.none():j.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(pn)},owner:e=>Mn(e)});const um=e=>{const t=rr(),n=Vr(t),r=((e,t)=>{const n=t.owner(e);return cm(t,n)})(e,dm),o=qr(e),a=X(r,(e,t)=>{const n=qr(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0});return zr(a.left+o.left+n.left,a.top+o.top+n.top)};let fm;const pm=os.DOM,mm=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},hm=(e,t)=>{const n=bd(e),r=pm.getParent(t,t=>(e=>Wo(e)&&sm.isEditorUIElement(e))(t)||!!n&&e.dom.is(t,n));return null!==r},gm=e=>{try{const t=Yn(pn(e.getElement()));return ir(t).fold(()=>document.body,e=>e.dom)}catch(e){return document.body}},vm=(e,t)=>{const n=t.editor;(e=>{const t=ot(()=>{am(e)},0);e.on("init",()=>{e.inline&&((e,t)=>{const n=()=>{t.throttle()};os.DOM.bind(document,"mouseup",n),e.on("remove",()=>{os.DOM.unbind(document,"mouseup",n)})})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",e=>{t.throttle()})})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||am(e)})})(e,t)}),e.on("remove",()=>{t.cancel()})})(n);const r=(e,t)=>{iu(e)&&!0!==e.inline&&t(pn(e.getContainer()),"tox-edit-focus")};n.on("focusin",()=>{const t=e.focusedEditor;if(mm(gm(n))&&r(n,uo),t!==n){t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0);const r=Gt().browser;!0!==n.inline&&(r.isSafari()||r.isChromium())&&(e=>{if(!e.iframeElement)return;const t=pn(e.iframeElement),n=um(t),r=jo(window);(n.top<r.y||n.top>r.bottom-25)&&t.dom.scrollIntoView({block:"center"})})(n)}}),n.on("focusout",()=>{lm.setEditorTimeout(n,()=>{const t=e.focusedEditor;mm(gm(n))&&t===n||r(n,po),hm(n,gm(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),fm||(fm=t=>{const n=e.activeEditor;n&&Zn(t).each(t=>{const r=t;r.ownerDocument===document&&(r===document.body||hm(n,r)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))})},pm.bind(document,"focusin",fm))},bm=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&fm&&(pm.unbind(document,"focusin",fm),fm=null)},ym=(e,t)=>{((e,t)=>(e=>e.collapsed?j.from(ol(e.startContainer,e.startOffset)).map(pn):j.none())(t).bind(t=>Os(t)?j.some(t):Cn(e,t)?j.none():j.some(e)))(pn(e.getBody()),t).bind(e=>Nf(e.dom)).fold(()=>{e.selection.normalize()},t=>e.selection.setRng(t.toRange()))},km=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},xm=e=>e.inline?(e=>{const t=e.getBody();return t&&(n=pn(t),ar(n)||(r=n,ir(Yn(r)).filter(e=>r.dom.contains(e.dom))).isSome());var n,r})(e):(e=>x(e.iframeElement)&&ar(pn(e.iframeElement)))(e),Cm=e=>xm(e)||(e=>{const t=Yn(pn(e.getElement()));return ir(t).filter(t=>!mm(t.dom)&&hm(e,t.dom)).isSome()})(e),wm=e=>e.editorManager.setActive(e),Sm={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Sm.metaKeyPressed(e),metaKeyPressed:e=>rn.os.isMacOS()||rn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Em="data-mce-selected",_m=Math.abs,Am=Math.round,Tm={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Nm=(e,t)=>{const n=t.dom,r=t.getDoc(),o=document,a=t.getBody();let i,s,l,c,d,u,f,p,m,h,g,v,b,y,k;const C=e=>x(e)&&(la(e)||n.is(e,"figure.image")),w=e=>ha(e)||n.hasClass(e,"mce-preview-object"),S=e=>{const n=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const n=e.touches[0];return C(e.target)&&!Zp(n.clientX,n.clientY,t)}return C(e.target)&&!Zp(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},E=e=>n.hasClass(e,"mce-preview-object")&&x(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,"figure.image")?[e.querySelector("img")]:[e],_=e=>{const r=od(t);return!(!r||t.mode.isReadOnly())&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")&&x(e.firstElementChild)?yn(pn(e.firstElementChild),r):yn(pn(e),r))},A=(e,r,o)=>{if(x(o)){const a=E(e);W(a,e=>{e.style[r]||!t.schema.isValid(e.nodeName.toLowerCase(),r)?n.setStyle(e,r,o):n.setAttrib(e,r,""+o)})}},T=(e,t,n)=>{A(e,"width",t),A(e,"height",n)},N=e=>{let r,o,d,x,S;r=e.screenX-u,o=e.screenY-f,v=r*c[2]+p,b=o*c[3]+m,v=v<5?5:v,b=b<5?5:b,d=(C(i)||w(i))&&!1!==ad(t)?!Sm.modifierPressed(e):Sm.modifierPressed(e),d&&(_m(r)>_m(o)?(b=Am(v*h),v=Am(b/h)):(v=Am(b/h),b=Am(v*h))),T(s,v,b),x=c.startPos.x+r,S=c.startPos.y+o,x=x>0?x:0,S=S>0?S:0,n.setStyles(l,{left:x,top:S,display:"block"}),l.innerHTML=v+" &times; "+b,r=a.scrollWidth-y,o=a.scrollHeight-k,r+o!==0&&n.setStyles(l,{left:x-r,top:S-o}),g||(((e,t,n,r,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:o})})(t,i,p,m,"corner-"+c.name),g=!0)},O=()=>{const e=g;g=!1,e&&(A(i,"width",v),A(i,"height",b)),n.unbind(r,"mousemove",N),n.unbind(r,"mouseup",O),o!==r&&(n.unbind(o,"mousemove",N),n.unbind(o,"mouseup",O)),n.remove(s),n.remove(l),n.remove(d),R(i),e&&(((e,t,n,r,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:o})})(t,i,v,b,"corner-"+c.name),n.setAttrib(i,"style",n.getAttrib(i,"style"))),t.nodeChanged()},R=e=>{L();const g=n.getPos(e,a),x=g.x,C=g.y,S=e.getBoundingClientRect(),A=S.width||S.right-S.left,R=S.height||S.bottom-S.top;i!==e&&(D(),i=e,v=b=0);const P=t.dispatch("ObjectSelected",{target:e});_(e)&&!P.isDefaultPrevented()?ge(Tm,(e,t)=>{let g=n.get("mceResizeHandle"+t);g&&n.remove(g),g=n.add(a,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(g,"mousedown",g=>{g.stopImmediatePropagation(),g.preventDefault(),(g=>{const v=E(i)[0];u=g.screenX,f=g.screenY,p=v.clientWidth,m=v.clientHeight,h=m/p,c=e,c.name=t,c.startPos={x:A*e[0]+x,y:R*e[1]+C},y=a.scrollWidth,k=a.scrollHeight,d=n.add(a,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(d,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),s=((e,t)=>{if(w(t))return e.create("img",{src:rn.transparentSrc});if(Zo(t)){const n=Ye(c.name,"n")?ce:de,r=t.cloneNode(!0);return n(e.select("tr",r)).each(t=>{const n=e.select("td,th",t);e.setStyle(t,"height",null),W(n,t=>e.setStyle(t,"height",null))}),r}return t.cloneNode(!0)})(n,i),n.addClass(s,"mce-clonedresizable"),n.setAttrib(s,"data-mce-bogus","all"),s.contentEditable="false",n.setStyles(s,{left:x,top:C,margin:0}),T(s,A,R),s.removeAttribute(Em),a.appendChild(s),n.bind(r,"mousemove",N),n.bind(r,"mouseup",O),o!==r&&(n.bind(o,"mousemove",N),n.bind(o,"mouseup",O)),l=n.add(a,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+m)})(g)}),e.elm=g,n.setStyles(g,{left:A*e[0]+x-g.offsetWidth/2,top:R*e[1]+C-g.offsetHeight/2})}):D(!1)},P=ot(R,0),D=(e=!0)=>{P.cancel(),L(),i&&e&&i.removeAttribute(Em),ge(Tm,(e,t)=>{const r=n.get("mceResizeHandle"+t);r&&(n.unbind(r),n.remove(r))})},M=(e,t)=>n.isChildOf(e,t),B=r=>{if(g||t.removed||t.composing)return;const o="mousedown"===r.type?r.target:e.getNode(),i=ao(pn(o),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(e=>e.dom).filter(e=>n.isEditable(e.parentElement)||"IMG"===e.nodeName&&n.isEditable(e)).getOrUndefined(),s=x(i)?n.getAttrib(i,Em,"1"):"1";if(W(n.select(`img[${Em}],hr[${Em}]`),e=>{e.removeAttribute(Em)}),x(i)&&M(i,a)&&Cm(t)){I();const t=e.getStart(!0);if(M(t,i)&&M(e.getEnd(!0),i))return n.setAttrib(i,Em,s),void P.throttle(i)}D()},L=()=>{ge(Tm,e=>{e.elm&&(n.unbind(e.elm),delete e.elm)})},I=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",()=>{I(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",B),t.on("keyup compositionend",e=>{i&&"TABLE"===i.nodeName&&B(e)}),t.on("hide blur",D),t.on("contextmenu longpress",S,!0)}),t.on("remove",L),{isResizable:_,showResizeRect:R,hideResizeRect:D,updateResizeRect:B,destroy:()=>{P.cancel(),i=s=d=null}}},Om=(e,t,n)=>{const r=Bn(pn(n));return Lo(r.dom,e,t).map(e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t}).getOrUndefined()},Rm=(e,t)=>x(e)&&x(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Pm=(e,t,n)=>null!==((e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null})(e,t,n),Dm=(e,t,n)=>Pm(e,t,e=>e.nodeName===n),Mm=(e,t)=>zs(e)&&!Pm(e,t,Pf),Bm=(e,t,n)=>{const r=t.parentNode;if(r){const o=new Fo(t,e.getParent(r,e.isBlock)||e.getRoot());let a;for(;a=o[n?"prev":"next"]();)if(sa(a))return!0}return!1},Lm=(e,t,n,r,o)=>{const a=e.getRoot(),i=e.schema.getNonEmptyElements(),s=o.parentNode;let l,c;if(!s)return j.none();const d=e.getParent(s,e.isBlock)||a;if(r&&sa(o)&&t&&e.isEmpty(d))return j.some(Bl(s,e.nodeIndex(o)));const u=new Fo(o,d);for(;c=u[r?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||Mm(c,a))return j.none();if(ta(c)&&c.data.length>0)return Dm(c,a,"A")?j.none():j.some(Bl(c,r?c.data.length:0));if(e.isBlock(c)||i[c.nodeName.toLowerCase()])return j.none();l=c}return oa(l)?j.none():n&&l?j.some(Bl(l,0)):j.none()},Im=(e,t,n,r)=>{const o=e.getRoot();let a,i=!1,s=n?r.startContainer:r.endContainer,l=n?r.startOffset:r.endOffset;const c=Wo(s)&&l===s.childNodes.length,d=e.schema.getNonEmptyElements();let u=n;if(zs(s))return j.none();if(Wo(s)&&l>s.childNodes.length-1&&(u=!1),aa(s)&&(s=o,l=0),s===o){if(u&&(a=s.childNodes[l>0?l-1:0],a)){if(zs(a))return j.none();if(d[a.nodeName]||Zo(a))return j.none()}if(s.hasChildNodes()){if(l=Math.min(!u&&l>0?l-1:l,s.childNodes.length-1),s=s.childNodes[l],l=ta(s)&&c?s.data.length:0,!t&&s===o.lastChild&&Zo(s))return j.none();if(((e,t)=>{let n=t;for(;n&&n!==e;){if(ua(n))return!0;n=n.parentNode}return!1})(o,s)||zs(s))return j.none();if(va(s))return j.none();if(s.hasChildNodes()&&!Zo(s)){a=s;const t=new Fo(s,o);do{if(ua(a)||zs(a)){i=!1;break}if(ta(a)&&a.data.length>0){l=u?0:a.data.length,s=a,i=!0;break}if(d[a.nodeName.toLowerCase()]&&!ma(a)){l=e.nodeIndex(a),s=a.parentNode,u||l++,i=!0;break}}while(a=u?t.next():t.prev())}}}return t&&(ta(s)&&0===l&&Lm(e,c,t,!0,s).each(e=>{s=e.container(),l=e.offset(),i=!0}),Wo(s)&&(a=s.childNodes[l],a||(a=s.childNodes[l-1]),!a||!sa(a)||(e=>{var t;return"A"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)})(a)||Bm(e,a,!1)||Bm(e,a,!0)||Lm(e,c,t,!0,a).each(e=>{s=e.container(),l=e.offset(),i=!0}))),u&&!t&&ta(s)&&l===s.data.length&&Lm(e,c,t,!1,s).each(e=>{s=e.container(),l=e.offset(),i=!0}),i&&s?j.some(Bl(s,l)):j.none()},jm=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),o=Bl.fromRangeStart(t);return Im(e,n,!0,r).each(e=>{n&&Bl.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||Im(e,n,!1,r).each(e=>{r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),Rm(t,r)?j.none():j.some(r)},Fm=(e,t)=>e.splitText(t),Um=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;if(t===r&&ta(t)){if(n>0&&n<t.data.length)if(r=Fm(t,n),t=r.previousSibling,o>n){o-=n;const e=Fm(r,o).previousSibling;t=r=e,o=e.data.length,n=0}else o=0}else if(ta(t)&&n>0&&n<t.data.length&&(t=Fm(t,n),n=0),ta(r)&&o>0&&o<r.data.length){const e=Fm(r,o).previousSibling;r=e,o=e.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},Hm=e=>({walk:(t,n)=>Vp(e,t,n),split:Um,expand:(t,n={type:"word"})=>{if("word"===n.type){const n=qp(e,t,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),r=e.createRng();return r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset),r}return t},normalize:t=>jm(e,t).fold(L,e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0))});Hm.compareRanges=Rm,Hm.getCaretRangeFromPoint=Om,Hm.getSelectedNode=rl,Hm.getNode=ol;const zm=e=>"textarea"===Sn(e),$m=(e,t)=>{const n=(e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return zr(n.offsetLeft,n.offsetTop);const a=$r(null==r?void 0:r.pageYOffset,o.scrollTop),i=$r(null==r?void 0:r.pageXOffset,o.scrollLeft),s=$r(o.clientTop,n.clientTop),l=$r(o.clientLeft,n.clientLeft);return qr(e).translate(i-l,a-s)})(e),r=(e=>Ur.get(e))(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},qm=(e,t,n,r)=>{Gm(e,(o,a)=>Wm(e,t,n,r),n)},Vm=(e,t,n,r,o)=>{const a={elm:r.element.dom,alignToTop:o};((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,a)||(n(e,t,Vr(t).top,r,o),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,a))},Wm=(e,t,n,r)=>{const o=pn(e.getBody()),a=pn(e.getDoc());o.dom.offsetWidth;const i=((e,t)=>{const n=((e,t)=>{const n=$n(e);if(0===n.length||zm(e))return{element:e,offset:t};if(t<n.length&&!zm(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return zm(r)?{element:e,offset:t}:"img"===Sn(r)?{element:r,offset:1}:Nn(r)?{element:r,offset:Xr(r).length}:{element:r,offset:$n(r).length}}})(e,t),r=dn('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return sr(n.element,r),$m(r,()=>Cr(r))})(pn(n.startContainer),n.startOffset);Vm(e,a,t,i,r),i.cleanup()},Km=(e,t,n,r)=>{const o=pn(e.getDoc());Vm(e,o,n,(e=>$m(pn(e),E))(t),r)},Gm=(e,t,n)=>{const r=n.startContainer,o=n.startOffset,a=n.endContainer,i=n.endOffset;t(pn(r),pn(a));const s=e.dom.createRng();s.setStart(r,o),s.setEnd(a,i),e.selection.setRng(n)},Ym=(e,t,n,r,o)=>{const a=t.pos;if(r)Wr(a.left,Math.max(0,a.top-30),o);else{const r=a.top-n+t.height+30;Wr(-e.getBody().getBoundingClientRect().left,r,o)}},Xm=(e,t,n,r,o,a)=>{const i=r+n,s=o.pos.top,l=o.bottom,c=l-s>=r;s<n?Ym(e,o,r,!1!==a,t):s>i?Ym(e,o,r,c?!1!==a:!0===a,t):l>i&&!c&&Ym(e,o,r,!0===a,t)},Qm=(e,t,n,r,o)=>{const a=Bn(t).dom.innerHeight;Xm(e,t,n,a,r,o)},Zm=(e,t,n,r,o)=>{const a=Bn(t).dom.innerHeight;Xm(e,t,n,a,r,o);const i=um(r.element),s=jo(window);i.top<s.y?Kr(r.element,!1!==o):i.top>s.bottom&&Kr(r.element,!0===o)},Jm=(e,t,n)=>qm(e,Qm,t,n),eh=(e,t,n)=>Km(e,t,Qm,n),th=(e,t,n)=>qm(e,Zm,t,n),nh=(e,t,n)=>Km(e,t,Zm,n),rh=(e,t,n)=>{(e.inline?Jm:th)(e,t,n)},oh=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),ah=(e,t,n,r,o)=>{const a=n?t.startContainer:t.endContainer,i=n?t.startOffset:t.endOffset;return j.from(a).map(pn).map(e=>r&&t.collapsed?e:qn(e,o(e,i)).getOr(e)).bind(e=>Tn(e)?j.some(e):Ln(e).filter(Tn)).map(e=>e.dom).getOr(e)},ih=(e,t,n=!1)=>ah(e,t,!0,n,(e,t)=>Math.min(Kn(e),t)),sh=(e,t,n=!1)=>ah(e,t,!1,n,(e,t)=>t>0?t-1:t),lh=(e,t)=>{const n=e;for(;e&&ta(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},ch=(e,t)=>V(t,t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t}),dh={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},uh=(e,t,n)=>{const r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){let n=e[o];if(n)return n;for(let r=e.parent;r&&r!==t;r=r.parent)if(n=r[o],n)return n}},fh=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!Ho(n))return!1;const r=e.parent;return!r||"span"===r.name&&!r.attr("style")||!/^[ ]+$/.test(n)},ph=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class mh{static create(e,t){const n=new mh(e,dh[e]||1);return t&&ge(t,(e,t)=>{n.attr(t,e)}),n}constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!p(e))return x(e)&&ge(e,(e,t)=>{n.attr(t,e)}),n;const r=n.attributes;if(r){if(void 0!==t){if(null===t){if(e in r.map){delete r.map[e];let t=r.length;for(;t--;)if(r[t].name===e)return r.splice(t,1),n}return n}if(e in r.map){let n=r.length;for(;n--;)if(r[n].name===e){r[n].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}}clone(){const e=this,t=new mh(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,r=n.length;t<r;t++){const r=n[t];"id"!==r.name&&(e[e.length]={name:r.name,value:r.value},e.map[r.name]=r.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r&&(r.next=n),t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n&&(n.prev=r),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=r,e}getAll(e){const t=this,n=[];for(let r=t.firstChild;r;r=uh(r,t))r.name===e&&n.push(r);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let n=e.firstChild;n;n=uh(n,e))t.push(n);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var r;const o=this;let a=o.firstChild;if(ph(o))return!1;if(a)do{if(1===a.type){if(a.attr("data-mce-bogus"))continue;if(e[a.name])return!1;if(ph(a))return!1}if(8===a.type)return!1;if(3===a.type&&!fh(a))return!1;if(3===a.type&&a.parent&&t[a.parent.name]&&Ho(null!==(r=a.value)&&void 0!==r?r:""))return!1;if(n&&n(a))return!1}while(a=uh(a,o));return!0}walk(e){return uh(this,null,e)}}const hh=ln.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),gh=e=>p(e.nodeValue)&&e.nodeValue.includes(Bs),vh=e=>(0===e.length?"":`${V(e,e=>`[${e}]`).join(",")},`)+'[data-mce-bogus="all"]',bh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,e=>gh(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),yh=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,e=>{if(gh(e)){const t=e.parentNode;return t&&Ee(hh,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP}),kh=e=>null!==bh(e).nextNode(),xh=e=>null!==yh(e).nextNode(),Ch=(e,t)=>null!==t.querySelector(vh(e)),wh=(e,t)=>{W(((e,t)=>t.querySelectorAll(vh(e)))(e,t),t=>{const n=pn(t);"all"===gr(n,"data-mce-bogus")?Cr(n):W(e,e=>{br(n,e)&&yr(n,e)})})},Sh=e=>{let t=e.nextNode();for(;null!==t;)t.nodeValue=null,t=e.nextNode()},Eh=_(Sh,bh),_h=_(Sh,yh),Ah=(e,t)=>{const n=[{condition:R(Ch,t),action:R(wh,t)},{condition:kh,action:Eh},{condition:xh,action:_h}];let r=e,o=!1;return W(n,({condition:t,action:n})=>{t(r)&&(o||(r=e.cloneNode(!0),o=!0),n(r))}),r},Th=e=>{const t=yo(e,"[data-mce-bogus]");W(t,e=>{"all"===gr(e,"data-mce-bogus")?Cr(e):_s(e)?(sr(e,fn(st)),Cr(e)):wr(e)})},Nh=e=>{const t=yo(e,"input");W(t,e=>{yr(e,"name")})},Oh=(e,t,n)=>{let r;return r="raw"===t.format?ln.trim(Is(Ah(n,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?((e,t)=>{const n=e.getDoc(),r=Yn(pn(e.getBody())),o=un("div",n);mr(o,"data-mce-bogus","all"),Mr(o,{position:"fixed",left:"-9999999px",top:"0"}),Nr(o,t.innerHTML),Th(o),Nh(o);const a=(e=>Gn(e)?e:pn(Mn(e).dom.body))(r);dr(a,o);const i=Is(o.dom.innerText);return Cr(o),i})(e,n):"tree"===t.format?e.serializer.serialize(n,t):((e,t)=>{const n=Rc(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(r,"")})(e,e.serializer.serialize(n,t)),"text"!==t.format&&!Ps(pn(n))&&p(r)?ln.trim(r):r},Rh=ln.makeMap,Ph=e=>{const t=[],n=(e=e||{}).indent,r=Rh(e.indent_before||""),o=Rh(e.indent_after||""),a=fi.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="xhtml"!==e.element_format;return{start:(e,s,l)=>{if(n&&r[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),s)for(let e=0,n=s.length;e<n;e++){const n=s[e];t.push(" ",n.name,'="',a(n.value,!0),'"')}if(t[t.length]=!l||i?">":" />",l&&n&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let r;t.push("</",e,">"),n&&o[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&"\n"!==r&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:a(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,r)=>{r?t.push("<?",e," ",a(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Dh=(e={},t=Ni())=>{const n=Ph(e);return e.validate=!("validate"in e)||e.validate,{serialize:r=>{const o=e.validate,a={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{i(t)}while(t=t.next)}};n.reset();const i=e=>{var r;const s=a[e.type];if(s)s(e);else{const a=e.name,s=a in t.getVoidElements();let l=e.attributes;if(o&&l&&l.length>1){const n=[];n.map={};const r=t.getElementRule(e.name);if(r){for(let e=0,t=r.attributesOrder.length;e<t;e++){const t=r.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(a,l,s),Aa(a))p(e.value)&&n.text(e.value,!0),n.end(a);else if(!s){let t=e.firstChild;if(t){"pre"!==a&&"textarea"!==a||3!==t.type||"\n"!==(null===(r=t.value)||void 0===r?void 0:r[0])||n.text("\n",!0);do{i(t)}while(t=t.next)}n.end(a)}}};return 1!==r.type||e.inner?3===r.type?a[3](r):a[11](r):i(r),n.getContent()}}},Mh=new Set;W(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],e=>{Mh.add(e)});const Bh=new Set;W(["background-color"],e=>{Bh.add(e)});const Lh=["font","text-decoration","text-emphasis"],Ih=(e,t)=>me(((e,t)=>e.parseStyle(e.getAttrib(t,"style")))(e,t)),jh=(e,t)=>q(Ih(e,t),e=>(e=>Mh.has(e))(e)),Fh=(e,t,n)=>j.from(n.container()).filter(ta).exists(r=>{const o=e?0:-1;return t(r.data.charAt(n.offset()+o))}),Uh=R(Fh,!0,Gf),Hh=R(Fh,!1,Gf),zh=e=>{const t=e.container();return ta(t)&&(0===t.data.length||Ls(t.data)&&Qp.isBookmarkNode(t.parentNode))},$h=(e,t)=>n=>Xu(e?0:-1,n).filter(t).isSome(),qh=e=>la(e)&&"block"===Br(pn(e),"display"),Vh=e=>ua(e)&&!(e=>Wo(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),Wh=$h(!0,qh),Kh=$h(!1,qh),Gh=$h(!0,ha),Yh=$h(!1,ha),Xh=$h(!0,Zo),Qh=$h(!1,Zo),Zh=$h(!0,Vh),Jh=$h(!1,Vh),eg=(e,t)=>((e,t,n)=>Cn(t,e)?jn(e,e=>n(e)||xn(e,t)).slice(0,-1):[])(e,t,L),tg=(e,t)=>[e].concat(eg(e,t)),ng=(e,t,n)=>Ef(e,t,n,zh),rg=(e,t,n)=>J(tg(pn(t.container()),e),(e=>t=>e.isBlock(Sn(t)))(n)),og=(e,t,n,r)=>ng(e,t.dom,n).forall(e=>rg(t,n,r).fold(()=>!Yu(e,n,t.dom),r=>!Yu(e,n,t.dom)&&Cn(r,pn(e.container())))),ag=(e,t,n,r)=>rg(t,n,r).fold(()=>ng(e,t.dom,n).forall(e=>!Yu(e,n,t.dom)),t=>ng(e,t.dom,n).isNone()),ig=R(ag,!1),sg=R(ag,!0),lg=R(og,!1),cg=R(og,!0),dg=e=>af(e).exists(_s),ug=(e,t,n,r)=>{const o=Y(tg(pn(n.container()),t),e=>r.isBlock(Sn(e))),a=ce(o).getOr(t);return wf(e,a.dom,n).filter(dg)},fg=(e,t,n)=>af(t).exists(_s)||ug(!0,e,t,n).isSome(),pg=(e,t,n)=>(e=>j.from(e.getNode(!0)).map(pn))(t).exists(_s)||ug(!1,e,t,n).isSome(),mg=R(ug,!1),hg=R(ug,!0),gg=e=>Bl.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),vg=(e,t,n)=>{const r=Y(tg(pn(t.container()),e),e=>n.isBlock(Sn(e)));return ce(r).getOr(e)},bg=(e,t,n)=>gg(t)?Hh(t):Hh(t)||Tf(vg(e,t,n).dom,t).exists(Hh),yg=(e,t,n)=>gg(t)?Uh(t):Uh(t)||Af(vg(e,t,n).dom,t).exists(Uh),kg=e=>af(e).bind(e=>to(e,Tn)).exists(e=>(e=>$(["pre","pre-wrap"],e))(Br(e,"white-space"))),xg=(e,t)=>n=>{return r=new Fo(n,e)[t](),x(r)&&ua(r)&&ju(r);var r},Cg=(e,t,n)=>!kg(t)&&(((e,t,n)=>((e,t)=>Tf(e.dom,t).isNone())(e,t)||((e,t)=>Af(e.dom,t).isNone())(e,t)||ig(e,t,n)||sg(e,t,n)||pg(e,t,n)||fg(e,t,n))(e,t,n)||bg(e,t,n)||yg(e,t,n)),wg=(e,t,n)=>!kg(t)&&(ig(e,t,n)||lg(e,t,n)||pg(e,t,n)||bg(e,t,n)||((e,t)=>{const n=Tf(e.dom,t).getOr(t),r=xg(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))})(e,t)),Sg=(e,t,n)=>!kg(t)&&(sg(e,t,n)||cg(e,t,n)||fg(e,t,n)||yg(e,t,n)||((e,t)=>{const n=Af(e.dom,t).getOr(t),r=xg(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))})(e,t)),Eg=(e,t,n)=>wg(e,t,n)||Sg(e,(e=>{const t=e.container(),n=e.offset();return ta(t)&&n<t.data.length?Bl(t,n+1):e})(t),n),_g=(e,t)=>Wf(e.charAt(t)),Ag=(e,t)=>Gf(e.charAt(t)),Tg=(e,t,n,r)=>{const o=t.data,a=Bl(t,0);return n||!_g(o,0)||Eg(e,a,r)?!!(n&&Ag(o,0)&&wg(e,a,r))&&(t.data=lt+o.slice(1),!0):(t.data=" "+o.slice(1),!0)},Ng=(e,t,n,r)=>{const o=t.data,a=Bl(t,o.length-1);return n||!_g(o,o.length-1)||Eg(e,a,r)?!!(n&&Ag(o,o.length-1)&&Sg(e,a,r))&&(t.data=o.slice(0,-1)+lt,!0):(t.data=o.slice(0,-1)+" ",!0)},Og=(e,t,n)=>{const r=t.container();if(!ta(r))return j.none();if((e=>{const t=e.container();return ta(t)&&Ge(t.data,lt)})(t)){const o=Tg(e,r,!1,n)||(e=>{const t=e.data,n=(e=>{const t=e.split("");return V(t,(e,n)=>Wf(e)&&n>0&&n<t.length-1&&Yf(t[n-1])&&Yf(t[n+1])?" ":e).join("")})(t);return n!==t&&(e.data=n,!0)})(r)||Ng(e,r,!1,n);return ze(o,t)}if(Eg(e,t,n)){const o=Tg(e,r,!0,n)||Ng(e,r,!0,n);return ze(o,t)}return j.none()},Rg=(e,t,n,r)=>{if(0===n)return;const o=pn(e),a=eo(o,e=>r.isBlock(Sn(e))).getOr(o),i=e.data.slice(t,t+n),s=t+n>=e.data.length&&Sg(a,Bl(e,e.data.length),r),l=0===t&&wg(a,Bl(e,0),r);e.replaceData(t,n,$o(i,4,l,s))},Pg=(e,t,n)=>{const r=e.data.slice(t),o=r.length-Je(r).length;Rg(e,t,o,n)},Dg=(e,t,n)=>{const r=e.data.slice(0,t),o=r.length-et(r).length;Rg(e,t-o,o,n)},Mg=(e,t,n,r,o=!0)=>{const a=et(e.data).length,i=o?e:t,s=o?t:e;return o?i.appendData(s.data):i.insertData(0,s.data),Cr(pn(s)),r&&Pg(i,a,n),i},Bg=(e,t)=>((e,t)=>{const n=e.container(),r=e.offset();return!Bl.isTextPosition(e)&&n===t.parentNode&&r>Bl.before(t).offset()})(t,e)?Bl(t.container(),t.offset()-1):t,Lg=e=>{return hl(e.previousSibling)?j.some((t=e.previousSibling,ta(t)?Bl(t,t.data.length):Bl.after(t))):e.previousSibling?Of(e.previousSibling):j.none();var t},Ig=e=>{return hl(e.nextSibling)?j.some((t=e.nextSibling,ta(t)?Bl(t,0):Bl.before(t))):e.nextSibling?Nf(e.nextSibling):j.none();var t},jg=(e,t,n)=>((e,t,n)=>e?((e,t)=>Ig(t).orThunk(()=>Lg(t)).orThunk(()=>((e,t)=>Af(e,Bl.after(t)).orThunk(()=>Tf(e,Bl.before(t))))(e,t)))(t,n):((e,t)=>Lg(t).orThunk(()=>Ig(t)).orThunk(()=>((e,t)=>j.from(t.previousSibling?t.previousSibling:t.parentNode).bind(t=>Tf(e,Bl.before(t))).orThunk(()=>Af(e,Bl.after(t))))(e,t)))(t,n))(e,t,n).map(R(Bg,n)),Fg=(e,t,n)=>{n.fold(()=>{e.focus()},n=>{e.selection.setRng(n.toRange(),t)})},Ug=(e,t)=>t&&Ee(e.schema.getBlockElements(),Sn(t)),Hg=(e,t,n,r=!0,o=!1)=>{const a=jg(t,e.getBody(),n.dom),i=eo(n,R(Ug,e),(s=e.getBody(),e=>e.dom===s));var s;const l=((e,t,n,r)=>{const o=Fn(e).filter(Nn),a=Un(e).filter(Nn);return Cr(e),(i=o,s=a,l=t,c=(e,t,o)=>{const a=e.dom,i=t.dom,s=a.data.length;return Mg(a,i,n,r),o.container()===i?Bl(a,s):o},i.isSome()&&s.isSome()&&l.isSome()?j.some(c(i.getOrDie(),s.getOrDie(),l.getOrDie())):j.none()).orThunk(()=>(r&&(o.each(e=>Dg(e.dom,e.dom.length,n)),a.each(e=>Pg(e.dom,0,n))),t));var i,s,l,c})(n,a,e.schema,((e,t)=>Ee(e.schema.getTextInlineElements(),Sn(t)))(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(t=>((e,t,n)=>{if(Sa(e,t)){const e=dn('<br data-mce-bogus="1">');return n?W($n(t),e=>{Tp(e)||Cr(e)}):xr(t),dr(t,e),j.some(Bl.before(e.dom))}return j.none()})(e.schema,t,o)).fold(()=>{r&&Fg(e,t,l)},n=>{r&&Fg(e,t,j.some(n))})},zg=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,$g=(e,t)=>yn(pn(t),rd(e))&&!za(e.schema,t)&&e.dom.isEditable(t),qg=e=>{var t;return"rtl"===os.DOM.getStyle(e,"direction",!0)||(e=>zg.test(e))(null!==(t=e.textContent)&&void 0!==t?t:"")},Vg=(e,t,n)=>{const r=((e,t,n)=>Y(os.DOM.getParents(n.container(),"*",t),e))(e,t,n);return j.from(r[r.length-1])},Wg=(e,t)=>{const n=t.container(),r=t.offset();return e?Hs(n)?ta(n.nextSibling)?Bl(n.nextSibling,0):Bl.after(n):qs(t)?Bl(n,r+1):t:Hs(n)?ta(n.previousSibling)?Bl(n.previousSibling,n.previousSibling.data.length):Bl.before(n):Vs(t)?Bl(n,r-1):t},Kg=R(Wg,!0),Gg=R(Wg,!1),Yg=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},Xg=e=>Yg(e,"Delete"),Qg=e=>Yg(e,"ForwardDelete"),Zg=e=>As(e)||Ns(e),Jg=(e,t)=>Cn(e,t)?to(t,Zg,(e=>t=>Fe(Ln(t),e,xn))(e)):j.none(),ev=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},tv=(e,t,n)=>He(Nf(n),Of(n),(r,o)=>{const a=Wg(!0,r),i=Wg(!1,o),s=Wg(!1,t);return e?Af(n,s).exists(e=>e.isEqual(i)&&t.isEqual(a)):Tf(n,s).exists(e=>e.isEqual(a)&&t.isEqual(i))}).getOr(!0),nv=e=>{var t;return(8===En(t=e)||"#comment"===Sn(t)?Fn(e):Wn(e)).bind(nv).orThunk(()=>j.some(e))},rv=(e,t,n,r=!0)=>{var o;t.deleteContents();const a=nv(n).getOr(n),i=pn(null!==(o=e.dom.getParent(a.dom,e.dom.isBlock))&&void 0!==o?o:n.dom);if(i.dom===e.getBody()?ev(e,r):Sa(e.schema,i,{checkRootAsContent:!1})&&(Ms(i),r&&e.selection.setCursorLocation(i.dom,0)),!xn(n,i)){const t=Fe(Ln(i),n)?[]:Ln(s=i).map($n).map(e=>Y(e,e=>!xn(s,e))).getOr([]);W(t.concat($n(n)),t=>{xn(t,i)||Cn(t,i)||!Sa(e.schema,t)||Cr(t)})}var s},ov=e=>yo(e,"td,th"),av=(e,t)=>Jf(pn(e),t),iv=(e,t)=>({start:e,end:t}),sv=Ae([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),lv=(e,t)=>ao(pn(e),"td,th",t),cv=e=>!xn(e.start,e.end),dv=(e,t)=>Jf(e.start,t).bind(n=>Jf(e.end,t).bind(e=>ze(xn(n,e),n))),uv=e=>t=>dv(t,e).map(e=>((e,t,n)=>({rng:e,table:t,cells:n}))(t,e,ov(e))),fv=(e,t,n,r)=>{if(n.collapsed||!e.forall(cv))return j.none();if(t.isSameTable){const t=e.bind(uv(r));return j.some({start:t,end:t})}{const e=lv(n.startContainer,r),t=lv(n.endContainer,r),o=e.bind((e=>t=>Jf(t,e).bind(e=>de(ov(e)).map(e=>iv(t,e))))(r)).bind(uv(r)),a=t.bind((e=>t=>Jf(t,e).bind(e=>ce(ov(e)).map(e=>iv(e,t))))(r)).bind(uv(r));return j.some({start:o,end:a})}},pv=(e,t)=>ee(e,e=>xn(e,t)),mv=e=>He(pv(e.cells,e.rng.start),pv(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),hv=(e,t)=>{const{startTable:n,endTable:r}=t,o=e.cloneRange();return n.each(e=>o.setStartAfter(e.dom)),r.each(e=>o.setEndBefore(e.dom)),o},gv=(e,t)=>{const n=(e=>t=>xn(e,t))(e),r=((e,t)=>{const n=lv(e.startContainer,t),r=lv(e.endContainer,t);return He(n,r,iv)})(t,n),o=((e,t)=>{const n=av(e.startContainer,t),r=av(e.endContainer,t),o=n.isSome(),a=r.isSome(),i=He(n,r,xn).getOr(!1);return(e=>He(e.startTable,e.endTable,(t,n)=>{const r=Co(t,e=>xn(e,n)),o=Co(n,e=>xn(e,t));return r||o?{...e,startTable:r?j.none():e.startTable,endTable:o?j.none():e.endTable,isSameTable:!1,isMultiTable:!1}:e}).getOr(e))({startTable:n,endTable:r,isStartInTable:o,isEndInTable:a,isSameTable:i,isMultiTable:!i&&o&&a})})(t,n);return((e,t,n)=>e.exists(e=>((e,t)=>!cv(e)&&dv(e,t).exists(e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length}))(e,n)&&np(e.start,t)))(r,t,n)?r.map(e=>sv.singleCellTable(t,e.start)):o.isMultiTable?((e,t,n,r)=>fv(e,t,n,r).bind(({start:e,end:r})=>{const o=e.bind(mv).getOr([]),a=r.bind(mv).getOr([]);if(o.length>0&&a.length>0){const e=hv(n,t);return j.some(sv.multiTable(o,a,e))}return j.none()}))(r,o,t,n):((e,t,n,r)=>fv(e,t,n,r).bind(({start:e,end:t})=>e.or(t)).bind(e=>{const{isSameTable:r}=t,o=mv(e).getOr([]);if(r&&e.cells.length===o.length)return j.some(sv.fullTable(e.table));if(o.length>0){if(r)return j.some(sv.partialTable(o,j.none()));{const e=hv(n,t);return j.some(sv.partialTable(o,j.some({...t,rng:e})))}}return j.none()}))(r,o,t,n)},vv=e=>W(e,e=>{yr(e,"contenteditable"),Ms(e)}),bv=(e,t,n,r)=>{const o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),Cv(e,o,t,!1).each(e=>e())},yv=e=>{const t=Zf(e),n=pn(e.selection.getNode());pa(n.dom)&&Sa(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&q(t,e=>xn(e,n))&&mr(n,"data-mce-selected","1")},kv=(e,t,n)=>j.some(()=>{const r=e.selection.getRng(),o=n.bind(({rng:n,isStartInTable:o})=>{const a=((e,t)=>j.from(e.dom.getParent(t,e.dom.isBlock)).map(pn))(e,o?n.endContainer:n.startContainer);n.deleteContents(),((e,t,n)=>{n.each(n=>{t?Cr(n):(Ms(n),e.selection.setCursorLocation(n.dom,0))})})(e,o,a.filter(R(Sa,e.schema)));const i=o?t[0]:t[t.length-1];return bv(e,i,r,o),Sa(e.schema,i)?j.none():j.some(o?t.slice(1):t.slice(0,-1))}).getOr(t);vv(o),yv(e)}),xv=(e,t,n,r)=>j.some(()=>{const o=e.selection.getRng(),a=t[0],i=n[n.length-1];bv(e,a,o,!0),bv(e,i,o,!1);const s=Sa(e.schema,a)?t:t.slice(1),l=Sa(e.schema,i)?n:n.slice(0,-1);vv(s.concat(l)),r.deleteContents(),yv(e)}),Cv=(e,t,n,r=!0)=>j.some(()=>{rv(e,t,n,r)}),wv=(e,t)=>j.some(()=>Hg(e,!1,t)),Sv=(e,t)=>J(tg(t,e),Rs),Ev=(e,t)=>J(tg(t,e),Pn("caption")),_v=(e,t)=>j.some(()=>{Ms(t),e.selection.setCursorLocation(t.dom,0)}),Av=(e,t)=>e?Xh(t):Qh(t),Tv=(e,t,n)=>{const r=pn(e.getBody());return Ev(r,n).fold(()=>((e,t,n,r)=>{const o=Bl.fromRangeStart(e.selection.getRng());return Sv(n,r).bind(r=>Sa(e.schema,r,{checkRootAsContent:!1})?_v(e,r):((e,t,n,r,o)=>Sf(n,e.getBody(),o).bind(e=>Sv(t,pn(e.getNode())).bind(e=>xn(e,r)?j.none():j.some(E))))(e,n,t,r,o))})(e,t,r,n).orThunk(()=>ze(((e,t)=>{const n=Bl.fromRangeStart(e.selection.getRng());return Av(t,n)||wf(t,e.getBody(),n).exists(e=>Av(t,e))})(e,t),E)),n=>((e,t,n,r)=>{const o=Bl.fromRangeStart(e.selection.getRng());return Sa(e.schema,r)?_v(e,r):((e,t,n,r,o)=>Sf(n,e.getBody(),o).fold(()=>j.some(E),a=>((e,t,n,r)=>Nf(e.dom).bind(o=>Of(e.dom).map(e=>t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o))).getOr(!0))(r,n,o,a)?((e,t)=>_v(e,t))(e,r):((e,t,n)=>Ev(e,pn(n.getNode())).fold(()=>j.some(E),e=>ze(!xn(e,t),E)))(t,r,a)))(e,n,t,r,o)})(e,t,r,n))},Nv=(e,t)=>{const n=pn(e.selection.getStart(!0)),r=Zf(e);return e.selection.isCollapsed()&&0===r.length?Tv(e,t,n):((e,t,n)=>{const r=pn(e.getBody()),o=e.selection.getRng();return 0!==n.length?kv(e,n,j.none()):((e,t,n,r)=>Ev(t,r).fold(()=>((e,t,n)=>gv(t,n).bind(t=>t.fold(R(Cv,e),R(wv,e),R(kv,e),R(xv,e))))(e,t,n),t=>((e,t)=>_v(e,t))(e,t)))(e,r,o,t)})(e,n,r)},Ov=(e,t)=>{let n=t;for(;n&&n!==e;){if(da(n)||ua(n))return n;n=n.parentNode}return null},Rv=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Pv=ln.each,Dv=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=e=>q(Rv,t=>Ye(e,t))||n.has(e);return{compare:(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const o=e=>{const n={};return Pv(t.getAttribs(e),o=>{const a=o.nodeName.toLowerCase();"style"===a||r(a)||(n[a]=t.getAttrib(e,a))}),n},a=(e,t)=>{for(const n in e)if(Ee(e,n)){const r=t[n];if(y(r))return!1;if(e[n]!==r)return!1;delete t[n]}for(const e in t)if(Ee(t,e))return!1;return!0};if(Wo(e)&&Wo(n)){if(!a(o(e),o(n)))return!1;if(!a(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style"))))return!1}return!Vf(e)&&!Vf(n)},isAttributeInternal:r}},Mv=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),Bv=(e,t,n,r)=>{const o=n.name;for(let t=0,a=e.length;t<a;t++){const a=e[t];if(a.name===o){const e=r.nodes[o];e?e.nodes.push(n):r.nodes[o]={filter:a,nodes:[n]}}}if(n.attributes)for(let e=0,o=t.length;e<o;e++){const o=t[e],a=o.name;if(a in n.attributes.map){const e=r.attributes[a];e?e.nodes.push(n):r.attributes[a]={filter:o,nodes:[n]}}}},Lv=(e,t)=>{const n=(e,n)=>{ge(e,e=>{const r=ue(e.nodes);W(e.filter.callbacks,o=>{for(let t=r.length-1;t>=0;t--){const o=r[t];(n?void 0!==o.attr(e.filter.name):o.name===e.filter.name)&&!k(o.parent)||r.splice(t,1)}r.length>0&&o(r,e.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},Iv=(e,t,n,r={})=>{const o=((e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&((e,t)=>{let n=e;for(;n=n.walk();)t(n)})(n,n=>{Bv(e,t,n,r)}),r})(e,t,n);Lv(o,r)},jv=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){const e=new mh("br",1);t.insert&&e.attr("data-mce-bogus","1"),r.empty().append(e)}else r.empty().append(new mh("#text",3)).value=lt},Fv=(e,t)=>{const n=null==e?void 0:e.firstChild;return x(n)&&n===e.lastChild&&n.name===t},Uv=(e,t,n,r)=>r.isEmpty(t,n,t=>((e,t)=>{const n=e.getElementRule(t.name);return!0===(null==n?void 0:n.paddEmpty)})(e,t)),Hv=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr("contenteditable");if("false"===e)break;"true"===e&&(t=n)}return j.from(t)},zv=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const e of r)n&&!t.isValidChild(n.name,e.name)&&zv(e,t,n);e.unwrap()}},$v=(e,t,n,r=E)=>{const o=t.getTextBlockElements(),a=t.getNonEmptyElements(),i=t.getWhitespaceElements(),s=ln.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),l=new Set,c=e=>e!==n&&!s[e.name];for(let n=0;n<e.length;n++){const s=e[n];let d,u,f;if(!s.parent||l.has(s))continue;if(o[s.name]&&"li"===s.parent.name){let e=s.next;for(;e&&o[e.name];)e.name="li",l.add(e),s.parent.insert(e,s.parent),e=e.next;s.unwrap();continue}const p=[s];for(d=s.parent;d&&!t.isValidChild(d.name,s.name)&&c(d);d=d.parent)p.push(d);if(d&&p.length>1)if(qv(t,s,d))zv(s,t);else{p.reverse(),u=p[0].clone(),r(u);let e=u;for(let n=0;n<p.length-1;n++){t.isValidChild(e.name,p[n].name)&&n>0?(f=p[n].clone(),r(f),e.append(f)):f=e;for(let e=p[n].firstChild;e&&e!==p[n+1];){const t=e.next;f.append(e),e=t}e=f}Uv(t,a,i,u)?d.insert(s,p[0],!0):(d.insert(u,p[0],!0),d.insert(s,u)),d=p[0],(Uv(t,a,i,d)||Fv(d,"br"))&&d.empty().remove()}else if(s.parent){if("li"===s.name){let e=s.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(s);continue}if(e=s.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(s,e.firstChild,!0);continue}const t=new mh("ul",1);r(t),s.wrap(t);continue}if(t.isValidChild(s.parent.name,"div")&&t.isValidChild("div",s.name)){const e=new mh("div",1);r(e),s.wrap(e)}else zv(s,t)}}},qv=(e,t,n=t.parent)=>!(!n||(!e.children[t.name]||e.isValidChild(n.name,t.name))&&("a"!==t.name||!(e=>{let t=e;for(;t;){if("a"===t.name)return!0;t=t.parent}return!1})(n))&&(!(e=>"summary"===e.name)(n)||!Mv(t)||(null==n?void 0:n.firstChild)===t&&(null==n?void 0:n.lastChild)===t)),Vv=e=>e.collapsed?e:(e=>{const t=Bl.fromRangeStart(e),n=Bl.fromRangeEnd(e),r=e.commonAncestorContainer;return wf(!1,r,n).map(o=>!Yu(t,n,r)&&Yu(t,o,r)?((e,t,n,r)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(n,r),o})(t.container(),t.offset(),o.container(),o.offset()):e).getOr(e)})(e),Wv=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),((e,t)=>{const n=e.getNonEmptyElements();return x(t)&&(t.isEmpty(n)||((e,t)=>e.getBlockElements()[t.name]&&(e=>x(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===lt)(t.firstChild))(e,t))})(e,r)&&(r=null==r?void 0:r.prev),!(!n||n!==r||"ul"!==n.name&&"ol"!==n.name)},Kv=e=>{return e.length>0&&(!(n=e[e.length-1]).firstChild||x(null==(t=n)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&(e=>e.data===lt||sa(e))(t.firstChild))?e.slice(0,-1):e;var t,n},Gv=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Yv=(e,t)=>{const n=Bl.after(e),r=yf(t).prev(n);return r?r.toRange():null},Xv=(e,t,n,r)=>{const o=((e,t,n)=>{const r=t.serialize(n);return(e=>{var t,n;const r=e.firstChild,o=e.lastChild;return r&&"META"===r.nodeName&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r)),o&&"mce_marker"===o.id&&(null===(n=o.parentNode)||void 0===n||n.removeChild(o)),e})(e.createFragment(r))})(t,e,r),a=Gv(t,n.startContainer),i=Kv((s=o.firstChild,Y(null!==(l=null==s?void 0:s.childNodes)&&void 0!==l?l:[],e=>"LI"===e.nodeName)));var s,l;const c=t.getRoot(),d=e=>{const r=Bl.fromRangeStart(n),o=yf(t.getRoot()),i=1===e?o.prev(r):o.next(r),s=null==i?void 0:i.getNode();return!s||Gv(t,s)!==a};return a?d(1)?((e,t,n)=>{const r=e.parentNode;return r&&ln.each(t,t=>{r.insertBefore(t,e)}),((e,t)=>{const n=Bl.before(e),r=yf(t).next(n);return r?r.toRange():null})(e,n)})(a,i,c):d(2)?((e,t,n,r)=>(r.insertAfter(t.reverse(),e),Yv(t[0],n)))(a,i,c,t):((e,t,n,r)=>{const o=((e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]})(e,r),a=e.parentNode;return a&&(a.insertBefore(o[0],e),ln.each(t,t=>{a.insertBefore(t,e)}),a.insertBefore(o[1],e),a.removeChild(e)),Yv(t[t.length-1],n)})(a,i,c,n):null},Qv=["pre"],Zv=pa,Jv=e=>tb(e,ta),eb=e=>tb(e,ca),tb=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),nb=(e,t,n)=>{var r,o;const a=e.selection,i=e.dom,s=e.parser,l=n.merge,c=Dh({validate:!0},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=Is(t)),-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);let u=a.getRng();const f=u.startContainer,p=e.getBody();f===p&&a.isCollapsed()&&i.isBlock(p.firstChild)&&((e,t)=>x(t)&&!e.schema.getVoidElements()[t.nodeName])(e,p.firstChild)&&i.isEmpty(p.firstChild)&&(u=i.createRng(),u.setStart(p.firstChild,0),u.setEnd(p.firstChild,0),a.setRng(u)),a.isCollapsed()||(e=>{const t=e.dom,n=Vv(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,Zv);((e,t,n)=>!!x(n)&&n===e.getParent(t.endContainer,Zv)&&np(pn(n),t))(t,n,r)?Cv(e,n,pn(r)):eb(n)||Jv(n)?n.deleteContents():e.getDoc().execCommand("Delete",!1)})(e);const m=a.getNode(),h={context:m.nodeName.toLowerCase(),data:n.data,insert:!0},g=s.parse(t,h);if(!0===n.paste&&Wv(e.schema,g)&&((e,t)=>!!Gv(e,t))(i,m))return u=Xv(c,i,a.getRng(),g),u&&a.setRng(u),t;!0===n.paste&&((e,t,n,r)=>{var o;const a=t.firstChild,i=t.lastChild,s=a===("bookmark"===i.attr("data-mce-type")?i.prev:i),l=$(Qv,a.name);if(s&&l){const t="false"!==a.attr("contenteditable"),i=(null===(o=e.getParent(n,e.isBlock))||void 0===o?void 0:o.nodeName.toLowerCase())===a.name,s=j.from(Ov(r,n)).forall(da);return t&&i&&s}return!1})(i,g,m,e.getBody())&&(null===(r=g.firstChild)||void 0===r||r.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(g);let v=g.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v&&"table"!==v.name;v=v.walk(!0))if(3===v.type||!i.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(m),h.invalid||((e,t,n)=>{var r;return q(n.children(),Mv)&&"SUMMARY"===(null===(r=e.getParent(t,e.isBlock))||void 0===r?void 0:r.nodeName)})(i,m,g)){e.selection.setContent(d);let n,r=a.getNode();const l=e.getBody();for(aa(r)?r=n=l:n=r;n&&n!==l;)r=n,n=n.parentNode;t=r===l?l.innerHTML:i.getOuterHTML(r);const u=s.parse(t),f=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return j.some(t);return j.none()})(u),p=f.bind(Hv).getOr(u);f.each(e=>e.replace(g));const m=g.children(),h=null!==(o=g.parent)&&void 0!==o?o:u;g.unwrap();const v=Y(m,t=>qv(e.schema,t,h));$v(v,e.schema,p),Iv(s.getNodeFilters(),s.getAttributeFilters(),u),t=c.serialize(u),r===l?i.setHTML(l,t):i.setOuterHTML(r,t)}else t=c.serialize(g),((e,t,n)=>{var r;"all"===n.getAttribute("data-mce-bogus")?null===(r=n.parentNode)||void 0===r||r.insertBefore(e.dom.createFragment(t),n):((e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const e=t.childNodes;return 1===e.length&&sa(e[0])||0===e.length}return!1})(e.dom,n)?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})})(e,t,m);var b;return((e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const t=e.getBody(),o=Dv(e),a="*[data-mce-fragment]",i=r.select(a);ln.each(i,e=>{const i=e=>x(n[e.nodeName.toLowerCase()]),s=e=>1===e.childNodes.length;if(!jh(r,l=e)&&!((e,t)=>jh(e,t)&&q(Ih(e,t),e=>(e=>Bh.has(e))(e)))(r,l)&&i(e)&&s(e)){const n=Ih(r,e),l=(e,t)=>re(e,e=>$(t,e)),c=t=>s(e)&&r.is(t,a)&&i(t)&&(t.nodeName===e.nodeName&&l(n,Ih(r,t))||c(t.children[0])),d=n=>x(n)&&n!==t&&(o.compare(e,n)||d(n.parentElement)),u=n=>x(n)&&n!==t&&r.is(n,a)&&(((e,t,n)=>{const r=Ih(e,t),o=Ih(e,n),a=r=>{var o,a;const i=null!==(o=e.getStyle(t,r))&&void 0!==o?o:"",s=null!==(a=e.getStyle(n,r))&&void 0!==a?a:"";return tt(i)&&tt(s)&&i!==s};return q(r,e=>{const t=t=>q(t,t=>t===e);if(!t(o)&&t(Lh)){const e=Y(o,e=>q(Lh,t=>Ye(e,t)));return q(e,a)}return a(e)})})(r,e,n)||u(n.parentElement));(c(e.children[0])||d(e.parentElement)&&!u(e.parentElement))&&r.remove(e,!0)}var l})}})(e,l),((e,t)=>{var n,r,o;let a;const i=e.dom,s=e.selection;if(!t)return;s.scrollIntoView(t);const l=Ov(e.getBody(),t);if(l&&"false"===i.getContentEditable(l))return i.remove(t),void s.select(l);let c=i.createRng();const d=t.previousSibling;if(ta(d)){c.setStart(d,null!==(r=null===(n=d.nodeValue)||void 0===n?void 0:n.length)&&void 0!==r?r:0);const e=t.nextSibling;ta(e)&&(d.appendData(e.data),null===(o=e.parentNode)||void 0===o||o.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const u=i.getParent(t,i.isBlock);if(i.remove(t),u&&i.isEmpty(u)){const t=Zv(u);xr(pn(u)),c.setStart(u,0),c.setEnd(u,0),t||(e=>!!e.getAttribute("data-mce-fragment"))(u)||!(a=(t=>{let n=Bl.fromRangeStart(t);return n=yf(e.getBody()).next(n),null==n?void 0:n.toRange()})(c))?i.add(u,i.create("br",t?{}:{"data-mce-bogus":"1"})):(c=a,i.remove(u))}s.setRng(c)})(e,i.get("mce_marker")),b=e.getBody(),ln.each(b.getElementsByTagName("*"),e=>{e.removeAttribute("data-mce-fragment")}),((e,t,n)=>{j.from(e.getParent(t,"td,th")).map(pn).each(e=>((e,t)=>{Wn(e).each(n=>{Fn(n).each(r=>{t.isBlock(Sn(e))&&_s(n)&&t.isBlock(Sn(r))&&Cr(n)})})})(e,n))})(i,a.getStart(),e.schema),((e,t,n)=>{const r=jn(pn(n),e=>xn(e,pn(t)));le(r,r.length-2).filter(Tn).fold(()=>Ia(e,t),t=>Ia(e,t.dom))})(e.schema,e.getBody(),a.getStart()),t},rb=e=>e instanceof mh,ob=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&(e=>{xm(e)&&Nf(e.getBody()).each(t=>{const n=t.getNode(),r=Zo(n)?Nf(n).getOr(t):t;e.selection.setRng(r.toRange())})})(e)},ab=vp,ib=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let n=0;n<r.length;n++){const o=r[n];if(Sp(o)&&!1===o.inherit&&e.dom.is(t,o.selector))return!0}return!1},sb=(e,t,n,r,o)=>{const a=e.dom.getRoot();if(t===a)return!1;const i=e.dom.getParent(t,t=>!!ib(e,t,n)||t.parentNode===a||!!db(e,t,n,r,!0));return!!db(e,i,n,r,o)},lb=(e,t,n)=>!(!Ep(n)||!ab(t,n.inline))||!(!wp(n)||!ab(t,n.block))||!!Sp(n)&&Wo(t)&&e.is(t,n.selector),cb=(e,t,n,r,o,a)=>{const i=n[r],s="attributes"===r;if(C(n.onmatch))return n.onmatch(t,n,r);if(i)if(ut(i)){for(let n=0;n<i.length;n++)if(s?e.getAttrib(t,i[n]):yp(e,t,i[n]))return!0}else for(const r in i)if(Ee(i,r)){const l=s?e.getAttrib(t,r):yp(e,t,r),c=gp(i[r],a),d=k(l)||nt(l);if(d&&k(c))continue;if(o&&d&&!n.exact)return!1;if((!o||n.exact)&&!ab(l,bp(c,r)))return!1}return!0},db=(e,t,n,r,o)=>{const a=e.formatter.get(n),i=e.dom;if(a&&Wo(t))for(let n=0;n<a.length;n++){const s=a[n];if(lb(e.dom,t,s)&&cb(i,t,s,"attributes",o,r)&&cb(i,t,s,"styles",o,r)){const n=s.classes;if(n)for(let o=0;o<n.length;o++)if(!e.dom.hasClass(t,gp(n[o],r)))return;return s}}},ub=(e,t,n,r,o)=>{if(r)return sb(e,r,t,n,o);if(r=e.selection.getNode(),sb(e,r,t,n,o))return!0;const a=e.selection.getStart();return!(a===r||!sb(e,a,t,n,o))},fb=Bs,pb=e=>{if(e){const t=new Fo(e,e);for(let e=t.current();e;e=t.next())if(ta(e))return e}return null},mb=e=>{const t=un("span");return hr(t,{id:Rf,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&dr(t,fn(fb)),t},hb=(e,t,n)=>{const r=e.dom,o=e.selection;if(Ap(t))Hg(e,!1,pn(t),n,!0);else{const e=o.getRng(),n=r.getParent(t,r.isBlock),a=e.startContainer,i=e.startOffset,s=e.endContainer,l=e.endOffset,c=(e=>{const t=pb(e);return t&&t.data.charAt(0)===fb&&t.deleteData(0,1),t})(t);r.remove(t,!0),a===c&&i>0&&e.setStart(c,i-1),s===c&&l>0&&e.setEnd(c,l-1),n&&r.isEmpty(n)&&Ms(pn(n)),o.setRng(e)}},gb=(e,t,n)=>{const r=e.dom,o=e.selection;if(t)hb(e,t,n);else if(!(t=Df(e.getBody(),o.getStart())))for(;t=r.get(Rf);)hb(e,t,n)},vb=(e,t)=>(e.appendChild(t),t),bb=(e,t)=>{var n;const r=X(e,(e,t)=>vb(e,t.cloneNode(!1)),t),o=null!==(n=r.ownerDocument)&&void 0!==n?n:document;return vb(r,o.createTextNode(fb))},yb=e=>Qr(e,Xr(e).replace(new RegExp(`${lt}$`)," ")),kb=(e,t)=>{const n=()=>{null===t||e.dom.isEmpty(t)||Fn(pn(t)).each(e=>{Nn(e)?yb(e):no(e,e=>Nn(e)).each(e=>{Nn(e)&&yb(e)})})};e.once("input",t=>{t.data&&!Gf(t.data)&&(t.isComposing?e.once("compositionend",()=>{n()}):n())})},xb=(e,t,n,r)=>{const o=e.dom,s=e.selection;let l=!1;const c=e.formatter.get(t);if(!c)return;const d=s.getRng(),u=d.startContainer,f=d.startOffset;let p=u;ta(u)&&(f!==u.data.length&&(l=!0),p=p.parentNode);const m=[];let h;for(;p;){if(db(e,p,t,n,r)){h=p;break}p.nextSibling&&(l=!0),m.push(p),p=p.parentNode}if(h)if(l){const a=s.getBookmark();d.collapse(!0);let i=qp(o,d,c,{includeTrailingSpace:!0});i=Um(i),e.formatter.remove(t,n,i,r),s.moveToBookmark(a)}else{const l=Df(e.getBody(),h),c=x(l)?o.getParents(h.parentNode,I,l):[],d=mb(!1).dom;((e,t,n)=>{var r,o;const a=e.dom,i=a.getParent(n,R(fp,e.schema));i&&a.isEmpty(i)?null===(r=n.parentNode)||void 0===r||r.replaceChild(t,n):((e=>{const t=yo(e,"br"),n=Y((e=>{const t=[];let n=e.dom;for(;n;)t.push(pn(n)),n=n.lastChild;return t})(e).slice(-1),_s);t.length===n.length&&W(n,Cr)})(pn(n)),a.isEmpty(n)?null===(o=n.parentNode)||void 0===o||o.replaceChild(t,n):a.insertAfter(t,n))})(e,d,null!=l?l:h);const u=((e,t,n,r,o,s)=>{const l=e.formatter,c=e.dom,d=Y(me(l.get()),e=>e!==r&&!Ge(e,"removeformat")),u=((e,t,n)=>Q(n,(n,r)=>{const o=((e,t)=>Cp(e,t,e=>{const t=e=>C(e)||e.length>1&&"%"===e.charAt(0);return q(["styles","attributes"],n=>Se(e,n).exists(e=>{const n=g(e)?e:we(e);return q(n,t)}))}))(e,r);return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n},[]))(e,n,d);if(Y(u,t=>!((e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],o=e=>xe(e,(e,t)=>q(r,e=>e===t));return Cp(e,t,t=>{const r=o(t);return Cp(e,n,e=>{const t=o(e);return((e,t,n=i)=>a(n).eq(e,t))(r,t)})})})(e,t,r)).length>0){const e=n.cloneNode(!1);return c.add(t,e),l.remove(r,o,e,s),c.remove(e),j.some(e)}return j.none()})(e,d,h,t,n,r),f=bb([...m,...u.toArray(),...c],d);l&&hb(e,l,x(l)),s.setCursorLocation(f,1),kb(e,d),o.isEmpty(h)&&o.remove(h)}},Cb=e=>{const t=mb(!1),n=bb(e,t.dom);return{caretContainer:t,caretPosition:Bl(n,0)}},wb=(e,t)=>{const{caretContainer:n,caretPosition:r}=Cb(t);return sr(pn(e),n),Cr(pn(e)),r},Sb=(e,t)=>{if(Pf(t.dom))return!1;const n=e.schema.getTextInlineElements();return Ee(n,Sn(t))&&!Pf(t.dom)&&!Qo(t.dom)},Eb={},_b=Yo(["pre"]);(e=>{Eb[e]||(Eb[e]=[]),Eb[e].push(e=>{if(!e.selection.getRng().collapsed){const t=e.selection.getSelectedBlocks(),n=Y(Y(t,_b),(e=>t=>{const n=t.previousSibling;return _b(n)&&$(e,n)})(t));W(n,e=>{((e,t)=>{const n=pn(t),r=Mn(n).dom;Cr(n),fr(pn(e),[un("br",r),un("br",r),...$n(n)])})(e.previousSibling,e)})}})})("pre");const Ab=["fontWeight","fontStyle","color","fontSize","fontFamily"],Tb=(e,t)=>{const n=e.get(t);return g(n)?J(n,e=>Ep(e)&&"span"===e.inline&&(e=>m(e.styles)&&q(me(e.styles),e=>$(Ab,e)))(e)):j.none()},Nb=(e,t)=>Tf(t,Bl.fromRangeStart(e)).isNone(),Ob=(e,t)=>!1===Af(t,Bl.fromRangeEnd(e)).exists(e=>!sa(e.getNode())||Af(t,e).isSome()),Rb=e=>t=>ga(t)&&e.isEditable(t),Pb=e=>Y(e.getSelectedBlocks(),Rb(e.dom)),Db=ln.each,Mb=e=>Wo(e)&&!Vf(e)&&!Pf(e)&&!Qo(e),Bb=(e,t)=>{for(let n=e;n;n=n[t]){if(ta(n)&&tt(n.data))return e;if(Wo(n)&&!Vf(n))return n}return e},Lb=(e,t,n)=>{const r=Dv(e),o=Ko(t)&&e.dom.isEditable(t),a=Ko(n)&&e.dom.isEditable(n);if(o&&a){const o=Bb(t,"previousSibling"),a=Bb(n,"nextSibling");if(r.compare(o,a)){for(let e=o.nextSibling;e&&e!==a;){const t=e;e=e.nextSibling,o.appendChild(t)}return e.dom.remove(a),ln.each(ln.grep(a.childNodes),e=>{o.appendChild(e)}),o}}return n},Ib=(e,t,n,r)=>{var o;if(r&&!1!==t.merge_siblings){const t=null!==(o=Lb(e,up(r),r))&&void 0!==o?o:r;Lb(e,t,up(t,!0))}},jb=(e,t,n)=>{Db(e.childNodes,e=>{Mb(e)&&(t(e)&&n(e),e.hasChildNodes()&&jb(e,t,n))})},Fb=(e,t)=>n=>!(!n||!yp(e,n,t)),Ub=(e,t,n)=>r=>{e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,r)},Hb=Ae([{keep:[]},{rename:["name"]},{removed:[]}]),zb=/^(src|href|style)$/,$b=ln.each,qb=vp,Vb=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Wb=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(Wo(r)){const e=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>e?e:o]}return ta(r)&&n&&o>=r.data.length&&(r=new Fo(r,e.getBody()).next()||r),ta(r)&&!n&&0===o&&(r=new Fo(r,e.getBody()).prev()||r),r},Kb=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&r?"TR"===e.nodeName&&r[n]||r:e},Gb=(e,t,n,r)=>{var o;const a=e.create(n,r);return null===(o=t.parentNode)||void 0===o||o.insertBefore(a,t),a.appendChild(t),a},Yb=(e,t,n,r,o)=>{const a=pn(t),i=pn(e.create(r,o)),s=n?zn(a):Hn(a);return fr(i,s),n?(sr(a,i),cr(i,a)):(lr(a,i),dr(i,a)),i.dom},Xb=(e,t,n)=>{const r=t.parentNode;let o;const a=e.dom,i=Rc(e);wp(n)&&r===a.getRoot()&&(n.list_block&&qb(t,n.list_block)||W(ue(t.childNodes),t=>{pp(e,i,t.nodeName.toLowerCase())?o?o.appendChild(t):(o=Gb(a,t,i),a.setAttribs(o,Pc(e))):o=null})),(e=>Sp(e)&&Ep(e)&&Fe(Se(e,"mixed"),!0))(n)&&!qb(n.inline,t)||a.remove(t,!0)},Qb=(e,t,n)=>w(e)?{name:t,value:null}:{name:e,value:gp(t,n)},Zb=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Jb=(e,t,n,r,o)=>{let a=!1;$b(n.styles,(i,s)=>{const{name:l,value:c}=Qb(s,i,r),d=bp(c,l);(n.remove_similar||v(c)||!Wo(o)||qb(yp(e,o,l),d))&&e.setStyle(t,l,""),a=!0}),a&&Zb(e,t)},ey=(e,t,n,r,o)=>{const a=e.dom,i=Dv(e),s=e.schema;if(Ep(t)&&Ua(s,t.inline)&&za(s,r)&&r.parentElement===e.getBody())return Xb(e,r,t),Hb.removed();if(!t.ceFalseOverride&&r&&"false"===a.getContentEditableParent(r))return Hb.keep();if(r&&!lb(a,r,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(r,t))return Hb.keep();const l=r,c=t.preserve_attributes;if(Ep(t)&&"all"===t.remove&&g(c)){const e=Y(a.getAttribs(l),e=>$(c,e.name.toLowerCase()));if(a.removeAllAttribs(l),W(e,e=>a.setAttrib(l,e.name,e.value)),e.length>0)return Hb.rename("span")}if("all"!==t.remove){Jb(a,l,t,n,o),$b(t.attributes,(e,r)=>{const{name:i,value:s}=Qb(r,e,n);if(t.remove_similar||v(s)||!Wo(o)||qb(a.getAttrib(o,i),s)){if("class"===i){const e=a.getAttrib(l,i);if(e){let t="";if(W(e.split(/\s+/),e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)}),t)return void a.setAttrib(l,i,t)}}if(zb.test(i)&&l.removeAttribute("data-mce-"+i),"style"===i&&Yo(["li"])(l)&&"none"===a.getStyle(l,"list-style-type"))return l.removeAttribute(i),void a.setStyle(l,"list-style-type","none");"class"===i&&l.removeAttribute("className"),l.removeAttribute(i)}}),$b(t.classes,e=>{e=gp(e,n),Wo(o)&&!a.hasClass(o,e)||a.removeClass(l,e)});const e=a.getAttribs(l);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(!i.isAttributeInternal(n))return Hb.keep()}}return"none"!==t.remove?(Xb(e,l,t),Hb.removed()):Hb.keep()},ty=(e,t,n,r)=>ey(e,t,n,r,r).fold(T(r),t=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,t)),T(null)),ny=(e,t,n,r,o)=>{(r||e.selection.isEditable())&&((e,t,n,r,o)=>{const a=e.formatter.get(t),i=a[0],s=e.dom,l=e.selection,c=r=>{const s=((e,t,n,r,o)=>{let a;return t.parentNode&&W(xp(e.dom,t.parentNode).reverse(),t=>{if(!a&&Wo(t)&&"_start"!==t.id&&"_end"!==t.id){const i=db(e,t,n,r,o);i&&!1!==i.split&&(a=t)}}),a})(e,r,t,n,o);return((e,t,n,r,o,a,i,s)=>{var l,c;let d,u;const f=e.dom;if(n){const a=n.parentNode;for(let n=r.parentNode;n&&n!==a;n=n.parentNode){let r=f.clone(n,!1);for(let n=0;n<t.length&&(r=ty(e,t[n],s,r),null!==r);n++);r&&(d&&r.appendChild(d),u||(u=r),d=r)}i.mixed&&f.isBlock(n)||(r=null!==(l=f.split(n,r))&&void 0!==l?l:r),d&&u&&(null===(c=o.parentNode)||void 0===c||c.insertBefore(d,o),u.appendChild(o),Ep(i)&&Ib(e,i,0,d))}return r})(e,a,s,r,r,0,i,n)},d=t=>q(a,r=>ry(e,r,n,t,t)),u=t=>{const n=ue(t.childNodes),r=d(t)||q(a,e=>lb(s,t,e)),o=t.parentNode;if(!r&&x(o)&&_p(i)&&d(o),i.deep&&n.length)for(let e=0;e<n.length;e++)u(n[e]);W(["underline","line-through","overline"],n=>{Wo(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&kp(s,t.parentNode)===n&&ry(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},void 0,t)})},f=e=>{const t=s.get(e?"_start":"_end");if(t){let n=t[e?"firstChild":"lastChild"];return(e=>Vf(e)&&Wo(e)&&("_start"===e.id||"_end"===e.id))(n)&&(n=n[e?"firstChild":"lastChild"]),ta(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n}return null},p=t=>{let n,r,o=qp(s,t,a,{includeTrailingSpace:t.collapsed});if(i.split){if(o=Um(o),n=Wb(e,o,!0),r=Wb(e,o),n!==r){if(n=Kb(n,!0),r=Kb(r,!1),Vb(s,n,r)){const e=j.from(n.firstChild).getOr(n);return c(Yb(s,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void f(!0)}if(Vb(s,r,n)){const e=j.from(r.lastChild).getOr(r);return c(Yb(s,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void f(!1)}n=Gb(s,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=Gb(s,r,"span",{id:"_end","data-mce-type":"bookmark"});const e=s.createRng();e.setStartAfter(n),e.setEndBefore(r),Vp(s,e,e=>{W(e,e=>{Vf(e)||Vf(e.parentNode)||c(e)})}),c(n),c(r),n=f(!0),r=f()}else n=r=c(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=s.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=s.nodeIndex(r)+1}Vp(s,o,e=>{W(e,u)})};if(r){if(sp(r)){const e=s.createRng();e.setStartBefore(r),e.setEndAfter(r),p(e)}else p(r);fc(e,t,r,n)}else l.isCollapsed()&&Ep(i)&&!Zf(e).length?xb(e,t,n,o):(cp(e,()=>ap(e,p),r=>Ep(i)&&ub(e,t,n,r)),e.nodeChanged()),((e,t,n)=>{"removeformat"===t?W(Pb(e.selection),t=>{W(Ab,n=>e.dom.setStyle(t,n,"")),Zb(e.dom,t)}):Tb(e.formatter,t).each(t=>{W(Pb(e.selection),r=>Jb(e.dom,r,t,n,null))})})(e,t,n),fc(e,t,r,n)})(e,t,n,r,o)},ry=(e,t,n,r,o)=>ey(e,t,n,r,o).fold(L,t=>(e.dom.rename(r,t),!0),I),oy=ln.each,ay=ln.each,iy=(e,t,n,r)=>{if(ay(n.styles,(n,o)=>{e.setStyle(t,o,gp(n,r))}),n.styles){const n=e.getAttrib(t,"style");n&&e.setAttrib(t,"data-mce-style",n)}},sy=(e,t,n,r)=>{const o=e.formatter.get(t),a=o[0],i=!r&&e.selection.isCollapsed(),s=e.dom,l=e.selection,c=(e,t=a)=>{C(t.onformat)&&t.onformat(e,t,n,r),iy(s,e,t,n),ay(t.attributes,(t,r)=>{s.setAttrib(e,r,gp(t,n))}),ay(t.classes,t=>{const r=gp(t,n);s.hasClass(e,r)||s.addClass(e,r)})},d=(e,t)=>{let n=!1;return ay(e,e=>!(!Sp(e)||("false"!==s.getContentEditable(t)||e.ceFalseOverride)&&(!x(e.collapsed)||e.collapsed===i)&&s.is(t,e.selector)&&!Pf(t)&&(c(t,e),n=!0,1))),n},u=e=>{if(p(e)){const t=s.create(e);return c(t),t}return null},f=(r,i,s)=>{const l=[];let f=!0;const p=a.inline||a.block,m=u(p);Vp(r,i,i=>{let u;const h=i=>{let g=!1,v=f,b=!1;const y=i.parentNode,k=y.nodeName.toLowerCase(),C=r.getContentEditable(i);x(C)&&(v=f,f="true"===C,g=!0,b=hp(e,i));const w=f&&!g;if(sa(i)&&!((e,t,n,r)=>{if(gd(e)&&Ep(t)&&n.parentNode){const t=Ai(e.schema),o=xo(pn(n),e=>Pf(e.dom));return _e(t,r)&&wa(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!o}return!1})(e,a,i,k))return u=null,void(wp(a)&&r.remove(i));if((r=>(e=>wp(e)&&!0===e.wrapper)(a)&&db(e,r,t,n))(i))u=null;else{if(((t,n,r)=>{const o=(e=>wp(e)&&!0!==e.wrapper)(a)&&fp(e.schema,t)&&pp(e,n,p);return r&&o})(i,k,w)){const e=r.rename(i,p);return c(e),l.push(e),void(u=null)}if(Sp(a)){let e=d(o,i);if(!e&&x(y)&&_p(a)&&(e=d(o,y)),!Ep(a)||e)return void(u=null)}x(m)&&((t,n,o,i)=>{const l=t.nodeName.toLowerCase(),c=pp(e,p,l)&&pp(e,n,p),d=!s&&ta(t)&&Ls(t.data),u=Pf(t),f=!Ep(a)||!r.isBlock(t);return(o||i)&&c&&!d&&!u&&f})(i,k,w,b)?(u||(u=r.clone(m,!1),y.insertBefore(u,i),l.push(u)),b&&g&&(f=v),u.appendChild(i)):(u=null,W(ue(i.childNodes),h),g&&(f=v),u=null)}};W(i,h)}),!0===a.links&&W(l,e=>{const t=e=>{"A"===e.nodeName&&c(e,a),W(ue(e.childNodes),t)};t(e)}),W(l,i=>{const s=(e=>{let t=0;return W(e.childNodes,e=>{(e=>x(e)&&ta(e)&&0===e.length)(e)||Vf(e)||t++}),t})(i);!(l.length>1)&&r.isBlock(i)||0!==s?(Ep(a)||wp(a)&&a.wrapper)&&(a.exact||1!==s||(i=(e=>{const t=J(e.childNodes,lp).filter(e=>"false"!==r.getContentEditable(e)&&lb(r,e,a));return t.map(t=>{const n=r.clone(t,!1);return c(n),r.replace(n,e,!0),r.remove(t,!0),n}).getOr(e)})(i)),((e,t,n,r)=>{oy(t,t=>{Ep(t)&&oy(e.dom.select(t.inline,r),r=>{Mb(r)&&ry(e,t,n,r,t.exact?r:null)}),((e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";Db(e.select(r,n),n=>{Mb(n)&&e.isEditable(n)&&Db(t.styles,(t,r)=>{e.setStyle(n,r,"")})})}})(e.dom,t,r)})})(e,o,n,i),((e,t,n,r,o)=>{const a=o.parentNode;db(e,a,n,r)&&ry(e,t,r,o)||t.merge_with_parents&&a&&e.dom.getParent(a,a=>!!db(e,a,n,r)&&(ry(e,t,r,o),!0))})(e,a,t,n,i),((e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const o=Fb(e,"fontSize");jb(r,t=>o(t)&&e.isEditable(t),Ub(e,"backgroundColor",gp(t.styles.backgroundColor,n)))}})(r,a,n,i),((e,t,n,r)=>{const o=t=>{if(Ko(t)&&Wo(t.parentNode)&&e.isEditable(t)){const n=kp(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ln.walk(r,o,"childNodes"),o(r))})(r,a,0,i),((e,t,n,r)=>{if(Ep(t)&&("sub"===t.inline||"sup"===t.inline)){const n=Fb(e,"fontSize");jb(r,t=>n(t)&&e.isEditable(t),Ub(e,"fontSize",""));const o=Y(e.select("sup"===t.inline?"sub":"sup",r),e.isEditable);e.remove(o,!0)}})(r,a,0,i),Ib(e,a,0,i)):r.remove(i,!0)})},m=sp(r)?r:l.getNode();if("false"===s.getContentEditable(m)&&!hp(e,m))return d(o,r=m),void uc(e,t,r,n);if(a){if(r)if(sp(r)){if(!d(o,r)){const e=s.createRng();e.setStartBefore(r),e.setEndAfter(r),f(s,qp(s,e,o),!0)}}else f(s,r,!0);else i&&Ep(a)&&!Zf(e).length?((e,t,n)=>{let r;const o=e.selection,a=e.formatter.get(t);if(!a)return;const i=o.getRng();let s=i.startOffset;const l=i.startContainer.nodeValue;r=Df(e.getBody(),o.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&s>0&&s<l.length&&c.test(l.charAt(s))&&c.test(l.charAt(s-1))){const r=o.getBookmark();i.collapse(!0);let s=qp(e.dom,i,a);s=Um(s),e.formatter.apply(t,n,s),o.moveToBookmark(r)}else{let a=r?pb(r):null;r&&(null==a?void 0:a.data)===fb||(d=e.getDoc(),u=mb(!0).dom,r=d.importNode(u,!0),a=r.firstChild,i.insertNode(r),s=1,kb(e,r)),e.formatter.apply(t,n,r),o.setCursorLocation(a,s)}var d,u})(e,t,n):(l.setRng(Vv(l.getRng())),cp(e,()=>{ap(e,(e,t)=>{const n=t?e:qp(s,e,o);f(s,n,!1)})},I),e.nodeChanged()),Tb(e.formatter,t).each(t=>{W((e=>Y((e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return Nb(n,t[0])&&Ob(n,t[0])?t:[];{const e=ce(t).filter(e=>Nb(n,e)).toArray(),r=de(t).filter(e=>Ob(n,e)).toArray(),o=t.slice(1,-1);return e.concat(o).concat(r)}})(e),Rb(e.dom)))(e.selection),e=>iy(s,e,t,n))});((e,t)=>{Ee(Eb,e)&&W(Eb[e],e=>{e(t)})})(t,e)}uc(e,t,r,n)},ly=(e,t,n,r)=>{(r||e.selection.isEditable())&&sy(e,t,n,r)},cy=e=>Ee(e,"vars"),dy=e=>e.selection.getStart(),uy=(e,t,n,r,o)=>Z(t,t=>{const a=e.formatter.matchNode(t,n,null!=o?o:{},r);return!y(a)},t=>!!ib(e,t,n)||!r&&x(e.formatter.matchNode(t,n,o,!0))),fy=(e,t)=>{const n=null!=t?t:dy(e);return Y(xp(e.dom,n),e=>Wo(e)&&!Qo(e))},py=(e,t,n)=>{const r=fy(e,t);ge(n,(n,o)=>{const a=n=>{const a=uy(e,r,o,n.similar,cy(n)?n.vars:void 0),i=a.isSome();if(n.state.get()!==i){n.state.set(i);const e=a.getOr(t);cy(n)?n.callback(i,{node:e,format:o,parents:r}):W(n.callbacks,t=>t(i,{node:e,format:o,parents:r}))}};W([n.withSimilar,n.withoutSimilar],a),W(n.withVars,a)})},my=ln.explode,hy=()=>{const e={};return{addFilter:(t,n)=>{W(my(t),t=>{Ee(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)})},getFilters:()=>we(e),removeFilter:(t,n)=>{W(my(t),t=>{if(Ee(e,t))if(x(n)){const r=e[t],o=Y(r.callbacks,e=>e!==n);o.length>0?r.callbacks=o:delete e[t]}else delete e[t]})}}},gy=(e,t,n)=>{var r;const o=Fi();t.convert_fonts_to_spans&&((e,t,n)=>{e.addNodeFilter("font",e=>{W(e,e=>{const r=t.parse(e.attr("style")),o=e.attr("color"),a=e.attr("face"),i=e.attr("size");o&&(r.color=o),a&&(r["font-family"]=a),i&&rt(i).each(e=>{r["font-size"]=n[e-1]}),e.name="span",e.attr("style",t.serialize(r)),(e=>{W(["color","face","size"],t=>{e.attr(t,null)})})(e)})})})(e,o,ln.explode(null!==(r=t.font_size_legacy_values)&&void 0!==r?r:"")),((e,t,n)=>{e.addNodeFilter("strike",e=>{const r="html4"!==t.type;W(e,e=>{if(r)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}})})})(e,n,o)},vy=e=>{const[t,...n]=e.split(","),r=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const e=";base64"===o[2],t=(e=>{try{return decodeURIComponent(e)}catch(t){return e}})(r),n=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(t):t;return j.some({type:o[1],data:n,base64Encoded:e})}return j.none()},by=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch(e){return j.none()}const o=new Uint8Array(r.length);for(let e=0;e<o.length;e++)o[e]=r.charCodeAt(e);return j.some(new Blob([o],{type:e}))},yy=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var e;n(null===(e=r.error)||void 0===e?void 0:e.message)},r.readAsDataURL(e)});let ky=0;const xy=(e,t,n)=>vy(e).bind(({data:e,type:r,base64Encoded:o})=>{if(t&&!o)return j.none();{const t=o?e:btoa(e);return n(t,r)}}),Cy=(e,t,n)=>{const r=e.create("blobid"+ky++,t,n);return e.add(r),r},wy=(e,t,n=!1)=>xy(t,n,(t,n)=>j.from(e.getByData(t,n)).orThunk(()=>by(n,t).map(n=>Cy(e,n,t)))),Sy=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,Ey=e=>j.from(e.match(Sy)).bind(e=>le(e,1)).map(e=>Ye(e,"www.")?e.substring(4):e),_y=(e,t)=>{j.from(e.attr("src")).bind(Ey).forall(e=>!$(t,e))&&e.attr("sandbox","")},Ay=(e,t)=>Ye(e,`${t}/`),{entries:Ty,setPrototypeOf:Ny,isFrozen:Oy,getPrototypeOf:Ry,getOwnPropertyDescriptor:Py}=Object;let{freeze:Dy,seal:My,create:By}=Object,{apply:Ly,construct:Iy}="undefined"!=typeof Reflect&&Reflect;Dy||(Dy=function(e){return e}),My||(My=function(e){return e}),Ly||(Ly=function(e,t,n){return e.apply(t,n)}),Iy||(Iy=function(e,t){return new e(...t)});const jy=Jy(Array.prototype.forEach),Fy=Jy(Array.prototype.lastIndexOf),Uy=Jy(Array.prototype.pop),Hy=Jy(Array.prototype.push),zy=Jy(Array.prototype.splice),$y=Jy(String.prototype.toLowerCase),qy=Jy(String.prototype.toString),Vy=Jy(String.prototype.match),Wy=Jy(String.prototype.replace),Ky=Jy(String.prototype.indexOf),Gy=Jy(String.prototype.trim),Yy=Jy(Object.prototype.hasOwnProperty),Xy=Jy(RegExp.prototype.test),Qy=(Zy=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Iy(Zy,t)});var Zy;function Jy(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Ly(e,t,r)}}function ek(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$y;Ny&&Ny(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){const e=n(o);e!==o&&(Oy(t)||(t[r]=e),o=e)}e[o]=!0}return e}function tk(e){for(let t=0;t<e.length;t++)Yy(e,t)||(e[t]=null);return e}function nk(e){const t=By(null);for(const[n,r]of Ty(e))Yy(e,n)&&(Array.isArray(r)?t[n]=tk(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=nk(r):t[n]=r);return t}function rk(e,t){for(;null!==e;){const n=Py(e,t);if(n){if(n.get)return Jy(n.get);if("function"==typeof n.value)return Jy(n.value)}e=Ry(e)}return function(){return null}}const ok=Dy(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ak=Dy(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ik=Dy(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sk=Dy(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),lk=Dy(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ck=Dy(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),dk=Dy(["#text"]),uk=Dy(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),fk=Dy(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),pk=Dy(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mk=Dy(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hk=My(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gk=My(/<%[\w\W]*|[\w\W]*%>/gm),vk=My(/\$\{[\w\W]*/gm),bk=My(/^data-[\-\w.\u00B7-\uFFFF]+$/),yk=My(/^aria-[\-\w]+$/),kk=My(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xk=My(/^(?:\w+script|data):/i),Ck=My(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wk=My(/^html$/i),Sk=My(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ek=Object.freeze({__proto__:null,ARIA_ATTR:yk,ATTR_WHITESPACE:Ck,CUSTOM_ELEMENT:Sk,DATA_ATTR:bk,DOCTYPE_NAME:wk,ERB_EXPR:gk,IS_ALLOWED_URI:kk,IS_SCRIPT_OR_DATA:xk,MUSTACHE_EXPR:hk,TMPLIT_EXPR:vk});const _k=function(){return"undefined"==typeof window?null:window};var Ak=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_k();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const o=r,a=o.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:p,trustedTypes:m}=t,h=c.prototype,g=rk(h,"cloneNode"),v=rk(h,"remove"),b=rk(h,"nextSibling"),y=rk(h,"childNodes"),k=rk(h,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let x,C="";const{implementation:w,createNodeIterator:S,createDocumentFragment:E,getElementsByTagName:_}=r,{importNode:A}=o;let T={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Ty&&"function"==typeof k&&w&&void 0!==w.createHTMLDocument;const{MUSTACHE_EXPR:N,ERB_EXPR:O,TMPLIT_EXPR:R,DATA_ATTR:P,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:B,CUSTOM_ELEMENT:L}=Ek;let{IS_ALLOWED_URI:I}=Ek,j=null;const F=ek({},[...ok,...ak,...ik,...lk,...dk]);let U=null;const H=ek({},[...uk,...fk,...pk,...mk]);let z=Object.seal(By(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$=null,q=null,V=!0,W=!0,K=!1,G=!0,Y=!1,X=!0,Q=!1,Z=!1,J=!1,ee=!1,te=!1,ne=!1,re=!0,oe=!1,ae=!0,ie=!1,se={},le=null;const ce=ek({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=ek({},["audio","video","img","source","image","track"]);let fe=null;const pe=ek({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let ve=ge,be=!1,ye=null;const ke=ek({},[me,he,ge],qy);let xe=ek({},["mi","mo","mn","ms","mtext"]),Ce=ek({},["annotation-xml"]);const we=ek({},["title","style","font","a","script"]);let Se=null;const Ee=["application/xhtml+xml","text/html"];let _e=null,Ae=null;const Te=r.createElement("form"),Ne=function(e){return e instanceof RegExp||e instanceof Function},Oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ae||Ae!==e){if(e&&"object"==typeof e||(e={}),e=nk(e),Se=-1===Ee.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,_e="application/xhtml+xml"===Se?qy:$y,j=Yy(e,"ALLOWED_TAGS")?ek({},e.ALLOWED_TAGS,_e):F,U=Yy(e,"ALLOWED_ATTR")?ek({},e.ALLOWED_ATTR,_e):H,ye=Yy(e,"ALLOWED_NAMESPACES")?ek({},e.ALLOWED_NAMESPACES,qy):ke,fe=Yy(e,"ADD_URI_SAFE_ATTR")?ek(nk(pe),e.ADD_URI_SAFE_ATTR,_e):pe,de=Yy(e,"ADD_DATA_URI_TAGS")?ek(nk(ue),e.ADD_DATA_URI_TAGS,_e):ue,le=Yy(e,"FORBID_CONTENTS")?ek({},e.FORBID_CONTENTS,_e):ce,$=Yy(e,"FORBID_TAGS")?ek({},e.FORBID_TAGS,_e):{},q=Yy(e,"FORBID_ATTR")?ek({},e.FORBID_ATTR,_e):{},se=!!Yy(e,"USE_PROFILES")&&e.USE_PROFILES,V=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,Q=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,I=e.ALLOWED_URI_REGEXP||kk,ve=e.NAMESPACE||ge,xe=e.MATHML_TEXT_INTEGRATION_POINTS||xe,Ce=e.HTML_INTEGRATION_POINTS||Ce,z=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ne(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ne(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(z.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(W=!1),te&&(ee=!0),se&&(j=ek({},dk),U=[],!0===se.html&&(ek(j,ok),ek(U,uk)),!0===se.svg&&(ek(j,ak),ek(U,fk),ek(U,mk)),!0===se.svgFilters&&(ek(j,ik),ek(U,fk),ek(U,mk)),!0===se.mathMl&&(ek(j,lk),ek(U,pk),ek(U,mk))),e.ADD_TAGS&&(j===F&&(j=nk(j)),ek(j,e.ADD_TAGS,_e)),e.ADD_ATTR&&(U===H&&(U=nk(U)),ek(U,e.ADD_ATTR,_e)),e.ADD_URI_SAFE_ATTR&&ek(fe,e.ADD_URI_SAFE_ATTR,_e),e.FORBID_CONTENTS&&(le===ce&&(le=nk(le)),ek(le,e.FORBID_CONTENTS,_e)),ae&&(j["#text"]=!0),Q&&ek(j,["html","head","body"]),j.table&&(ek(j,["tbody"]),delete $.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Qy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Qy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=e.TRUSTED_TYPES_POLICY,C=x.createHTML("")}else void 0===x&&(x=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(m,a)),null!==x&&"string"==typeof C&&(C=x.createHTML(""));Dy&&Dy(e),Ae=e}},Re=ek({},[...ak,...ik,...sk]),Pe=ek({},[...lk,...ck]),De=function(e){Hy(n.removed,{element:e});try{k(e).removeChild(e)}catch(t){v(e)}},Me=function(e,t){try{Hy(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Hy(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{De(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Be=function(e){let t=null,n=null;if(J)e="<remove></remove>"+e;else{const t=Vy(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Se&&ve===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=x?x.createHTML(e):e;if(ve===ge)try{t=(new p).parseFromString(o,Se)}catch(e){}if(!t||!t.documentElement){t=w.createDocument(ve,"template",null);try{t.documentElement.innerHTML=be?C:o}catch(e){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),ve===ge?_.call(t,Q?"html":"body")[0]:Q?t.documentElement:a},Le=function(e){return S.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Ie=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},je=function(e){return"function"==typeof l&&e instanceof l};function Fe(e,t,r){jy(e,e=>{e.call(n,t,r,Ae)})}const Ue=function(e){let t=null;if(Fe(T.beforeSanitizeElements,e,null),Ie(e))return De(e),!0;const r=_e(e.nodeName);if(Fe(T.uponSanitizeElement,e,{tagName:r,allowedTags:j}),e.hasChildNodes()&&!je(e.firstElementChild)&&Xy(/<[/\w]/g,e.innerHTML)&&Xy(/<[/\w]/g,e.textContent))return De(e),!0;if(7===e.nodeType)return De(e),!0;if(X&&8===e.nodeType&&Xy(/<[/\w]/g,e.data))return De(e),!0;if(!j[r]||$[r]){if(!$[r]&&ze(r)){if(z.tagNameCheck instanceof RegExp&&Xy(z.tagNameCheck,r))return!1;if(z.tagNameCheck instanceof Function&&z.tagNameCheck(r))return!1}if(ae&&!le[r]){const t=k(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const o=g(n[r],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,b(e))}}return De(e),!0}return e instanceof c&&!function(e){let t=k(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=$y(e.tagName),r=$y(t.tagName);return!!ye[e.namespaceURI]&&(e.namespaceURI===he?t.namespaceURI===ge?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||xe[r]):Boolean(Re[n]):e.namespaceURI===me?t.namespaceURI===ge?"math"===n:t.namespaceURI===he?"math"===n&&Ce[r]:Boolean(Pe[n]):e.namespaceURI===ge?!(t.namespaceURI===he&&!Ce[r])&&!(t.namespaceURI===me&&!xe[r])&&!Pe[n]&&(we[n]||!Re[n]):!("application/xhtml+xml"!==Se||!ye[e.namespaceURI]))}(e)?(De(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Xy(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&3===e.nodeType&&(t=e.textContent,jy([N,O,R],e=>{t=Wy(t,e," ")}),e.textContent!==t&&(Hy(n.removed,{element:e.cloneNode()}),e.textContent=t)),Fe(T.afterSanitizeElements,e,null),!1):(De(e),!0)},He=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Te))return!1;if(W&&!q[t]&&Xy(P,t));else if(V&&Xy(D,t));else if(!U[t]||q[t]){if(!(ze(e)&&(z.tagNameCheck instanceof RegExp&&Xy(z.tagNameCheck,e)||z.tagNameCheck instanceof Function&&z.tagNameCheck(e))&&(z.attributeNameCheck instanceof RegExp&&Xy(z.attributeNameCheck,t)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(t))||"is"===t&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&Xy(z.tagNameCheck,n)||z.tagNameCheck instanceof Function&&z.tagNameCheck(n))))return!1}else if(fe[t]);else if(Xy(I,Wy(n,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ky(n,"data:")||!de[e])if(K&&!Xy(M,Wy(n,B,"")));else if(n)return!1;return!0},ze=function(e){return"annotation-xml"!==e&&Vy(e,L)},$e=function(e){Fe(T.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Ie(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0};let o=t.length;for(;o--;){const a=t[o],{name:i,namespaceURI:s,value:l}=a,c=_e(i);let d="value"===i?l:Gy(l);const u=d;if(r.attrName=c,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,Fe(T.uponSanitizeAttribute,e,r),d=r.attrValue,!oe||"id"!==c&&"name"!==c||(Me(i,e),d="user-content-"+d),X&&Xy(/((--!?|])>)|<\/(style|title)/i,d)){Me(i,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Me(i,e);continue}if(!G&&Xy(/\/>/i,d)){Me(i,e);continue}Y&&jy([N,O,R],e=>{d=Wy(d,e," ")});const f=_e(e.nodeName);if(He(f,c,d)){if(x&&"object"==typeof m&&"function"==typeof m.getAttributeType)if(s);else switch(m.getAttributeType(f,c)){case"TrustedHTML":d=x.createHTML(d);break;case"TrustedScriptURL":d=x.createScriptURL(d)}if(d!==u)try{s?e.setAttributeNS(s,i,d):e.setAttribute(i,d),Ie(e)?De(e):Uy(n.removed)}catch(e){}}else Me(i,e)}Fe(T.afterSanitizeAttributes,e,null)},qe=function e(t){let n=null;const r=Le(t);for(Fe(T.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Fe(T.uponSanitizeShadowNode,n,null),Ue(n),$e(n),n.content instanceof i&&e(n.content);Fe(T.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,s=null,c=null;if(be=!e,be&&(e="\x3c!--\x3e"),"string"!=typeof e&&!je(e)){if("function"!=typeof e.toString)throw Qy("toString is not a function");if("string"!=typeof(e=e.toString()))throw Qy("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Z||Oe(t),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){const t=_e(e.nodeName);if(!j[t]||$[t])throw Qy("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Be("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!ee&&!Y&&!Q&&-1===e.indexOf("<"))return x&&ne?x.createHTML(e):e;if(r=Be(e),!r)return ee?null:ne?C:""}r&&J&&De(r.firstChild);const d=Le(ie?e:r);for(;s=d.nextNode();)Ue(s),$e(s),s.content instanceof i&&qe(s.content);if(ie)return e;if(ee){if(te)for(c=E.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(U.shadowroot||U.shadowrootmode)&&(c=A.call(o,c,!0)),c}let u=Q?r.outerHTML:r.innerHTML;return Q&&j["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Xy(wk,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),Y&&jy([N,O,R],e=>{u=Wy(u,e," ")}),x&&ne?x.createHTML(u):u},n.setConfig=function(){Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Z=!0},n.clearConfig=function(){Ae=null,Z=!1},n.isValidAttribute=function(e,t,n){Ae||Oe({});const r=_e(e),o=_e(t);return He(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&Hy(T[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=Fy(T[e],t);return-1===n?void 0:zy(T[e],n,1)[0]}return Uy(T[e])},n.removeHooks=function(e){T[e]=[]},n.removeAllHooks=function(){T={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const Tk=ln.each,Nk=ln.trim,Ok=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Rk={ftp:21,http:80,https:443,mailto:25},Pk=["img","video"],Dk=(e,t,n)=>{const r=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(r)||!e.allow_html_data_urls&&(/^data:image\//i.test(r)?((e,t)=>x(e)?!e:!x(t)||!$(Pk,t))(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)))};class Mk{static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const r=fi.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!Dk(n,r,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}constructor(e,t={}){this.path="",this.directory="",e=Nk(e),this.settings=t;const n=t.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(r.source=e);const o=0===e.indexOf("//");if(0!==e.indexOf("/")||o||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=n?n.path:new Mk(document.location.href).directory;if(""===(null==n?void 0:n.protocol))e="//mce_host"+r.toAbsPath(t,e);else{const o=/([^#?]*)([#?]?.*)/.exec(e);o&&(e=(n&&n.protocol||"http")+"://mce_host"+r.toAbsPath(t,o[1])+o[2])}}e=e.replace(/@@/g,"(mce_at)");const a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);a&&Tk(Ok,(e,t)=>{let n=a[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[e]=n}),n&&(r.protocol||(r.protocol=n.protocol),r.userInfo||(r.userInfo=n.userInfo),r.port||"mce_host"!==r.host||(r.port=n.port),r.host&&"mce_host"!==r.host||(r.host=n.host),r.source=""),o&&(r.protocol="")}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new Mk(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const n=this.getURI(),r=t.getURI();if(n===r||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===r)return n;let o=this.toRelPath(this.path,t.path);return t.query&&(o+="?"+t.query),t.anchor&&(o+="#"+t.anchor),o}toAbsolute(e,t){const n=new Mk(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?Rk[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,r,o=0,a="";const i=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(i.length>=s.length)for(n=0,r=i.length;n<r;n++)if(n>=s.length||i[n]!==s[n]){o=n+1;break}if(i.length<s.length)for(n=0,r=s.length;n<r;n++)if(n>=i.length||i[n]!==s[n]){o=n+1;break}if(1===o)return t;for(n=0,r=i.length-(o-1);n<r;n++)a+="../";for(n=o-1,r=s.length;n<r;n++)a+=n!==o-1?"/"+s[n]:s[n];return a}toAbsPath(e,t){let n=0;const r=/\/$/.test(t)?"/":"",o=e.split("/"),a=t.split("/"),i=[];Tk(o,e=>{e&&i.push(e)});const s=[];for(let e=a.length-1;e>=0;e--)0!==a[e].length&&"."!==a[e]&&(".."!==a[e]?n>0?n--:s.push(a[e]):n++);const l=i.length-n;let c;return c=l<=0?oe(s).join("/"):i.slice(0,l).join("/")+"/"+oe(s).join("/"),0!==c.indexOf("/")&&(c="/"+c),r&&c.lastIndexOf("/")!==c.length-1&&(c+=r),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const Bk=ln.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Lk="data-mce-type";let Ik=0;const jk=(e,t,n,r,o)=>{var a,i,s,l;const c=t.validate,d=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(a=e.nodeValue)&&void 0!==a?a:"")&&(e.nodeValue=" "+e.nodeValue);const u=null!==(i=null==o?void 0:o.tagName)&&void 0!==i?i:e.nodeName.toLowerCase();if("html"!==r&&n.isValid(r))return void(x(o)&&(o.allowedTags[u]=!0));if(1!==e.nodeType||"body"===u)return;const f=pn(e),m=br(f,Lk),h=gr(f,"data-mce-bogus");if(!m&&p(h))return void("all"===h?Cr(f):wr(f));const g=n.getElementRule(u);if(!c||g){if(x(o)&&(o.allowedTags[u]=!0),c&&g&&!m){if(W(null!==(s=g.attributesForced)&&void 0!==s?s:[],e=>{mr(f,e.name,"{$uid}"===e.value?"mce_"+Ik++:e.value)}),W(null!==(l=g.attributesDefault)&&void 0!==l?l:[],e=>{br(f,e.name)||mr(f,e.name,"{$uid}"===e.value?"mce_"+Ik++:e.value)}),g.attributesRequired&&!q(g.attributesRequired,e=>br(f,e)))return void wr(f);if(g.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(f))return void wr(f);g.outputName&&g.outputName!==u&&((e,t)=>{const n=((e,t)=>{const n=un(t),r=kr(e);return hr(n,r),n})(e,t);lr(e,n);const r=$n(e);fr(n,r),Cr(e)})(f,g.outputName)}}else Ee(d,u)?Cr(f):wr(f)},Fk=(e,t,n,r,o,a)=>"html"!==n&&!Aa(r)||!(o in Bk&&Dk(e,a,r))&&(!e.validate||t.isValid(r,o)||Ye(o,"data-")||Ye(o,"aria-")),Uk=(e,t)=>e.hasAttribute(Lk)&&("id"===t||"class"===t||"style"===t),Hk=(e,t)=>e in t.getBoolAttrs(),zk=(e,t,n,r)=>{const{attributes:o}=e;for(let a=o.length-1;a>=0;a--){const i=o[a],s=i.name,l=i.value;Fk(t,n,r,e.tagName.toLowerCase(),s,l)||Uk(e,s)?Hk(s,n)&&e.setAttribute(s,s):e.removeAttribute(s)}},$k=(e,t,n)=>{const r=Ak();return r.addHook("uponSanitizeElement",(r,o)=>{jk(r,e,t,n.track(r),o)}),r.addHook("uponSanitizeAttribute",(r,o)=>{((e,t,n,r,o)=>{const a=e.tagName.toLowerCase(),{attrName:i,attrValue:s}=o;o.keepAttr=Fk(t,n,r,a,i,s),o.keepAttr?(o.allowedAttributes[i]=!0,Hk(i,n)&&(o.attrValue=i),t.allow_svg_data_urls&&Ye(s,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):Uk(e,i)&&(o.forceKeepAttr=!0)})(r,e,t,n.current(),o)}),r},qk=(e,t)=>{const n=Ak(),r=t.allow_mathml_annotation_encodings,o=g(r)&&r.length>0;n.addHook("uponSanitizeElement",(e,n)=>{var a;const i=null!==(a=n.tagName)&&void 0!==a?a:e.nodeName.toLowerCase();((e,n)=>o&&"semantics"===n?j.some(!0):"annotation"===n?j.some(Wo(e)&&(e=>{const t=e.getAttribute("encoding");return o&&p(t)&&$(r,t)})(e)):g(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(n)?j.from(!0):j.none())(e,i).each(r=>{n.allowedTags[i]=r,!r&&t.sanitize&&Wo(e)&&e.remove()})}),n.addHook("uponSanitizeAttribute",(e,n)=>{g(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(n.attrName)&&(n.forceKeepAttr=!0)}),n.sanitize(e,{IN_PLACE:!0,USE_PROFILES:{mathMl:!0}})},Vk=e=>t=>{const n=Na(t);if("svg"===n)(e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(e=>`xlink:${e}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Ak().sanitize(e,n)})(t);else{if("math"!==n)throw new Error("Not a namespace element");qk(t,e)}},Wk=ln.makeMap,Kk=ln.extend,Gk=(e,t,n,r)=>{const o=e.name,a=o in n&&"title"!==o&&"textarea"!==o&&"noscript"!==o,i=t.childNodes;for(let t=0,o=i.length;t<o;t++){const o=i[t],s=new mh(o.nodeName.toLowerCase(),o.nodeType);if(Wo(o)){const e=o.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];s.attr(n.name,n.value)}Aa(s.name)&&(r(o),s.value=o.innerHTML)}else ta(o)?(s.value=o.data,a&&(s.raw=!0)):(oa(o)||na(o)||ra(o))&&(s.value=o.data);Aa(s.name)||Gk(s,o,n,r),e.append(s)}},Yk=(e={},t=Ni())=>{const n=hy(),r=hy(),o={validate:!0,root_name:"body",sanitize:!0,...e},a=new DOMParser,i=((e,t)=>{const n=(()=>{const e=Ve(),t=()=>e.get().map(Na).getOr("html");return{track:n=>(Ta(n)?e.set(n):e.get().exists(e=>!e.contains(n))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}})();if(e.sanitize){const r=$k(e,t,n),o=(t,o)=>{r.sanitize(t,((e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n})(e,o)),r.removed=[],n.reset()};return{sanitizeHtmlElement:o,sanitizeNamespaceElement:Vk(e)}}return{sanitizeHtmlElement:(r,o)=>{const a=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let i;for(;i=a.nextNode();){const r=n.track(i);jk(i,e,t,r),Wo(i)&&zk(i,e,t,r)}n.reset()},sanitizeNamespaceElement:E}})(o,t),s=n.addFilter,l=n.getFilters,c=n.removeFilter,d=r.addFilter,u=r.getFilters,f=r.removeFilter,m=(e,n)=>{const r=p(n.attr(Lk)),o=1===n.type&&!Ee(e,n.name)&&!qa(t,n)&&!Aa(n.name);return 3===n.type||o&&!r},h={schema:t,addAttributeFilter:d,getAttributeFilters:u,removeAttributeFilter:f,addNodeFilter:s,getNodeFilters:l,removeNodeFilter:c,parse:(e,n={})=>{var r;const s=o.validate,c=null!==(r=n.context)&&void 0!==r?r:o.root_name,d=((e,n,r="html")=>{const o="xhtml"===r?"application/xhtml+xml":"text/html",s=Ee(t.getSpecialElements(),n.toLowerCase()),l=s?`<${n}>${e}</${n}>`:e,c=a.parseFromString("xhtml"===r?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:/^[\s]*<head/i.test(e)||/^[\s]*<html/i.test(e)||/^[\s]*<!DOCTYPE/i.test(e)?`<html>${l}</html>`:`<body>${l}</body>`,o).body;return i.sanitizeHtmlElement(c,o),s?c.firstChild:c})(e,c,n.format);Ia(t,d);const f=new mh(c,11);Gk(f,d,t.getSpecialElements(),i.sanitizeNamespaceElement),d.innerHTML="";const[p,h]=((e,t,n,r)=>{const o=n.validate,a=t.getNonEmptyElements(),i=t.getWhitespaceElements(),s=Kk(Wk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=Ai(t),c=/[ \t\r\n]+/g,d=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,f=e=>{let t=e.parent;for(;x(t);){if(t.name in i)return!0;t=t.parent}return!1},p=n=>n.name in s||qa(t,n)||Aa(n.name)&&n.parent===e,m=(t,n)=>{const o=n?t.prev:t.next;return!x(o)&&!k(t.parent)&&p(t.parent)&&(t.parent!==e||!0===r.isRootContent)};return[e=>{var t;if(3===e.type&&!f(e)){let n=null!==(t=e.value)&&void 0!==t?t:"";n=n.replace(c," "),(((e,t)=>x(e)&&(t(e)||"br"===e.name))(e.prev,p)||m(e,!0))&&(n=n.replace(d,"")),0===n.length||" "===n&&e.prev&&8===e.prev.type&&e.next&&8===e.next.type?e.remove():e.value=n}},e=>{var s;if(1===e.type){const s=t.getElementRule(e.name);if(o&&s){const o=Uv(t,a,i,e);s.paddInEmptyBlock&&o&&(e=>{let n=e;for(;x(n);){if(n.name in l)return Uv(t,a,i,n);n=n.parent}return!1})(e)?jv(n,r,p,e):s.removeEmpty&&o?p(e)?e.remove():e.unwrap():s.paddEmpty&&(o||(e=>{var t;return Fv(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===lt})(e))&&jv(n,r,p,e)}}else if(3===e.type&&!f(e)){let t=null!==(s=e.value)&&void 0!==s?s:"";(e.next&&p(e.next)||m(e,!1))&&(t=t.replace(u,"")),0===t.length?e.remove():e.value=t}}]})(f,t,o,n),g=[],v=s?e=>((e,n)=>{qv(t,e)&&n.push(e)})(e,g):E,b={nodes:{},attributes:{}},y=e=>Bv(l(),u(),e,b);if(((e,t,n)=>{const r=[];for(let n=e,o=n;n;o=n,n=n.walk()){const a=n;W(t,e=>e(a)),k(a.parent)&&a!==e?n=o:r.push(a)}for(let e=r.length-1;e>=0;e--){const t=r[e];W(n,e=>e(t))}})(f,[p,y],[h,v]),g.reverse(),s&&g.length>0)if(n.context){const{pass:e,fail:r}=G(g,e=>e.parent===f);$v(r,t,f,y),n.invalid=e.length>0}else $v(g,t,f,y);const C=((e,t)=>{var n;const r=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===r?"":!0===r?"p":r})(o,n);return C&&("body"===f.name||n.isRootContent)&&((e,n)=>{const r=Kk(Wk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),a=/^[ \t\r\n]+/,i=/[ \t\r\n]+$/;let s=e.firstChild,l=null;const c=e=>{var t,n;e&&(s=e.firstChild,s&&3===s.type&&(s.value=null===(t=s.value)||void 0===t?void 0:t.replace(a,"")),s=e.lastChild,s&&3===s.type&&(s.value=null===(n=s.value)||void 0===n?void 0:n.replace(i,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;s;){const t=s.next;m(r,s)?(l||(l=new mh(n,1),l.attr(o.forced_root_block_attrs),e.insert(l,s)),l.append(s)):(c(l),l=null),s=t}c(l)}})(f,C),n.invalid||Lv(b,n),f}};return((e,t)=>{var n,r;const o=e.schema;e.addAttributeFilter("href",e=>{let n=e.length;const r=e=>{const t=e?ln.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter(e=>e.length>0).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",r(t.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",e=>{let t,n,r,o,a=e.length;for(;a--;)if(o=e[a],"a"===o.name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;t&&r;)n=t.prev,r.insert(t,o),t=n}),t.fix_list_elements&&e.addNodeFilter("ul,ol",e=>{let t,n,r=e.length;for(;r--;)if(t=e[r],n=t.parent,n&&("ul"===n.name||"ol"===n.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new mh("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}});const a=o.getValidClasses();t.validate&&a&&e.addAttributeFilter("class",e=>{var t;let n=e.length;for(;n--;){const r=e[n],o=null!==(t=r.attr("class"))&&void 0!==t?t:"",i=ln.explode(o," ");let s="";for(let e=0;e<i.length;e++){const t=i[e];let n=!1,o=a["*"];o&&o[t]&&(n=!0),o=a[r.name],!n&&o&&o[t]&&(n=!0),n&&(s&&(s+=" "),s+=t)}s.length||(s=null),r.attr("class",s)}}),((e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===rn.transparentSrc||x(e.attr("data-mce-placeholder")))(e)||(e=>x(e.attr("data-mce-bogus")))(e)||k(t)||wy(n,t,!0).each(t=>{e.attr("src",t.blobUri())})};e.addAttributeFilter("src",e=>W(e,t))}})(e,t);const i=null!==(n=t.sandbox_iframes)&&void 0!==n&&n,s=pe(null!==(r=t.sandbox_iframes_exclusions)&&void 0!==r?r:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",e=>W(e,e=>{e.replace((({type:e,src:t,width:n,height:r}={},o,a)=>{const i=(e=>y(e)?"iframe":Ay(e,"image")?"img":Ay(e,"video")?"video":Ay(e,"audio")?"audio":"iframe")(e),s=new mh(i,1);return s.attr("audio"===i?{src:t}:{src:t,width:n,height:r}),"audio"!==i&&"video"!==i||s.attr("controls",""),"iframe"===i&&o&&_y(s,a),s})({type:e.attr("type"),src:"object"===e.name?e.attr("data"):e.attr("src"),width:e.attr("width"),height:e.attr("height")},i,s))})),i&&e.addNodeFilter("iframe",e=>W(e,e=>_y(e,s)))})(h,o),((e,t,n)=>{t.inline_styles&&gy(e,t,n)})(h,o,t),h},Xk=(e,t,n)=>{const r=(e=>rb(e)?Dh({validate:!1}).serialize(e):e)(e),o=t(r);if(o.isDefaultPrevented())return o;if(rb(e)){if(o.content!==r){const t=Yk({validate:!1,forced_root_block:!1,...n}).parse(o.content,{context:e.name});return{...o,content:t}}return{...o,content:e}}return o},Qk=e=>({sanitize:su(e),sandbox_iframes:pu(e),sandbox_iframes_exclusions:mu(e)}),Zk=(e,t)=>{if(t.no_events)return Re.value(t);{const n=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return n.isDefaultPrevented()?Re.error(mc(e,{content:"",...n}).content):Re.value(n)}},Jk=(e,t,n)=>{if(n.no_events)return t;{const r=Xk(t,t=>mc(e,{...n,content:t}),Qk(e));return r.content}},ex=(e,t)=>{if(t.no_events)return Re.value(t);{const n=Xk(t.content,n=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:n}),Qk(e));return n.isDefaultPrevented()?(pc(e,n),Re.error(void 0)):Re.value(n)}},tx=(e,t,n)=>{n.no_events||pc(e,{...n,content:t})},nx=(e,t,n)=>({element:e,width:t,rows:n}),rx=(e,t)=>({element:e,cells:t}),ox=(e,t)=>({x:e,y:t}),ax=(e,t)=>vr(e,t).bind(rt).getOr(1),ix=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},sx=e=>Q(e,(e,t)=>t.cells.length>e?t.cells.length:e,0),lx=(e,t)=>{const n=e.rows;for(let e=0;e<n.length;e++){const r=n[e].cells;for(let n=0;n<r.length;n++)if(xn(r[n],t))return j.some(ox(n,e))}return j.none()},cx=(e,t,n,r,o)=>{const a=[],i=e.rows;for(let e=n;e<=o;e++){const n=i[e].cells,o=t<r?n.slice(t,r+1):n.slice(r,t+1);a.push(rx(i[e].element,o))}return a},dx=e=>((e,t)=>{const n=Er(e.element),r=un("tbody");return fr(r,t),dr(n,r),n})(e,(e=>V(e.rows,e=>{const t=V(e.cells,e=>{const t=_r(e);return yr(t,"colspan"),yr(t,"rowspan"),t}),n=Er(e.element);return fr(n,t),n}))(e)),ux=(e,t,n)=>{const r=pn(t.commonAncestorContainer),o=tg(r,e),a=Y(o,e=>n.isWrapper(Sn(e))),i=((e,t)=>J(e,e=>"li"===Sn(e)&&np(e,t)).fold(T([]),t=>(e=>J(e,e=>"ul"===Sn(e)||"ol"===Sn(e)))(e).map(e=>{const t=un(Sn(e)),n=xe(jr(e),(e,t)=>Ye(t,"list-style"));return Mr(t,n),[un("li"),t]}).getOr([])))(o,t),s=a.concat(i.length?i:(e=>Ns(e)?Ln(e).filter(Ts).fold(T([]),t=>[e,t]):Ts(e)?[e]:[])(r));return V(s,Er)},fx=()=>Gr([]),px=(e,t)=>((e,t)=>ro(t,"table",R(xn,e)))(e,t[0]).bind(e=>{const n=t[0],r=t[t.length-1],o=(e=>{const t=nx(Er(e),0,[]);return W(yo(e,"tr"),(e,n)=>{W(yo(e,"td,th"),(r,o)=>{((e,t,n,r,o)=>{const a=ax(o,"rowspan"),i=ax(o,"colspan"),s=e.rows;for(let e=n;e<n+a;e++){s[e]||(s[e]=rx(_r(r),[]));for(let r=t;r<t+i;r++)s[e].cells[r]=e===n&&r===t?o:Er(o)}})(t,((e,t,n)=>{for(;ix(e,t,n);)t++;return t})(t,o,n),n,e,r)})}),nx(t.element,sx(t.rows),t.rows)})(e);return((e,t,n)=>lx(e,t).bind(t=>lx(e,n).map(n=>((e,t,n)=>{const r=t.x,o=t.y,a=n.x,i=n.y,s=o<i?cx(e,r,o,a,i):cx(e,r,i,a,o);return nx(e.element,sx(s),s)})(e,t,n))))(o,n,r).map(e=>Gr([dx(e)]))}).getOrThunk(fx),mx=(e,t,n)=>{const r=Qf(t,e);return r.length>0?px(e,r):((e,t,n)=>t.length>0&&t[0].collapsed?fx():((e,t,n)=>((e,t)=>{const n=Q(t,(e,t)=>(dr(t,e),t),e);return t.length>0?Gr([n]):n})(pn(t.cloneContents()),ux(e,t,n)))(e,t[0],n))(e,t,n)},hx=(e,t)=>t>=0&&t<e.length&&Gf(e.charAt(t)),gx=e=>Is(e.innerText),vx=e=>Wo(e)?e.outerHTML:ta(e)?fi.encodeRaw(e.data,!1):oa(e)?"\x3c!--"+e.data+"--\x3e":"",bx=(e,t)=>(((e,t)=>{let n=0;W(e,e=>{0===e[0]?n++:1===e[0]?(((e,t,n)=>{const r=(e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r})(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];e.insertBefore(r,t)}else e.appendChild(r)})(t,e[1],n),n++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}})(t,n)})})(((e,t)=>{const n=e.length+t.length+2,r=new Array(n),o=new Array(n),a=(n,r,o,i,l)=>{const c=s(n,r,o,i);if(null===c||c.start===r&&c.diag===r-i||c.end===n&&c.diag===n-o){let a=n,s=o;for(;a<r||s<i;)a<r&&s<i&&e[a]===t[s]?(l.push([0,e[a]]),++a,++s):r-n>i-o?(l.push([2,e[a]]),++a):(l.push([1,t[s]]),++s)}else{a(n,c.start,o,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);a(c.end,r,c.end-c.diag,i,l)}},i=(n,r,o,a)=>{let i=n;for(;i-r<a&&i<o&&e[i]===t[i-r];)++i;return((e,t,n)=>({start:e,end:t,diag:n}))(n,i,r)},s=(n,a,s,l)=>{const c=a-n,d=l-s;if(0===c||0===d)return null;const u=c-d,f=d+c,p=(f%2==0?f:f+1)/2;let m,h,g,v,b;for(r[1+p]=n,o[1+p]=a+1,m=0;m<=p;++m){for(h=-m;h<=m;h+=2){for(g=h+p,h===-m||h!==m&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1,v=r[g],b=v-n+s-h;v<a&&b<l&&e[v]===t[b];)r[g]=++v,++b;if(u%2!=0&&u-m<=h&&h<=u+m&&o[g-u]<=r[g])return i(o[g-u],h+n-s,a,l)}for(h=u-m;h<=u+m;h+=2){for(g=h+p-u,h===u-m||h!==u+m&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],v=o[g]-1,b=v-n+s-h;v>=n&&b>=s&&e[v]===t[b];)o[g]=v--,b--;if(u%2==0&&-m<=h&&h<=m&&o[g]<=r[g+u])return i(o[g],h+n-s,a,l)}}return null},l=[];return a(0,e.length,0,t.length,l),l})(V(ue(t.childNodes),vx),e),t),t),yx=it(()=>document.implementation.createHTMLDocument("undo")),kx=e=>{const t=e.serializer.getTempAttrs(),n=Ah(e.getBody(),t);return(e=>null!==e.querySelector("iframe"))(n)?{type:"fragmented",fragments:Y(V(ue(n.childNodes),_(Is,vx)),e=>e.length>0),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Is(n.innerHTML),bookmark:null,beforeBookmark:null}},xx=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?bx(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!x(r)||!Bf(r)||!r.isFakeCaret}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Cx=e=>"fragmented"===e.type?e.fragments.join(""):e.content,wx=e=>{const t=un("body",yx());return Nr(t,Cx(e)),W(yo(t,"*[data-mce-bogus]"),wr),Tr(t)},Sx=(e,t)=>!(!e||!t)&&(!!((e,t)=>Cx(e)===Cx(t))(e,t)||((e,t)=>wx(e)===wx(t))(e,t)),Ex=e=>0===e.get(),_x=(e,t,n)=>{Ex(n)&&(e.typing=t)},Ax=(e,t)=>{e.typing&&(_x(e,!1,t),e.add())},Tx=e=>({init:{bindEvents:E},undoManager:{beforeChange:(t,n)=>((e,t,n)=>{Ex(t)&&n.set(nc(e.selection))})(e,t,n),add:(t,n,r,o,a,i)=>((e,t,n,r,o,a,i)=>{const s=kx(e),l=ln.extend(a||{},s);if(!Ex(r)||e.removed)return null;const c=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:i}).isDefaultPrevented())return null;if(c&&Sx(c,l))return null;t.data[n.get()]&&o.get().each(e=>{t.data[n.get()].beforeBookmark=e});const d=Sd(e);if(d&&t.data.length>d){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=nc(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const u={level:l,lastLevel:c,originalEvent:i};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",u),e.dispatch("change",u)):e.dispatch("AddUndo",u),l})(e,t,n,r,o,a,i),undo:(t,n,r)=>((e,t,n,r)=>{let o;return t.typing&&(t.add(),t.typing=!1,_x(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],xx(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o})(e,t,n,r),redo:(t,n)=>((e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],xx(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r})(e,t,n),clear:(t,n)=>((e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,n),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,n)=>((e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Sx(kx(e),t.data[0]))(e,t,n),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,n)=>((e,t,n)=>(Ax(e,t),e.beforeChange(),e.ignore(n),e.add()))(e,t,n),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,n,r,o)=>((e,t,n,r,o)=>{if(t.transact(r)){const r=t.data[n.get()].bookmark,a=t.data[n.get()-1];xx(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=r)}})(e,t,n,r,o)},formatter:{match:(t,n,r,o)=>ub(e,t,n,r,o),matchAll:(t,n)=>((e,t,n)=>{const r=[],o={},a=e.selection.getStart();return e.dom.getParent(a,a=>{for(let i=0;i<t.length;i++){const s=t[i];!o[s]&&db(e,a,s,n)&&(o[s]=!0,r.push(s))}},e.dom.getRoot()),r})(e,t,n),matchNode:(t,n,r,o)=>db(e,t,n,r,o),canApply:t=>((e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){const t=e.selection.getStart(),o=xp(r,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!Sp(t))return!0;for(let e=o.length-1;e>=0;e--)if(r.is(o[e],t.selector))return!0}}return!1})(e,t),closest:t=>((e,t)=>{const n=t=>xn(t,pn(e.getBody()));return j.from(e.selection.getStart(!0)).bind(r=>So(pn(r),n=>fe(t,t=>((t,n)=>db(e,t.dom,n)?j.some(n):j.none())(n,t)),n)).getOrNull()})(e,t),apply:(t,n,r)=>ly(e,t,n,r),remove:(t,n,r,o)=>ny(e,t,n,r,o),toggle:(t,n,r)=>((e,t,n,r)=>{const o=e.formatter.get(t);o&&(!ub(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?ly(e,t,n,r):ny(e,t,n,r))})(e,t,n,r),formatChanged:(t,n,r,o,a)=>((e,t,n,r,o,a)=>(((e,t,n,r,o,a)=>{const i=t.get();W(n.split(","),t=>{const n=Se(i,t).getOrThunk(()=>{const e={withSimilar:{state:Te(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Te(!1),similar:!1,callbacks:[]},withVars:[]};return i[t]=e,e}),s=()=>{const n=fy(e);return uy(e,n,t,o,a).isSome()};if(y(a)){const e=o?n.withSimilar:n.withoutSimilar;e.callbacks.push(r),1===e.callbacks.length&&e.state.set(s())}else n.withVars.push({state:Te(s()),similar:o,vars:a,callback:r})}),t.set(i)})(e,t,n,r,o,a),{unbind:()=>((e,t,n)=>{const r=e.get();W(t.split(","),e=>Se(r,e).each(t=>{r[e]={withSimilar:{...t.withSimilar,callbacks:Y(t.withSimilar.callbacks,e=>e!==n)},withoutSimilar:{...t.withoutSimilar,callbacks:Y(t.withoutSimilar.callbacks,e=>e!==n)},withVars:Y(t.withVars,e=>e.callback!==n)}})),e.set(r)})(t,n,r)}))(e,t,n,r,o,a)},editor:{getContent:t=>((e,t)=>j.from(e.getBody()).fold(T("tree"===t.format?new mh("body",11):""),n=>Oh(e,t,n)))(e,t),setContent:(t,n)=>((e,t,n)=>j.from(e.getBody()).map(r=>rb(t)?((e,t,n,r)=>{Iv(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const o=Dh({validate:!1},e.schema).serialize(n),a=Is(Ps(pn(t))?o:ln.trim(o));return ob(e,a,r.no_selection),{content:n,html:a}})(e,r,t,n):((e,t,n,r)=>{if(0===(n=Is(n)).length||/^\s+$/.test(n)){const o='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");const a=Rc(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(n=o,n=e.dom.createHTML(a,Pc(e),n)):n||(n=o),ob(e,n,r.no_selection),{content:n,html:n}}{"raw"!==r.format&&(n=Dh({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const o=Ps(pn(t))?n:ln.trim(n);return ob(e,o,r.no_selection),{content:o,html:o}}})(e,r,t,n)).getOr({content:t,html:rb(n.content)?"":n.content}))(e,t,n),insertContent:(t,n)=>nb(e,t,n),addVisual:t=>((e,t)=>{const n=e.dom,r=x(t)?t:e.getBody();W(n.select("table,a",r),t=>{switch(t.nodeName){case"TABLE":const r=Dd(e),o=n.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?n.removeClass(t,r):n.addClass(t,r);break;case"A":if(!n.getAttrib(t,"href")){const r=n.getAttrib(t,"name")||t.id,o=Md(e);r&&e.hasVisual?n.addClass(t,o):n.removeClass(t,o)}}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((e,t,n={})=>{const r=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(n,t);return Zk(e,r).fold(N,t=>{const n=((e,t)=>{if("text"===t.format)return(e=>j.from(e.selection.getRng()).map(t=>{var n;const r=j.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),a=(e=>e.map(e=>e.nodeName).getOr("div").toLowerCase())(r),i=pn(t.cloneContents());Th(i),Nh(i);const s=e.dom.add(o,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},i.dom),l=gx(s),c=Is(null!==(n=s.textContent)&&void 0!==n?n:"");if(e.dom.remove(s),hx(c,0)||hx(c,c.length-1)){const e=r.getOr(o),t=gx(e),n=t.indexOf(l);return-1===n?l:(hx(t,n-1)?" ":"")+l+(hx(t,n+l.length)?" ":"")}return l}).getOr(""))(e);{const n=((e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),a=ch(e,Xf(o)),i=t.contextual?mx(pn(e.getBody()),a,e.schema).dom:n.cloneContents();return i&&r.appendChild(i),e.selection.serializer.serialize(r,t)})(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}})(e,t);return Jk(e,n,t)})})(e,t,n)},autocompleter:{addDecoration:E,removeDecoration:E},raw:{getModel:()=>j.none()}}),Nx=e=>Ee(e.plugins,"rtc"),Ox=e=>e.rtcInstance?e.rtcInstance:Tx(e),Rx=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Px=e=>Rx(e).init.bindEvents(),Dx=e=>0===e.dom.length?(Cr(e),j.none()):j.some(e),Mx=(e,t,n,r,o)=>{e.bind(e=>((r?Dg:Pg)(e.dom,r?e.dom.length:0,o),t.filter(Nn).map(t=>((e,t,n,r,o)=>{const a=e.dom,i=t.dom,s=r?a.length:i.length;r?(Mg(a,i,o,!1,!r),n.setStart(i,s)):(Mg(i,a,o,!1,!r),n.setEnd(i,s))})(e,t,n,r,o)))).orThunk(()=>{const e=((e,t)=>e.filter(e=>Qp.isBookmarkNode(e.dom)).bind(t?Un:Fn))(t,r).or(t).filter(Nn);return e.map(e=>((e,t,n)=>{Ln(e).each(r=>{const o=e.dom;t&&wg(r,Bl(o,0),n)?Pg(o,0,n):!t&&Sg(r,Bl(o,o.length),n)&&Dg(o,o.length,n)})})(e,r,o))})},Bx=(e,t,n)=>{if(Ee(e,t)){const r=Y(e[t],e=>e!==n);0===r.length?delete e[t]:e[t]=r}};const Lx=e=>!(!e||!e.ownerDocument)&&Cn(pn(e.ownerDocument),pn(e)),Ix=(e,t,n,r)=>{let o,a;const{selectorChangedWithUnbind:i}=((e,t)=>{let n,r;const o=(t,n)=>J(n,n=>e.is(n,t)),a=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,i)=>(n||(n={},r={},t.on("NodeChange",e=>{const t=e.element,i=a(t),s={};ge(n,(e,t)=>{o(t,i).each(n=>{r[t]||(W(e,e=>{e(!0,{node:n,selector:t,parents:i})}),r[t]=e),s[t]=e})}),ge(r,(e,n)=>{s[n]||(delete r[n],W(e,e=>{e(!1,{node:t,selector:n,parents:i})}))})})),n[e]||(n[e]=[]),n[e].push(i),o(e,a(t.selection.getStart())).each(()=>{r[e]=n[e]}),{unbind:()=>{Bx(n,e,i),Bx(r,e,i)}})}})(e,r),s=(e,t)=>((e,t,n={})=>{const r=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(n,t);ex(e,r).each(t=>{const n=((e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},a=e.parser.parse(t.content,{forced_root_block:!1,...o,...t});return Dh({validate:!1},e.schema).serialize(a)}return t.content})(e,t),r=e.selection.getRng();((e,t,n)=>{const r=j.from(t.firstChild).map(pn),o=j.from(t.lastChild).map(pn);e.deleteContents(),e.insertNode(t);const a=r.bind(Fn).filter(Nn).bind(Dx),i=o.bind(Un).filter(Nn).bind(Dx);Mx(a,r,e,!0,n),Mx(i,o,e,!1,n),e.collapse(!1)})(r,r.createContextualFragment(n),e.schema),e.selection.setRng(r),rh(e,r),tx(e,n,t)})})(r,e,t),l=e=>{const t=d();t.collapse(!!e),u(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,d=()=>{let n;const i=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},s=t.document;if(x(r.bookmark)&&!xm(r)){const e=im(r);if(e.isSome())return e.map(e=>ch(r,[e])[0]).getOr(s.createRange())}try{const e=c();e&&!Vo(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):s.createRange(),n=ch(r,[n])[0])}catch(e){}if(n||(n=s.createRange()),aa(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return o&&a&&(0===i(n.START_TO_START,n,o)&&0===i(n.END_TO_END,n,o)?n=a:(o=null,a=null)),n},u=(e,t)=>{if(!(e=>!!e&&Lx(e.startContainer)&&Lx(e.endContainer))(e))return;const n=c();if(e=r.dispatch("SetSelectionRange",{range:e,forward:t}).range,n){a=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),o=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}r.dispatch("AfterSetSelectionRange",{range:e,forward:t})},f=()=>{const t=c(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;if(!t||!n||!r||Vo(n)||Vo(r))return!0;const o=e.createRng(),a=e.createRng();try{o.setStart(n,t.anchorOffset),o.collapse(!0),a.setStart(r,t.focusOffset),a.collapse(!0)}catch(e){return!0}return o.compareBoundaryPoints(o.START_TO_START,a)<=0},p={dom:e,win:t,serializer:n,editor:r,expand:(t={type:"word"})=>u(Hm(e).expand(d(),t)),collapse:l,setCursorLocation:(t,n)=>{const o=e.createRng();x(t)&&x(n)?(o.setStart(t,n),o.setEnd(t,n),u(o),l(!1)):(rp(e,o,r.getBody(),!0),u(o))},getContent:e=>((e,t={})=>((e,t,n)=>Rx(e).selection.getContent(t,n))(e,t.format?t.format:"html",t))(r,e),setContent:s,getBookmark:(e,t)=>m.getBookmark(e,t),moveToBookmark:e=>m.moveToBookmark(e),select:(t,n)=>(((e,t,n)=>j.from(t).bind(t=>j.from(t.parentNode).map(r=>{const o=e.nodeIndex(t),a=e.createRng();return a.setStart(r,o),a.setEnd(r,o+1),n&&(rp(e,a,t,!0),rp(e,a,t,!1)),a})))(e,t,n).each(u),t),isCollapsed:()=>{const e=d(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{if(r.mode.isReadOnly())return!1;const t=d(),n=r.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?re(n,t=>e.isEditable(t.parentElement)):oh(e,t)},isForward:f,setNode:t=>(s(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const o=t.startOffset,a=t.endOffset;let i=t.commonAncestorContainer;t.collapsed||(n===r&&a-o<2&&n.hasChildNodes()&&(i=n.childNodes[o]),ta(n)&&ta(r)&&(n=n.length===o?lh(n.nextSibling,!0):n.parentNode,r=0===a?lh(r.previousSibling,!1):r.parentNode,n&&n===r&&(i=n)));const s=ta(i)?i.parentNode:i;return Ko(s)?s:e})(r.getBody(),d()),getSel:c,setRng:u,getRng:d,getStart:e=>ih(r.getBody(),d(),e),getEnd:e=>sh(r.getBody(),d(),e),getSelectedBlocks:(t,n)=>((e,t,n,r)=>{const o=[],a=e.getRoot(),i=e.getParent(n||ih(a,t,t.collapsed),e.isBlock),s=e.getParent(r||sh(a,t,t.collapsed),e.isBlock);if(i&&i!==a&&o.push(i),i&&s&&i!==s){let t;const n=new Fo(i,a);for(;(t=n.next())&&t!==s;)e.isBlock(t)&&o.push(t)}return s&&i!==s&&s!==a&&o.push(s),o})(e,d(),t,n),normalize:()=>{const t=d(),n=c();if(!(Xf(n).length>1)&&op(r)){const n=jm(e,t);return n.each(e=>{u(e,f())}),n.getOr(t)}return t},selectorChanged:(e,t)=>(i(e,t),p),selectorChangedWithUnbind:i,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{x(e)?((e,t,n)=>{(e.inline?eh:nh)(e,t,n)})(r,e,t):rh(r,d(),t)},placeCaretAt:(e,t)=>u(Om(e,t,r.getDoc())),getBoundingClientRect:()=>{const e=d();return e.collapsed?Bl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=o=a=null,h.destroy()}},m=Qp(p),h=Nm(p,r);return p.bookmarkManager=m,p.controlSelection=h,p},jx=(e,t,n)=>{-1===ln.inArray(t,n)&&(e.addAttributeFilter(n,(e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}),t.push(n))},Fx=(e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},o=t&&t.dom?t.dom:os.DOM,a=t&&t.schema?t.schema:Ni(r),i=Yk(r,a);return((e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(e,t)=>{let n=e.length;for(;n--;){const r=e[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(t,null)}}),e.addAttributeFilter("src,href,style",(e,r)=>{const o="data-mce-"+r,a=t.url_converter,i=t.url_converter_scope;let s=e.length;for(;s--;){const t=e[s];let l=t.attr(o);void 0!==l?(t.attr(r,l.length>0?l:null),t.attr(o,null)):(l=t.attr(r),"style"===r?l=n.serializeStyle(n.parseStyle(l),t.name):a&&(l=a.call(i,l,r,t.name)),t.attr(r,l.length>0?l:null))}}),e.addAttributeFilter("class",e=>{let t=e.length;for(;t--;){const n=e[t];let r=n.attr("class");r&&(r=r.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}}),e.addAttributeFilter("data-mce-type",(e,t,n)=>{let r=e.length;for(;r--;){const t=e[r];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=j.from(t.firstChild).exists(e=>{var t;return!Ls(null!==(t=e.value)&&void 0!==t?t:"")});e?t.unwrap():t.remove()}}}),e.addNodeFilter("script,style",(e,n)=>{var r;const o=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let a=e.length;for(;a--;){const i=e[a],s=i.firstChild,l=null!==(r=null==s?void 0:s.value)&&void 0!==r?r:"";if("script"===n){const e=i.attr("type");e&&i.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&s&&l.length>0&&(s.value="// <![CDATA[\n"+o(l)+"\n// ]]>")}else"xhtml"===t.element_format&&s&&l.length>0&&(s.value="\x3c!--\n"+o(l)+"\n--\x3e")}}),e.addNodeFilter("#comment",e=>{let r=e.length;for(;r--;){const o=e[r],a=o.value;t.preserve_cdata&&0===(null==a?void 0:a.indexOf("[CDATA["))?(o.name="#cdata",o.type=4,o.value=n.decode(a.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==a?void 0:a.indexOf("mce:protected "))&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(a).substr(14))}}),e.addNodeFilter("xml:namespace,input",(e,t)=>{let n=e.length;for(;n--;){const r=e[n];7===r.type?r.remove():1===r.type&&("input"!==t||r.attr("type")||r.attr("type","text"))}}),e.addAttributeFilter("data-mce-type",t=>{W(t,t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}),t.remove_trailing_brs&&((e,t,n)=>{t.addNodeFilter("br",(t,r,o)=>{const a=ln.extend({},n.getBlockElements()),i=n.getNonEmptyElements(),s=n.getWhitespaceElements();a.body=1;const l=e=>e.name in a||qa(n,e);for(let r=0,c=t.length;r<c;r++){let c=t[r],d=c.parent;if(d&&l(d)&&c===d.lastChild){let t=c.prev;for(;t;){const e=t.name;if("span"!==e||"bookmark"!==t.attr("data-mce-type")){"br"===e&&(c=null);break}t=t.prev}if(c&&(c.remove(),Uv(n,i,s,d))){const t=n.getElementRule(d.name);t&&(t.removeEmpty?d.remove():t.paddEmpty&&jv(e,o,l,d))}}else{let e=c;for(;d&&d.firstChild===e&&d.lastChild===e&&(e=d,!a[d.name]);)d=d.parent;if(e===d){const e=new mh("#text",3);e.value=lt,c.replace(e)}}}})})(t,e,e.schema)})(i,r,o),{schema:a,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:(e,n={})=>{const s={format:"html",...n},l=((e,t,n)=>((e,t)=>x(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,n)?((e,t,n)=>{let r;const o=e.dom;let a=t.cloneNode(!0);const i=document.implementation;if(i.createHTMLDocument){const e=i.createHTMLDocument("");ln.each("BODY"===a.nodeName?a.childNodes:[a],t=>{e.body.appendChild(e.importNode(t,!0))}),a="BODY"!==a.nodeName?e.body.firstChild:e.body,r=o.doc,o.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...n,node:a}),r&&(o.doc=r),a})(e,t,n):t)(t,e,s),c=((e,t,n)=>{const r=Is(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Ps(pn(t))?r:ln.trim(r)})(o,l,s),d=((e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,o=e.parse(t,r);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}})(o),o})(i,c,s);return"tree"===s.format?d:((e,t,n,r,o)=>{const a=((e,t,n)=>Dh(e,t).serialize(n))(t,n,r);return((e,t,n)=>{if(!t.no_events&&e){const r=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:n});return r.content}return n})(e,o,a)})(t,r,a,d,s)},addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:R(jx,i,n),getTempAttrs:T(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}},Ux=(e,t)=>{const n=Fx(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},Hx=(e,t,n={})=>{const r=((e,t)=>({format:"html",...e,set:!0,content:t}))(n,t);return ex(e,r).map(t=>{const n=((e,t,n)=>Ox(e).editor.setContent(t,n))(e,t.content,t);return tx(e,n.html,t),n.content}).getOr(t)},zx="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),$x=[],qx="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Vx=[{name:"export",replacedWith:"Export to PDF"}],Wx=(e,t)=>{const n=Y(t,t=>Ee(e,t));return se(n)},Kx=e=>{const t=Wx(e,zx),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),se(t)},Gx=e=>Wx(e,$x),Yx=(e,t)=>{const n=ln.makeMap(e.plugins," "),r=Y(t,e=>Ee(n,e));return se(r)},Xx=e=>Yx(e,qx),Qx=e=>Yx(e,Vx.map(e=>e.name)),Zx=e=>J(Vx,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),Jx=os.DOM,eC=e=>j.from(e).each(e=>e.destroy()),tC=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ee(e,t)}})(),nC=us.ModelManager,rC=(e,t)=>t.dom[e],oC=(e,t)=>parseInt(Br(t,e),10),aC=R(rC,"clientWidth"),iC=R(rC,"clientHeight"),sC=R(oC,"margin-top"),lC=R(oC,"margin-left"),cC=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},r=()=>j.from(t[0]),o=()=>{r().each(e=>{e.reposition()})},a=e=>{ee(t,t=>t===e).each(e=>{t.splice(e,1)})},i=(r,i=!0)=>e.removed||!(e=>{return(t=e.inline?e.getBody():e.getContentAreaContainer(),j.from(t).map(pn)).map(Rr).getOr(!1);var t})(e)?{}:(i&&e.dispatch("BeforeOpenNotification",{notification:r}),J(t,e=>{return t=n().getArgs(e),o=r,!(t.type!==o.type||t.text!==o.text||t.progressBar||t.timeout||o.progressBar||o.timeout);var t,o}).getOrThunk(()=>{e.editorManager.setActive(e);const i=n().open(r,()=>{a(i)},()=>Cm(e));return(e=>{t.push(e)})(i),o(),e.dispatch("OpenNotification",{notification:{...i}}),i})),s=T(t);return(e=>{e.on("SkinLoaded",()=>{const t=ld(e);t&&i({text:t,type:"warning",timeout:0},!1),o()}),e.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(o)}),e.on("remove",()=>{W(t.slice(),e=>{n().close(e)})}),e.on("keydown",e=>{var t;const n="f12"===(null===(t=e.key)||void 0===t?void 0:t.toLowerCase())||123===e.keyCode;e.altKey&&n&&(e.preventDefault(),r().map(e=>pn(e.getEl())).each(e=>or(e)))})})(e),{open:i,close:()=>{r().each(e=>{n().close(e),a(e),o()})},getNotifications:s}},dC=us.PluginManager,uC=us.ThemeManager,fC=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},r=(e,t)=>(...n)=>t?t.apply(e,n):void 0,o=n=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(n),t=Y(t,e=>e!==n),0===t.length&&e.focus()},a=n=>{e.editorManager.setActive(e),am(e),e.ui.show();const r=n();return(n=>{t.push(n),(t=>{e.dispatch("OpenWindow",{dialog:t})})(n)})(r),r};return e.on("remove",()=>{W(t,e=>{n().close(e)})}),{open:(e,t)=>a(()=>n().open(e,t,o)),openUrl:e=>a(()=>n().openUrl(e,o)),alert:(e,t,o)=>{const a=n();a.alert(e,r(o||a,t))},confirm:(e,t,o)=>{const a=n();a.confirm(e,r(o||a,t))},close:()=>{j.from(t[t.length-1]).each(e=>{n().close(e),o(e)})}}},pC=(e,t)=>{e.notificationManager.open({type:"error",text:t})},mC=(e,t)=>{e._skinLoaded?pC(e,t):e.on("SkinLoaded",()=>{pC(e,t)})},hC=(e,t,n)=>{dc(e,t,{message:n}),console.error(n)},gC=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,vC=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},bC=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},yC=(e,t,n)=>{mo(e,t)&&!n?po(e,t):n&&uo(e,t)},kC=e=>{const t=pn(e.getBody());yC(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{j.from(e.selection.getNode()).each(e=>{e.removeAttribute("data-mce-selected")})})(e)},xC=e=>{const t=pn(e.getBody());yC(t,"mce-content-readonly",!1),e.hasEditableRoot()&&vo(t,!0),((e,t)=>{bC(e,"StyleWithCSS",t),bC(e,"enableInlineTableEditing",t),bC(e,"enableObjectResizing",t)})(e,!1),Cm(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged()},CC=e=>bu(e),wC="data-mce-contenteditable",SC=(e,t)=>{const n=pn(e.getBody());t?(kC(e),vo(n,!1),W(yo(n,'*[contenteditable="true"]'),e=>{mr(e,wC,"true"),vo(e,!1)})):(W(yo(n,`*[${wC}="true"]`),e=>{yr(e,wC),vo(e,!0)}),xC(e))},EC=e=>{e.parser.addAttributeFilter("contenteditable",t=>{CC(e)&&W(t,e=>{e.attr(wC,e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(wC,t=>{CC(e)&&W(t,e=>{e.attr("contenteditable",e.attr(wC))})}),e.serializer.addTempAttr(wC)},_C=["copy"],AC=e=>"content/"+e+"/content.css",TC=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",r=`content${e.editorManager.suffix}.css`;return V(t,t=>(e=>tinymce.Resource.has(AC(e)))(t)?t:(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${n}/${t}/${r}`:e.documentBaseURI.toAbsolute(t))},NC=(e,t)=>{const n={};return{findAll:(r,o=I)=>{const a=Y((e=>e?ue(e.getElementsByTagName("img")):[])(r),t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===rn.transparentSrc)&&(Ye(n,"blob:")?!e.isUploaded(n)&&o(t):!!Ye(n,"data:")&&o(t))}),i=V(a,e=>{const r=e.src;if(Ee(n,r))return n[r].then(t=>p(t)?t:{image:e,blobInfo:t.blobInfo});{const o=((e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Ye(t,"blob:")){const a=e.getByUri(t);return x(a)?Promise.resolve(a):(r=t,Ye(r,"blob:")?(e=>fetch(e).then(e=>e.ok?e.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})))(r):Ye(r,"data:")?(o=r,new Promise((e,t)=>{vy(o).bind(({type:e,data:t,base64Encoded:n})=>by(e,t,n)).fold(()=>t("Invalid data URI"),e)})):Promise.reject("Unknown URI format")).then(t=>yy(t).then(r=>xy(r,!1,n=>j.some(Cy(e,t,n))).getOrThunk(n)))}var r,o;return Ye(t,"data:")?wy(e,t).fold(n,e=>Promise.resolve(e)):Promise.reject("Unknown image data format")})(t,r).then(t=>(delete n[r],{image:e,blobInfo:t})).catch(e=>(delete n[r],e));return n[r]=o,o}});return Promise.all(i)}}},OC=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{const n=e[t];return n?n.resultUri:null},isPending:t=>!!n(t)&&1===e[t].status,isUploaded:t=>!!n(t)&&2===e[t].status,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,r)=>{e[n]=t(2,r)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let RC=0;const PC=(e,t)=>{const n={},r=(e,n)=>new Promise((r,o)=>{const a=new XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=e=>{n(e.loaded/e.total*100)},a.onerror=()=>{o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=()=>{if(a.status<200||a.status>=300)return void o("HTTP Error: "+a.status);const e=JSON.parse(a.responseText);var n,i;e&&p(e.location)?r((n=t.basePath,i=e.location,n?n.replace(/\/$/,"")+"/"+i.replace(/^\//,""):i)):o("Invalid JSON: "+a.responseText)};const i=new FormData;i.append("file",e.blob(),e.filename()),a.send(i)}),o=C(t.handler)?t.handler:r,a=(e,t)=>({url:t,blobInfo:e,status:!0}),i=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),s=(e,t)=>{ln.each(n[e],e=>{e(t)}),delete n[e]};return{upload:(l,c)=>t.url||o!==r?((t,r)=>(t=ln.grep(t,t=>!e.isUploaded(t.blobUri())),Promise.all(ln.map(t,t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise(e=>{n[t]=n[t]||[],n[t].push(e)})})(t):((t,n,r)=>(e.markPending(t.blobUri()),new Promise(o=>{let l,c;try{const d=()=>{l&&(l.close(),c=E)},u=n=>{d(),e.markUploaded(t.blobUri(),n),s(t.blobUri(),a(t,n)),o(a(t,n))},f=n=>{d(),e.removeFailed(t.blobUri()),s(t.blobUri(),i(t,n)),o(i(t,n))};c=e=>{e<0||e>100||j.from(l).orThunk(()=>j.from(r).map(M)).each(t=>{l=t,t.progressBar.value(e)})},n(t,c).then(u,e=>{f(p(e)?{message:e}:e)})}catch(e){o(i(t,e))}})))(t,o,r)))))(l,c):new Promise(e=>{e([])})}},DC=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),MC=(e,t)=>PC(t,{url:$c(e),basePath:qc(e),credentials:Vc(e),handler:Wc(e)}),BC=e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||"blobid"+RC+++(()=>{const e=()=>Math.round(4294967295*De()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),n=e.name||t,r=e.blob;var o;return{id:T(t),name:T(n),filename:T(e.filename||n+"."+(o=r.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[o.toLowerCase()]||"dat")),blob:T(r),base64:T(e.base64),blobUri:T(e.blobUri||URL.createObjectURL(r)),uri:T(e.uri)}},n=t=>J(e,t).getOrUndefined(),r=e=>n(t=>t.id()===e);return{create:(e,n,r,o,a)=>{if(p(e))return t({id:e,name:o,filename:a,blob:n,base64:r});if(m(e))return t(e);throw new Error("Unknown input type")},add:t=>{r(t.id())||e.push(t)},get:r,getByUri:e=>n(t=>t.blobUri()===e),getByData:(e,t)=>n(n=>n.base64()===e&&n.blob().type===t),findFirst:n,removeByUri:t=>{e=Y(e,e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1))},destroy:()=>{W(e,e=>{URL.revokeObjectURL(e.blobUri())}),e=[]}}})();let n,r;const o=OC(),a=[],i=t=>n=>e.selection?t(n):[],s=(e,t,n)=>{let r=0;do{r=e.indexOf(t,r),-1!==r&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},l=(e,t,n)=>{const r=`src="${n}"${n===rn.transparentSrc?' data-mce-placeholder="1"':""}`;return e=s(e,`src="${t}"`,r),s(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},c=(t,n)=>{W(e.undoManager.data,e=>{"fragmented"===e.type?e.fragments=V(e.fragments,e=>l(e,t,n)):e.content=l(e.content,t,n)})},d=()=>(n||(n=MC(e,o)),h().then(i(r=>{const o=V(r,e=>e.blobInfo);return n.upload(o,DC(e)).then(i(n=>{const o=[];let a=!1;const i=V(n,(n,i)=>{const{blobInfo:s,image:l}=r[i];let d=!1;return n.status&&Uc(e)?(n.url&&!Ge(l.src,n.url)&&(a=!0),t.removeByUri(l.src),Nx(e)||((t,n)=>{const r=e.convertURL(n,"src");var o;c(t.src,n),hr(pn(t),{src:Fc(e)?(o=n,o+(-1===o.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":r})})(l,n.url)):n.error&&(n.error.remove&&(c(l.src,rn.transparentSrc),o.push(l),d=!0),((e,t)=>{mC(e,ds.translate(["Failed to upload image: {0}",t]))})(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:s,removed:d}});return o.length>0&&!Nx(e)?e.undoManager.transact(()=>{W(Ar(o),n=>{const r=Ln(n);Cr(n),r.each((e=>t=>{((e,t)=>e.dom.isEmpty(t.dom)&&x(e.schema.getTextBlockElements()[Sn(t)]))(e,t)&&dr(t,dn('<br data-mce-bogus="1" />'))})(e)),t.removeByUri(n.dom.src)})}):a&&e.undoManager.dispatchChange(),i}))}))),u=()=>jc(e)?d():Promise.resolve([]),f=e=>re(a,t=>t(e)),h=()=>(r||(r=NC(o,t)),r.findAll(e.getBody(),f).then(i(t=>{const n=Y(t,t=>p(t)?(mC(e,t),!1):"blob"!==t.uriType);return Nx(e)||W(n,e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),n}))),g=n=>n.replace(/src="(blob:[^"]+)"/g,(n,r)=>{const a=o.getResultUri(r);if(a)return'src="'+a+'"';let i=t.getByUri(r);return i||(i=Q(e.editorManager.get(),(e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r),void 0)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':n});return e.on("SetContent",()=>{jc(e)?u():h()}),e.on("RawSaveContent",e=>{e.content=g(e.content)}),e.on("GetContent",e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",e=>{W(e,e=>{const n=e.attr("src");if(!n||t.getByUri(n))return;const r=o.getResultUri(n);r&&e.attr("src",r)})})}),{blobCache:t,addFilter:e=>{a.push(e)},uploadImages:d,uploadImagesAuto:u,scanForImages:h,destroy:()=>{t.destroy(),o.destroy(),r=n=null}}},LC={remove_similar:!0,inherit:!1},IC={selector:"td,th",...LC},jC={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...IC},tablecellverticalalign:{styles:{"vertical-align":"%value"},...IC},tablecellbordercolor:{styles:{borderColor:"%value"},...IC},tablecellclass:{classes:["%value"],...IC},tableclass:{selector:"table",classes:["%value"],...LC},tablecellborderstyle:{styles:{borderStyle:"%value"},...IC},tablecellborderwidth:{styles:{borderWidth:"%value"},...IC}},FC=T(jC),UC=ln.each,HC=os.DOM,zC=e=>x(e)&&m(e),$C=(e,t)=>{const n=t&&t.schema||Ni({}),r=e=>{const t=p(e)?{name:e,classes:[],attrs:{}}:e,n=HC.create(t.name);return((e,t)=>{t.classes.length>0&&HC.addClass(e,t.classes.join(" ")),HC.setAttribs(e,t.attrs)})(n,t),n},o=(e,t,a)=>{let i;const s=t[0],l=zC(s)?s.name:void 0,c=((e,t)=>{const r=n.getElementRule(e.nodeName.toLowerCase()),o=null==r?void 0:r.parentsRequired;return!(!o||!o.length)&&(t&&$(o,t)?t:o[0])})(e,l);if(c)l===c?(i=s,t=t.slice(1)):i=c;else if(s)i=s,t=t.slice(1);else if(!a)return e;const d=i?r(i):HC.create("div");d.appendChild(e),a&&ln.each(a,t=>{const n=r(t);d.insertBefore(n,e)});const u=zC(i)?i.siblings:void 0;return o(d,t,u)},a=HC.create("div");if(e.length>0){const t=e[0],n=r(t),i=zC(t)?t.siblings:void 0;a.appendChild(o(n,e.slice(1),i))}return a},qC=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=ln.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(e,t,r,o,a)=>{switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==ln.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){const e=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""})),n.name=t||"div",n},VC=(e,t)=>{let n="",r=hd(e);if(""===r)return"";const o=e=>p(e)?e.replace(/%(\w+)/g,""):"",a=(t,n)=>HC.getStyle(null!=n?n:e.getBody(),t,!0);if(p(t)){const n=e.formatter.get(t);if(!n)return"";t=n[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";r=e||r}let i,s=t.block||t.inline||"span";const l=(c=t.selector,p(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ln.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),e=>{const t=ln.map(e.split(/(?:~\+|~|\+)/),qC),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=s),s=t.selector,i=$C(l,e)):i=$C([s],e);const d=HC.select(s,i)[0]||i.firstChild;UC(t.styles,(e,t)=>{const n=o(e);n&&HC.setStyle(d,t,n)}),UC(t.attributes,(e,t)=>{const n=o(e);n&&HC.setAttrib(d,t,n)}),UC(t.classes,e=>{const t=o(e);HC.hasClass(d,t)||HC.addClass(d,t)}),e.dispatch("PreviewFormats"),HC.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i);const u=a("fontSize"),f=/px$/.test(u)?parseInt(u,10):0;return UC(r.split(" "),e=>{let t=a(e,d);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=a(e),"#ffffff"===ji(t).toLowerCase())||"color"===e&&"#000000"===ji(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===f)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*f+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}}),e.dispatch("AfterPreviewFormats"),HC.remove(i),n},WC=e=>{const t=(e=>{const t={},n=(e,r)=>{e&&(p(e)?(g(r)||(r=[r]),W(r,e=>{y(e.deep)&&(e.deep=!Sp(e)),y(e.split)&&(e.split=!Sp(e)||Ep(e)),y(e.remove)&&Sp(e)&&!Ep(e)&&(e.remove="none"),Sp(e)&&Ep(e)&&(e.mixed=!0,e.block_expand=!0),p(e.classes)&&(e.classes=e.classes.split(/\s+/))}),t[e]=r):ge(e,(e,t)=>{n(t,e)}))};return n((e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},r={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[r,e,t]:[e,r,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>Wo(e)&&e.hasAttribute("href"),onformat:(e,n,r)=>{ln.each(r,(n,r)=>{t.setAttrib(e,r,n)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ln.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),e=>{r[e]={block:e,remove:"all"}}),r})(e)),n(FC()),n(md(e)),{get:e=>x(e)?t[e]:t,has:e=>Ee(t,e),register:n,unregister:e=>(e&&t[e]&&delete t[e],t)}})(e),n=Te({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(e=>{e.on("mouseup keydown",t=>{var n;((e,t,n)=>{const r=e.selection,o=e.getBody();gb(e,null,n),8!==t&&46!==t||!r.isCollapsed()||r.getStart().innerHTML!==fb||gb(e,Df(o,r.getStart()),!0),37!==t&&39!==t||gb(e,Df(o,r.getStart()),!0)})(e,t.keyCode,(n=e.selection.getRng().endContainer,ta(n)&&Xe(n.data,lt)))})})(e),Nx(e)||((e,t)=>{e.set({}),t.on("NodeChange",n=>{py(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const r=j.from(n.node).map(e=>sp(e)?e:e.startContainer).bind(e=>Wo(e)?j.some(e):j.from(e.parentElement)).getOrThunk(()=>dy(t));py(t,r,e.get())})})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,r)=>{((e,t,n,r)=>{Rx(e).formatter.apply(t,n,r)})(e,t,n,r)},remove:(t,n,r,o)=>{((e,t,n,r,o)=>{Rx(e).formatter.remove(t,n,r,o)})(e,t,n,r,o)},toggle:(t,n,r)=>{((e,t,n,r)=>{Rx(e).formatter.toggle(t,n,r)})(e,t,n,r)},match:(t,n,r,o)=>((e,t,n,r,o)=>Rx(e).formatter.match(t,n,r,o))(e,t,n,r,o),closest:t=>((e,t)=>Rx(e).formatter.closest(t))(e,t),matchAll:(t,n)=>((e,t,n)=>Rx(e).formatter.matchAll(t,n))(e,t,n),matchNode:(t,n,r,o)=>((e,t,n,r,o)=>Rx(e).formatter.matchNode(t,n,r,o))(e,t,n,r,o),canApply:t=>((e,t)=>Rx(e).formatter.canApply(t))(e,t),formatChanged:(t,r,o,a)=>((e,t,n,r,o,a)=>Rx(e).formatter.formatChanged(t,n,r,o,a))(e,n,t,r,o,a),getCssText:R(VC,e)}},KC=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},GC=e=>{const t=Ve(),n=Te(0),r=Te(0),o={data:[],typing:!1,beforeChange:()=>{((e,t,n)=>{Rx(e).undoManager.beforeChange(t,n)})(e,n,t)},add:(a,i)=>((e,t,n,r,o,a,i)=>Rx(e).undoManager.add(t,n,r,o,a,i))(e,o,r,n,t,a,i),dispatchChange:()=>{e.setDirty(!0);const t=kx(e);t.bookmark=nc(e.selection),e.dispatch("change",{level:t,lastLevel:le(o.data,r.get()).getOrUndefined()})},undo:()=>((e,t,n,r)=>Rx(e).undoManager.undo(t,n,r))(e,o,n,r),redo:()=>((e,t,n)=>Rx(e).undoManager.redo(t,n))(e,r,o.data),clear:()=>{((e,t,n)=>{Rx(e).undoManager.clear(t,n)})(e,o,r)},reset:()=>{((e,t)=>{Rx(e).undoManager.reset(t)})(e,o)},hasUndo:()=>((e,t,n)=>Rx(e).undoManager.hasUndo(t,n))(e,o,r),hasRedo:()=>((e,t,n)=>Rx(e).undoManager.hasRedo(t,n))(e,o,r),transact:t=>((e,t,n,r)=>Rx(e).undoManager.transact(t,n,r))(e,o,n,t),ignore:t=>{((e,t,n)=>{Rx(e).undoManager.ignore(t,n)})(e,n,t)},extra:(t,n)=>{((e,t,n,r,o)=>{Rx(e).undoManager.extra(t,n,r,o)})(e,o,r,t,n)}};return Nx(e)||((e,t,n)=>{const r=Te(!1),o=e=>{_x(t,!1,n),t.add({},e)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",e=>{const r=e.command;KC(r)||(Ax(t,n),t.beforeChange())}),e.on("ExecCommand",e=>{const t=e.command;KC(t)||o(e)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",n=>{const a=n.keyCode;if(n.isDefaultPrevented())return;const i=rn.os.isMacOS()&&"Meta"===n.key;(a>=33&&a<=36||a>=37&&a<=40||45===a||n.ctrlKey||i)&&(o(),e.nodeChanged()),46!==a&&8!==a||e.nodeChanged(),r.get()&&t.typing&&!Sx(kx(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",e=>{const a=e.keyCode;if(e.isDefaultPrevented())return;if(a>=33&&a<=36||a>=37&&a<=40||45===a)return void(t.typing&&o(e));const i=e.ctrlKey&&!e.altKey||e.metaKey;if((a<16||a>20)&&224!==a&&91!==a&&!t.typing&&!i)return t.beforeChange(),_x(t,!0,n),t.add({},e),void r.set(!0);(rn.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()}),e.on("mousedown",e=>{t.typing&&o(e)}),e.on("input",e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&o(e)}),e.on("AddUndo Undo Redo ClearUndos",t=>{t.isDefaultPrevented()||e.nodeChanged()})})(e,o,n),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),o},YC=[9,27,Sm.HOME,Sm.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Sm.DOWN,Sm.UP,Sm.LEFT,Sm.RIGHT].concat(rn.browser.isFirefox()?[224]:[]),XC="data-mce-placeholder",QC=e=>"keydown"===e.type||"keyup"===e.type,ZC=e=>{const t=e.keyCode;return t===Sm.BACKSPACE||t===Sm.DELETE},JC=(e,t)=>({from:e,to:t}),ew=(e,t)=>{const n=pn(e),r=pn(t.container());return Jg(n,r).map(e=>((e,t)=>({block:e,position:t}))(e,t))},tw=(e,t)=>to(t,e=>Rs(e)||da(e.dom),t=>xn(t,e)).filter(Tn).getOr(e),nw=(e,t)=>{const n=((e,t)=>{const n=$n(e);return ee(n,e=>t.isBlock(Sn(e))).fold(T(n),e=>n.slice(0,e))})(e,t);return W(n,Cr),n},rw=(e,t,n)=>{const r=tg(n,t);return J(r.reverse(),t=>Sa(e,t)).each(Cr)},ow=(e,t,n,r,o)=>{if(Sa(r,n))return Ms(n),Nf(n.dom);((e,t)=>0===Y(Hn(t),t=>!Sa(e,t)).length)(r,o)&&Sa(r,t)&&sr(o,un("br"));const a=Tf(n.dom,Bl.before(o.dom));return W(nw(t,r),e=>{sr(o,e)}),rw(r,e,t),a},aw=(e,t,n,r)=>{if(Sa(r,n)){if(Sa(r,t)){const e=e=>{const t=(e,n)=>Vn(e).fold(()=>n,e=>((e,t)=>e.isInline(Sn(t)))(r,e)?t(e,n.concat(Er(e))):n);return t(e,[])},o=X(e(n),(e,t)=>(ur(e,t),t),Ds());xr(t),dr(t,o)}return Cr(n),Nf(t.dom)}const o=Of(n.dom);return W(nw(t,r),e=>{dr(n,e)}),rw(r,e,t),o},iw=(e,t)=>{_f(e,t.dom).bind(e=>j.from(e.getNode())).map(pn).filter(_s).each(Cr)},sw=(e,t,n,r)=>(iw(!0,t),iw(!1,n),((e,t)=>Cn(t,e)?((e,t)=>{const n=tg(t,e);return j.from(n[n.length-1])})(t,e):j.none())(t,n).fold(R(aw,e,t,n,r),R(ow,e,t,n,r))),lw=(e,t,n,r,o)=>t?sw(e,r,n,o):sw(e,n,r,o),cw=(e,t)=>{const n=pn(e.getBody()),r=((e,t,n,r)=>r.collapsed?((e,t,n,r)=>{const o=ew(t,Bl.fromRangeStart(r)),a=o.bind(r=>wf(n,t,r.position).bind(r=>ew(t,r).map(r=>((e,t,n,r)=>sa(r.position.getNode())&&!Sa(e,r.block)?_f(!1,r.block.dom).bind(e=>e.isEqual(r.position)?wf(n,t,e).bind(e=>ew(t,e)):j.some(r)).getOr(r):r)(e,t,n,r))));return He(o,a,JC).filter(e=>(e=>!xn(e.from.block,e.to.block))(e)&&((e,t)=>{const n=pn(e);return xn(tw(n,t.from.block),tw(n,t.to.block))})(t,e)&&(e=>!1===ua(e.from.block.dom)&&!1===ua(e.to.block.dom))(e)&&(e=>{const t=e=>As(e)||Fa(e.dom)||Ns(e);return t(e.from.block)&&t(e.to.block)})(e)&&(e=>!(Cn(e.to.block,e.from.block)||Cn(e.from.block,e.to.block)))(e))})(e,t,n,r):j.none())(e.schema,n.dom,t,e.selection.getRng()).map(r=>()=>{lw(n,t,r.from.block,r.to.block,e.schema).each(t=>{e.selection.setRng(t.toRange())})});return r},dw=(e,t)=>{const n=pn(t),r=R(xn,e);return eo(n,Rs,r).isSome()},uw=e=>{const t=pn(e.getBody());return((e,t)=>{const n=Tf(e.dom,Bl.fromRangeStart(t)).isNone(),r=Af(e.dom,Bl.fromRangeEnd(t)).isNone();return!((e,t)=>dw(e,t.startContainer)||dw(e,t.endContainer))(e,t)&&n&&r})(t,e.selection.getRng())?(e=>j.some(()=>{e.setContent(""),e.selection.setCursorLocation()}))(e):((e,t,n)=>{const r=t.getRng();return He(Jg(e,pn(r.startContainer)),Jg(e,pn(r.endContainer)),(o,a)=>xn(o,a)?j.none():j.some(()=>{r.deleteContents(),lw(e,!0,o,a,n).each(e=>{t.setRng(e.toRange())})})).getOr(j.none())})(t,e.selection,e.schema)},fw=(e,t)=>e.selection.isCollapsed()?j.none():uw(e),pw=(e,t,n,r,o)=>j.from(t._selectionOverrides.showCaret(e,n,r,o)),mw=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?j.none():j.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),hw=(e,t,n)=>t.collapsed?((e,t,n)=>{const r=nf(1,e.getBody(),t),o=Bl.fromRangeStart(r),a=o.getNode();if(Du(a))return pw(1,e,a,!o.isAtEnd(),!1);const i=o.getNode(!0);if(Du(i))return pw(1,e,i,!1,!1);const s=Ov(e.dom.getRoot(),o.getNode());return Du(s)?pw(1,e,s,!1,n):j.none()})(e,t,n).getOr(t):t,gw=e=>Zh(e)||Gh(e),vw=e=>Jh(e)||Yh(e),bw=(e,t,n,r,o,a)=>{pw(r,e,a.getNode(!o),o,!0).each(n=>{if(t.collapsed){const e=t.cloneRange();o?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)}),((e,t)=>{ta(t)&&0===t.data.length&&e.remove(t)})(e.dom,n)},yw=(e,t)=>((e,t)=>{const n=e.selection.getRng();if(!ta(n.commonAncestorContainer))return j.none();const r=t?1:-1,o=yf(e.getBody()),a=R(sf,t?o.next:o.prev),i=t?gw:vw,s=of(r,e.getBody(),n),l=a(s),c=l?Wg(t,l):l;if(!c||!lf(s,c))return j.none();if(i(c))return j.some(()=>bw(e,n,s.getNode(),r,t,c));const d=a(c);return d&&i(d)&&lf(c,d)?j.some(()=>bw(e,n,s.getNode(),r,t,d)):j.none()})(e,t),kw=(e,t)=>{const n=e.getBody();return t?Nf(n).filter(Zh):Of(n).filter(Jh)},xw=e=>{const t=e.selection.getRng();return!t.collapsed&&(kw(e,!0).exists(e=>e.isEqual(Bl.fromRangeStart(t)))||kw(e,!1).exists(e=>e.isEqual(Bl.fromRangeEnd(t))))},Cw=Ae([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ww=(e,t,n,r)=>wf(t,e,n).bind(o=>{return a=o.getNode(),x(a)&&(Rs(pn(a))||Ns(pn(a)))||((e,t,n,r,o)=>{const a=t=>o.isInline(t.nodeName.toLowerCase())&&!Yu(n,r,e);return rf(!t,n).fold(()=>rf(t,r).fold(L,a),a)})(e,t,n,o,r)?j.none():t&&ua(o.getNode())||!t&&ua(o.getNode(!0))?((e,t,n,r,o)=>{const a=o.getNode(!n);return Jg(pn(t),pn(r.getNode())).map(t=>Sa(e,t)?Cw.remove(t.dom):Cw.moveToElement(a)).orThunk(()=>j.some(Cw.moveToElement(a)))})(r,e,t,n,o):t&&Jh(n)||!t&&Zh(n)?j.some(Cw.moveToPosition(o)):j.none();var a}),Sw=(e,t)=>j.from(Ov(e.getBody(),t)),Ew=(e,t)=>{const n=e.selection.getNode();return Sw(e,n).filter(ua).fold(()=>((e,t,n,r)=>{const o=nf(t?1:-1,e,n),a=Bl.fromRangeStart(o),i=pn(e);return!t&&Jh(a)?j.some(Cw.remove(a.getNode(!0))):t&&Zh(a)?j.some(Cw.remove(a.getNode())):!t&&Zh(a)&&pg(i,a,r)?mg(i,a,r).map(e=>Cw.remove(e.getNode())):t&&Jh(a)&&fg(i,a,r)?hg(i,a,r).map(e=>Cw.remove(e.getNode())):((e,t,n,r)=>((e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return Wo(n)&&n.getAttribute("data-mce-caret")===r})(t,n)?((e,t)=>k(t)?j.none():e&&ua(t.nextSibling)?j.some(Cw.moveToElement(t.nextSibling)):!e&&ua(t.previousSibling)?j.some(Cw.moveToElement(t.previousSibling)):j.none())(t,n.getNode(!t)).orThunk(()=>ww(e,t,n,r)):ww(e,t,n,r).bind(t=>((e,t,n)=>n.fold(e=>j.some(Cw.remove(e)),e=>j.some(Cw.moveToElement(e)),n=>Yu(t,n,e)?j.none():j.some(Cw.moveToPosition(n))))(e,n,t)))(e,t,a,r)})(e.getBody(),t,e.selection.getRng(),e.schema).map(n=>()=>n.fold(((e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Hg(e,t,pn(n)),!0))(e,t),((e,t)=>n=>{const r=t?Bl.before(n):Bl.after(n);return e.selection.setRng(r.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))),()=>j.some(E))},_w=e=>{const t=e.dom,n=e.selection,r=Ov(e.getBody(),n.getNode());if(da(r)&&t.isBlock(r)&&t.isEmpty(r)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(e),n.setRng(Bl.before(e).toRange())}return!0},Aw=(e,t)=>e.selection.isCollapsed()?Ew(e,t):((e,t)=>{const n=e.selection.getNode();return ua(n)&&!pa(n)?Sw(e,n.parentNode).filter(ua).fold(()=>j.some(()=>{var n;n=pn(e.getBody()),W(yo(n,".mce-offscreen-selection"),Cr),Hg(e,t,pn(e.selection.getNode())),ev(e)}),()=>j.some(E)):xw(e)?j.some(()=>{rv(e,e.selection.getRng(),pn(e.getBody()))}):j.none()})(e,t),Tw=e=>e.hasOwnProperty("text"),Nw=e=>e.hasOwnProperty("marker"),Ow=(e,t)=>{const n=(e,n)=>{if(ta(e))return{text:e,offset:n};{const r=t(),o=e.childNodes;return n<o.length?(e.insertBefore(r,o[n]),{marker:r,before:!0}):(e.appendChild(r),{marker:r,before:!1})}},r=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:r}},Rw=e=>{var t,n;const{start:r,end:o}=e,a=new window.Range;return Tw(r)?a.setStart(r.text,r.offset):Nw(r)&&(r.before?a.setStartBefore(r.marker):a.setStartAfter(r.marker),null===(t=r.marker.parentNode)||void 0===t||t.removeChild(r.marker)),Tw(o)?a.setEnd(o.text,o.offset):Nw(o)&&(o.before?a.setEndBefore(o.marker):a.setEndAfter(o.marker),null===(n=o.marker.parentNode)||void 0===n||n.removeChild(o.marker)),a},Pw=(e,t)=>{var n;const r=e.dom,o=r.getParent(e.selection.getStart(),r.isBlock),a=r.getParent(e.selection.getEnd(),r.isBlock),i=e.getBody();if("div"===(null===(n=null==o?void 0:o.nodeName)||void 0===n?void 0:n.toLowerCase())&&o&&a&&o===i.firstChild&&a===i.lastChild&&!r.isEmpty(i)){const n=o.cloneNode(!1),r=()=>{if(t?Qg(e):Xg(e),i.firstChild!==o){const t=Ow(e.selection.getRng(),()=>document.createElement("span"));Array.from(i.childNodes).forEach(e=>n.appendChild(e)),i.appendChild(n),e.selection.setRng(Rw(t))}};return j.some(r)}return j.none()},Dw=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=Bl.fromRangeStart(e.selection.getRng());return wf(t,e.getBody(),n).filter(e=>t?Wh(e):Kh(e)).bind(e=>Xu(t?0:-1,e)).map(t=>()=>e.selection.select(t))})(e,t):j.none(),Mw=ta,Bw=e=>Mw(e)&&e.data[0]===Bs,Lw=e=>Mw(e)&&e.data[e.data.length-1]===Bs,Iw=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Bs)},jw=(e,t)=>e?(e=>{var t;if(Mw(e.previousSibling))return Lw(e.previousSibling)||e.previousSibling.appendData(Bs),e.previousSibling;if(Mw(e))return Bw(e)||e.insertData(0,Bs),e;{const n=Iw(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}})(t):(e=>{var t,n;if(Mw(e.nextSibling))return Bw(e.nextSibling)||e.nextSibling.insertData(0,Bs),e.nextSibling;if(Mw(e))return Lw(e)||e.appendData(Bs),e;{const r=Iw(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(r,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(r),r}})(t),Fw=R(jw,!0),Uw=R(jw,!1),Hw=(e,t)=>ta(e.container())?jw(t,e.container()):jw(t,e.getNode()),zw=(e,t)=>{const n=t.get();return n&&e.container()===n&&Hs(n)},$w=(e,t)=>t.fold(t=>{_u(e.get());const n=Fw(t);return e.set(n),j.some(Bl(n,n.length-1))},t=>Nf(t).map(t=>{if(zw(t,e)){const t=e.get();return Bl(t,1)}{_u(e.get());const n=Hw(t,!0);return e.set(n),Bl(n,1)}}),t=>Of(t).map(t=>{if(zw(t,e)){const t=e.get();return Bl(t,t.length-1)}{_u(e.get());const n=Hw(t,!1);return e.set(n),Bl(n,n.length-1)}}),t=>{_u(e.get());const n=Uw(t);return e.set(n),j.some(Bl(n,1))}),qw=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return j.none()},Vw=Ae([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Ww=(e,t)=>Gu(t,e)||e,Kw=(e,t,n)=>{const r=Kg(n),o=Ww(t,r.container());return Vg(e,o,r).fold(()=>Af(o,r).bind(R(Vg,e,o)).map(e=>Vw.before(e)),j.none)},Gw=(e,t)=>null===Df(e,t),Yw=(e,t,n)=>Vg(e,t,n).filter(R(Gw,t)),Xw=(e,t,n)=>{const r=Gg(n);return Yw(e,t,r).bind(e=>Tf(e,r).isNone()?j.some(Vw.start(e)):j.none())},Qw=(e,t,n)=>{const r=Kg(n);return Yw(e,t,r).bind(e=>Af(e,r).isNone()?j.some(Vw.end(e)):j.none())},Zw=(e,t,n)=>{const r=Gg(n),o=Ww(t,r.container());return Vg(e,o,r).fold(()=>Tf(o,r).bind(R(Vg,e,o)).map(e=>Vw.after(e)),j.none)},Jw=e=>!qg(tS(e)),eS=(e,t,n)=>qw([Kw,Xw,Qw,Zw],[e,t,n]).filter(Jw),tS=e=>e.fold(N,N,N,N),nS=e=>e.fold(T("before"),T("start"),T("end"),T("after")),rS=e=>e.fold(Vw.before,Vw.before,Vw.after,Vw.after),oS=e=>e.fold(Vw.start,Vw.start,Vw.end,Vw.end),aS=(e,t,n,r,o,a)=>He(Vg(t,n,r),Vg(t,n,o),(t,r)=>t!==r&&((e,t,n)=>{const r=Gu(t,e),o=Gu(n,e);return x(r)&&r===o})(n,t,r)?Vw.after(e?t:r):a).getOr(a),iS=(e,t)=>e.fold(I,e=>{return r=t,!(nS(n=e)===nS(r)&&tS(n)===tS(r));var n,r}),sS=(e,t)=>e?t.fold(_(j.some,Vw.start),j.none,_(j.some,Vw.after),j.none):t.fold(j.none,_(j.some,Vw.before),j.none,_(j.some,Vw.end)),lS=(e,t,n)=>{const r=e?1:-1;return t.setRng(Bl(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var cS;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(cS||(cS={}));const dS=(e,t)=>-1===e?oe(t):t,uS=(e,t,n)=>1===e?t.next(n):t.prev(n),fS=(e,t,n,r)=>sa(r.getNode(1===t))?cS.Br:!1===Yu(n,r)?cS.Block:cS.Wrap,pS=(e,t,n,r)=>{const o=yf(n);let a=r;const i=[];for(;a;){const n=uS(t,o,a);if(!n)break;if(sa(n.getNode(!1)))return 1===t?{positions:dS(t,i).concat([n]),breakType:cS.Br,breakAt:j.some(n)}:{positions:dS(t,i),breakType:cS.Br,breakAt:j.some(n)};if(n.isVisible()){if(e(a,n)){const e=fS(0,t,a,n);return{positions:dS(t,i),breakType:e,breakAt:j.some(n)}}i.push(n),a=n}else a=n}return{positions:dS(t,i),breakType:cS.Eol,breakAt:j.none()}},mS=(e,t,n,r)=>t(n,r).breakAt.map(r=>{const o=t(n,r).positions;return-1===e?o.concat(r):[r].concat(o)}).getOr([]),hS=(e,t)=>Q(e,(e,n)=>e.fold(()=>j.some(n),r=>He(ce(r.getClientRects()),ce(n.getClientRects()),(e,o)=>{const a=Math.abs(t-e.left);return Math.abs(t-o.left)<=a?n:r}).or(e)),j.none()),gS=(e,t)=>ce(t.getClientRects()).bind(t=>hS(e,t.left)),vS=R(pS,Bl.isAbove,-1),bS=R(pS,Bl.isBelow,1),yS=R(mS,-1,vS),kS=R(mS,1,bS),xS=(e,t)=>vS(e,t).breakAt.isNone(),CS=(e,t)=>bS(e,t).breakAt.isNone(),wS=(e,t)=>gS(yS(e,t),t),SS=(e,t)=>gS(kS(e,t),t),ES=ua,_S=(e,t)=>Math.abs(e.left-t),AS=(e,t)=>Math.abs(e.right-t),TS=(e,t)=>gt(e,(e,n)=>{const r=Math.min(_S(e,t),AS(e,t)),o=Math.min(_S(n,t),AS(n,t));return o===r&&_e(n,"node")&&ES(n.node)||o<r?n:e}),NS=e=>{const t=t=>V(t,t=>{const n=Qs(t);return n.node=e,n});if(Wo(e))return t(e.getClientRects());if(ta(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},OS=e=>ne(e,NS);var RS;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(RS||(RS={}));const PS=(e,t,n,r,o,a)=>{let i=0;const s=[],l=r=>{let a=OS([r]);e===RS.Up&&(a=a.reverse());for(let e=0;e<a.length;e++){const r=a[e];if(!n(r,c)){if(s.length>0&&t(r,bt(s))&&i++,r.line=i,o(r))return!0;s.push(r)}}return!1},c=bt(a.getClientRects());if(!c)return s;const d=a.getNode();return d&&(l(d),((e,t,n,r)=>{let o=r;for(;o=Ku(o,e,vl,t);)if(n(o))return})(e,r,l,d)),s},DS=R(PS,RS.Up,el,tl),MS=R(PS,RS.Down,tl,el),BS=e=>bt(e.getClientRects()),LS=e=>t=>((e,t)=>t.line>e)(e,t),IS=e=>t=>((e,t)=>t.line===e)(e,t),jS=(e,t)=>{e.selection.setRng(t),rh(e,e.selection.getRng())},FS=(e,t,n)=>j.some(hw(e,t,n)),US=(e,t,n,r,o,a)=>{const i=1===t,s=yf(e.getBody()),l=R(sf,i?s.next:s.prev),c=i?r:o;if(!n.collapsed){const r=rl(n);if(a(r))return pw(t,e,r,-1===t,!1);if(xw(e)){const e=n.cloneRange();return e.collapse(-1===t),j.from(e)}}const d=of(t,e.getBody(),n);if(c(d))return mw(e,d.getNode(!i));let u=l(d);const f=Ys(n);if(!u)return f?j.some(n):j.none();if(u=Wg(i,u),c(u))return pw(t,e,u.getNode(!i),i,!1);const p=l(u);return p&&c(p)&&lf(u,p)?pw(t,e,p.getNode(!i),i,!1):f?FS(e,u.toRange(),!1):j.none()},HS=(e,t,n,r,o,a)=>{const i=of(t,e.getBody(),n),s=bt(i.getClientRects()),l=t===RS.Down,c=e.getBody();if(!s)return j.none();if(xw(e)){const e=l?Bl.fromRangeEnd(n):Bl.fromRangeStart(n);return(l?SS:wS)(c,e).orThunk(()=>j.from(e)).map(e=>e.toRange())}const d=(l?MS:DS)(c,LS(1),i),u=Y(d,IS(1)),f=s.left,p=TS(u,f);if(p&&a(p.node)){const n=Math.abs(f-p.left),r=Math.abs(f-p.right);return pw(t,e,p.node,n<r,!1)}let m;if(m=r(i)?i.getNode():o(i)?i.getNode(!0):rl(n),m){const n=((e,t,n,r)=>{const o=yf(t);let a,i,s,l;const c=[];let d=0;e===RS.Down?(a=o.next,i=tl,s=el,l=Bl.after(r)):(a=o.prev,i=el,s=tl,l=Bl.before(r));const u=BS(l);do{if(!l.isVisible())continue;const e=BS(l);if(s(e,u))continue;c.length>0&&i(e,bt(c))&&d++;const t=Qs(e);if(t.position=l,t.line=d,n(t))return c;c.push(t)}while(l=a(l));return c})(t,c,LS(1),m);let r=TS(Y(n,IS(1)),f);if(r)return FS(e,r.position.toRange(),!1);if(r=bt(Y(n,IS(0))),r)return FS(e,r.position.toRange(),!1)}return 0===u.length?zS(e,l).filter(l?o:r).map(t=>hw(e,t.toRange(),!1)):j.none()},zS=(e,t)=>{const n=e.selection.getRng(),r=t?Bl.fromRangeEnd(n):Bl.fromRangeStart(n),o=(a=r.container(),i=e.getBody(),eo(pn(a),e=>Bu(e.dom),e=>e.dom===i).map(e=>e.dom).getOr(i));var a,i;if(t){const e=bS(o,r);return de(e.positions)}{const e=vS(o,r);return ce(e.positions)}},$S=(e,t,n)=>zS(e,t).filter(n).exists(t=>(e.selection.setRng(t.toRange()),!0)),qS=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},VS=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},WS=(e,t,n)=>$w(t,n).map(t=>(qS(e,t),n)),KS=(e,t,n)=>{const r=e.getBody(),o=((e,t,n)=>{const r=Bl.fromRangeStart(e);if(e.collapsed)return r;{const o=Bl.fromRangeEnd(e);return n?Tf(t,o).getOr(o):Af(t,r).getOr(r)}})(e.selection.getRng(),r,n);return((e,t,n,r)=>{const o=Wg(e,r),a=eS(t,n,o);return eS(t,n,o).bind(R(sS,e)).orThunk(()=>((e,t,n,r,o)=>{const a=Wg(e,o);return wf(e,n,a).map(R(Wg,e)).fold(()=>r.map(rS),o=>eS(t,n,o).map(R(aS,e,t,n,a,o)).filter(R(iS,r))).filter(Jw)})(e,t,n,a,r))})(n,R($g,e),r,o).bind(n=>WS(e,t,n))},GS=(e,t,n)=>!!pd(e)&&KS(e,t,n).isSome(),YS=(e,t,n)=>!!pd(t)&&((e,t)=>{const n=t.selection.getRng(),r=e?Bl.fromRangeEnd(n):Bl.fromRangeStart(n);return!!(e=>C(e.selection.getSel().modify))(t)&&(e&&qs(r)?lS(!0,t.selection,r):!(e||!Vs(r))&&lS(!1,t.selection,r))})(e,t),XS=e=>{const t=Te(null),n=R($g,e);return e.on("NodeChange",r=>{pd(e)&&(((e,t,n)=>{const r=V(yo(pn(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),e=>e.dom),o=Y(r,e),a=Y(n,e);W(ae(o,a),R(VS,!1)),W(ae(a,o),R(VS,!0))})(n,e.dom,r.parents),((e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=Bl.fromRangeStart(e.selection.getRng());Bl.isTextPosition(r)&&!(e=>qs(e)||Vs(e))(r)&&(qS(e,Eu(n,r)),t.set(null))}})(e,t),((e,t,n,r)=>{if(t.selection.isCollapsed()){const o=Y(r,e);W(o,r=>{const o=Bl.fromRangeStart(t.selection.getRng());eS(e,t.getBody(),o).bind(e=>WS(t,n,e))})}})(n,e,t,r.parents))}),t},QS=R(YS,!0),ZS=R(YS,!1),JS=(e,t,n)=>{if(pd(e)){const r=zS(e,t).getOrThunk(()=>{const n=e.selection.getRng();return t?Bl.fromRangeEnd(n):Bl.fromRangeStart(n)});return eS(R($g,e),e.getBody(),r).exists(t=>{const r=rS(t);return $w(n,r).exists(t=>(qS(e,t),!0))})}return!1},eE=(e,t)=>n=>$w(t,n).map(t=>()=>qS(e,t)),tE=(e,t,n,r)=>{const o=e.getBody(),a=R($g,e);e.undoManager.ignore(()=>{e.selection.setRng(((e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n})(n,r)),Xg(e),eS(a,o,Bl.fromRangeStart(e.selection.getRng())).map(oS).bind(eE(e,t)).each(B)}),e.nodeChanged()},nE=(e,t,n)=>{if(e.selection.isCollapsed()&&pd(e)){const r=Bl.fromRangeStart(e.selection.getRng());return((e,t,n,r)=>{const o=((e,t)=>Gu(t,e)||e)(e.getBody(),r.container()),a=R($g,e),i=eS(a,o,r);return i.bind(e=>n?e.fold(T(j.some(oS(e))),j.none,T(j.some(rS(e))),j.none):e.fold(j.none,T(j.some(rS(e))),j.none,T(j.some(oS(e))))).map(eE(e,t)).getOrThunk(()=>{const s=Sf(n,o,r),l=s.bind(e=>eS(a,o,e));return He(i,l,()=>Vg(a,o,r).bind(t=>(e=>He(Nf(e),Of(e),(t,n)=>{const r=Wg(!0,t),o=Wg(!1,n);return Af(e,r).forall(e=>e.isEqual(o))}).getOr(!0))(t)?j.some(()=>{Hg(e,n,pn(t))}):j.none())).getOrThunk(()=>l.bind(()=>s.map(o=>()=>{n?tE(e,t,r,o):tE(e,t,o,r)})))})})(e,t,n,r)}return j.none()},rE=(e,t)=>{const n=pn(e.getBody()),r=pn(e.selection.getStart()),o=tg(r,n);return ee(o,t).fold(T(o),e=>o.slice(0,e))},oE=e=>1===Kn(e),aE=(e,t)=>{const n=R(Sb,e);return ne(t,e=>n(e)?[e.dom]:[])},iE=e=>{const t=(e=>rE(e,t=>e.schema.isBlock(Sn(t))))(e);return aE(e,t)},sE=(e,t)=>{const n=Y((e=>rE(e,t=>e.schema.isBlock(Sn(t))||(e=>Kn(e)>1)(t)))(e),oE);return de(n).bind(r=>{const o=Bl.fromRangeStart(e.selection.getRng());return tv(t,o,r.dom)&&!Tp(r)?j.some(()=>((e,t,n,r)=>{const o=aE(t,r);if(0===o.length)Hg(t,e,n);else{const e=wb(n.dom,o);t.selection.setRng(e.toRange())}})(t,e,r,n)):j.none()})},lE=(e,t)=>{const n=e.selection.getStart(),r=((e,t)=>{const n=t.parentElement;return sa(t)&&!v(n)&&e.dom.isEmpty(n)})(e,n)||Tp(pn(n))?wb(n,t):((e,t)=>{const{caretContainer:n,caretPosition:r}=Cb(t);return e.insertNode(n.dom),r})(e.selection.getRng(),t);e.selection.setRng(r.toRange())},cE=e=>ta(e.startContainer),dE=e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&cE(e))(t)&&((e,t)=>{const n=t.startContainer.parentElement;return!v(n)&&Sb(e,pn(n))})(e,t)&&(e=>(e=>(e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!v(t)&&!v(n)&&t.isEqualNode(n)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(ta(t)?t.length:t.childNodes.length)})(e))(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)},uE=(e,t)=>e.selection.isCollapsed()?sE(e,t):(e=>{if(dE(e)){const t=iE(e);return j.some(()=>{Xg(e),((e,t)=>{const n=ae(t,iE(e));n.length>0&&lE(e,n)})(e,t)})}return j.none()})(e),fE=e=>((e=>{const t=e.selection.getRng();return t.collapsed&&(cE(t)||e.dom.isEmpty(t.startContainer))&&!(e=>{return t=pn(e.selection.getStart()),n=e.schema,ko(t,e=>Pf(e.dom),e=>n.isBlock(Sn(e)));var t,n})(e)})(e)&&lE(e,[]),!0),pE=(e,t,n)=>x(n)?j.some(()=>{e._selectionOverrides.hideFakeCaret(),Hg(e,t,pn(n))}):j.none(),mE=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=t?Gh:Yh,r=of(t?1:-1,e.getBody(),e.selection.getRng());return n(r)?pE(e,t,r.getNode(!t)):j.from(Wg(t,r)).filter(e=>n(e)&&lf(r,e)).bind(n=>pE(e,t,n.getNode(!t)))})(e,t):((e,t)=>{const n=e.selection.getNode();return ha(n)?pE(e,t,n):j.none()})(e,t),hE=e=>rt(null!=e?e:"").getOr(0),gE=(e,t)=>(e||"table"===Sn(t)?"margin":"padding")+("rtl"===Br(t,"direction")?"-right":"-left"),vE=e=>{const t=yE(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>re(t,t=>{const n=gE(Qc(e),t),r=Ir(t,n).map(hE).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&r>0}))(e,t))},bE=e=>Ts(e)||Ns(e),yE=e=>Y(Ar(e.selection.getSelectedBlocks()),e=>!bE(e)&&!(e=>Ln(e).exists(bE))(e)&&to(e,e=>da(e.dom)||ua(e.dom)).exists(e=>da(e.dom))),kE=(e,t)=>{var n,r;if(e.mode.isReadOnly())return;const{dom:o}=e,a=Zc(e),i=null!==(r=null===(n=/[a-z%]+$/i.exec(a))||void 0===n?void 0:n[0])&&void 0!==r?r:"px",s=hE(a),l=Qc(e);W(yE(e),e=>{((e,t,n,r,o,a)=>{const i=gE(n,pn(a)),s=hE(e.getStyle(a,i));if("outdent"===t){const t=Math.max(0,s-r);e.setStyle(a,i,t?t+o:"")}else{const t=s+r+o;e.setStyle(a,i,t)}})(o,t,l,s,i,e.dom)})},xE=e=>kE(e,"outdent"),CE=e=>{if(e.selection.isCollapsed()&&vE(e)){const t=e.dom,n=e.selection.getRng(),r=Bl.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(null!==o&&ig(pn(o),r,e.schema))return j.some(()=>xE(e))}return j.none()},wE=(e,t,n)=>fe([CE,Aw,yw,(e,n)=>nE(e,t,n),cw,Nv,Dw,mE,fw,uE,Pw],t=>t(e,n)).filter(t=>e.selection.isEditable()),SE=e=>void 0===e.touches||1!==e.touches.length?j.none():j.some(e.touches[0]),EE=(e,t)=>Ee(e,t.nodeName),_E=(e,t)=>!!ta(t)||!!Wo(t)&&!(EE(e.getBlockElements(),t)||Vf(t)||za(e,t)||Ta(t)),AE=(e,t)=>{if(ta(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||EE(e,t.nextSibling)||Ta(t.nextSibling)}return!1},TE=e=>e.dom.create(Rc(e),Pc(e)),NE=(e,t,n)=>{const r=pn(TE(e)),o=Ds();dr(r,o),n(t,r);const a=document.createRange();return a.setStartBefore(o.dom),a.setEndBefore(o.dom),a},OE=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),RE=(e,t,n)=>function(r){const o=arguments,a=o[o.length-2],i=a>0?t.charAt(a-1):"";if('"'===i)return r;if(">"===i){const e=t.lastIndexOf("<",a);if(-1!==e&&-1!==t.substring(e,a).indexOf('contenteditable="false"'))return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"},PE=(e,t)=>re(e,e=>{const n=t.match(e);return null!==n&&n[0].length===t.length}),DE=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Gs(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},ME=(e,t)=>{const n=(e=>oo(pn(e.getBody()),"*[data-mce-caret]").map(e=>e.dom).getOrNull())(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void DE(e,n)):void($s(n)&&(DE(e,n),e.undoManager.add()))},BE=ua,LE=(e,t,n)=>{const r=yf(e.getBody()),o=R(sf,1===t?r.next:r.prev);if(n.collapsed){const r=e.dom.getParent(n.startContainer,"PRE");if(!r)return;if(!o(Bl.fromRangeStart(n))){const n=pn((e=>{const t=e.dom.create(Rc(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?lr(pn(r),n):sr(pn(r),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},IE=(e,t)=>((e,t)=>{const n=t?1:-1,r=e.selection.getRng();return((e,t,n)=>US(t,e,n,Zh,Jh,BE))(n,e,r).orThunk(()=>(LE(e,n,r),j.none()))})(e,((e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return qg(n)?!t:t})(e.selection,t)).exists(t=>(jS(e,t),!0)),jE=(e,t)=>((e,t)=>{const n=t?1:-1,r=e.selection.getRng();return((e,t,n)=>HS(t,e,n,e=>Zh(e)||Xh(e),e=>Jh(e)||Qh(e),BE))(n,e,r).orThunk(()=>(LE(e,n,r),j.none()))})(e,t).exists(t=>(jS(e,t),!0)),FE=(e,t)=>$S(e,t,t?Jh:Zh),UE=(e,t)=>kw(e,!t).map(n=>{const r=n.toRange(),o=e.selection.getRng();return t?r.setStart(o.startContainer,o.startOffset):r.setEnd(o.endContainer,o.endOffset),r}).exists(t=>(jS(e,t),!0)),HE=e=>$(["figcaption"],Sn(e)),zE=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const n=pn(e.getBody()),r=Bl.fromRangeStart(e.selection.getRng());return((e,t,n)=>{const r=R(xn,t);return to(pn(e.container()),e=>n.isBlock(Sn(e)),r).filter(HE)})(r,n,e.schema).exists(()=>{if(((e,t,n)=>t?CS(e.dom,n):xS(e.dom,n))(n,t,r)){const r=NE(e,n,t?dr:cr);return e.selection.setRng(r),!0}return!1})})(e,t),$E=(e,t)=>((e,t)=>t?j.from(e.dom.getParent(e.selection.getNode(),"details")).map(t=>((e,t)=>{const n=e.selection.getRng(),r=Bl.fromRangeStart(n);return!(e.getBody().lastChild!==t||!CS(t,r)||(e.execCommand("InsertNewBlockAfter"),0))})(e,t)).getOr(!1):j.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(t=>j.from(e.dom.getParent(t,"details")).map(n=>((e,t,n)=>{const r=e.selection.getRng(),o=Bl.fromRangeStart(r);return!(e.getBody().firstChild!==t||!xS(n,o)||(e.execCommand("InsertNewBlockBefore"),0))})(e,n,t))).getOr(!1))(e,t),qE={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},VE=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,WE=(e,...t)=>()=>e.apply(null,t),KE=(e,t)=>J(((e,t)=>ne((e=>V(e,e=>({...qE,...e})))(e),e=>VE(e,t)?[e]:[]))(e,t),e=>e.action()),GE=(e,t)=>fe(((e,t)=>ne((e=>V(e,e=>({...qE,...e})))(e),e=>VE(e,t)?[e]:[]))(e,t),e=>e.action()),YE=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return US(e,n,r,Gh,Yh,ha).exists(t=>(jS(e,t),!0))},XE=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return HS(e,n,r,Gh,Yh,ha).exists(t=>(jS(e,t),!0))},QE=(e,t)=>$S(e,t,t?Yh:Gh),ZE=(e,t,n)=>ne($n(e),e=>yn(e,t)?n(e)?[e]:[]:ZE(e,t,n)),JE=(e,t)=>ao(e,"table",t),e_=Ae([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),t_={...e_,none:e=>e_.none(e)},n_=(e,t,n,r,o=I)=>{const a=1===r;if(!a&&n<=0)return t_.first(e[0]);if(a&&n>=e.length-1)return t_.last(e[e.length-1]);{const a=n+r,i=e[a];return o(i)?t_.middle(t,i):n_(e,t,a,r,o)}},r_=(e,t)=>JE(e,t).bind(t=>{const n=ZE(t,"th,td",I);return ee(n,t=>xn(e,t)).map(e=>({index:e,all:n}))}),o_=Be("image"),a_=Be("event"),i_=e=>t=>{t[a_]=e},s_=i_(0),l_=i_(2),c_=i_(1),d_=e=>{const t=e;return j.from(t[a_]).exists(e=>0===e)};const u_=Be("mode"),f_=e=>t=>{t[u_]=e},p_=(e,t)=>f_(t)(e),m_=f_(0),h_=f_(2),g_=f_(1),v_=e=>t=>{const n=t;return j.from(n[u_]).exists(t=>t===e)},b_=v_(0),y_=v_(1),k_=["none","copy","link","move"],x_=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],C_=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(e){$(k_,e)&&(t=e)},get effectAllowed(){return n},set effectAllowed(e){d_(r)&&$(x_,e)&&(n=e)},get items(){return((e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(b_(e)){if(!p(n))return t.add(n);if(!y(r))return t.add(n,r)}return null},remove:n=>{b_(e)&&t.remove(n)},clear:()=>{b_(e)&&t.clear()}}))(r,e.items)},get files(){return y_(r)?Object.freeze({length:0,item:e=>null}):e.files},get types(){return e.types},setDragImage:(t,n,o)=>{var a;b_(r)&&(a={image:t,x:n,y:o},r[o_]=a,e.setDragImage(t,n,o))},getData:t=>y_(r)?"":e.getData(t),setData:(t,n)=>{b_(r)&&e.setData(t,n)},clearData:t=>{b_(r)&&e.clearData(t)}};return m_(r),r},w_=(e,t)=>e.setData("text/html",t),S_=(e,t,n,r,o)=>{const a=yo(pn(n),"td,th,caption").map(e=>e.dom),i=Y(((e,t)=>ne(t,t=>{const n=((e,t)=>({left:e.left-t,top:e.top-t,right:e.right+-2,bottom:e.bottom+-2,width:e.width+t,height:e.height+t}))(Qs(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))(e,a),e=>t(e,o));return((e,t,n)=>Q(e,(e,r)=>e.fold(()=>j.some(r),e=>{const o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),a=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return j.some(a<o?r:e)}),j.none()))(i,r,o).map(e=>e.cell)},E_=R(S_,e=>e.bottom,(e,t)=>e.y<t),__=R(S_,e=>e.top,(e,t)=>e.y>t),A_=(e,t,n)=>{const r=e(t,n);return(e=>e.breakType===cS.Wrap&&0===e.positions.length)(r)||!sa(n.getNode())&&(e=>e.breakType===cS.Br&&1===e.positions.length)(r)?!((e,t,n)=>n.breakAt.exists(n=>e(t,n).breakAt.isSome()))(e,t,r):r.breakAt.isNone()},T_=R(A_,vS),N_=R(A_,bS),O_=(e,t,n,r)=>{const o=e.selection.getRng(),a=t?1:-1;return!(!Pu()||!((e,t,n)=>{const r=Bl.fromRangeStart(t);return _f(!e,n).exists(e=>e.isEqual(r))})(t,o,n)||(pw(a,e,n,!t,!1).each(t=>{jS(e,t)}),0))},R_=(e,t,n)=>{const r=((e,t)=>{const n=t.getNode(e);return Zo(n)?j.some(n):j.none()})(!!t,n),o=!1===t;r.fold(()=>jS(e,n.toRange()),r=>_f(o,e.getBody()).filter(e=>e.isEqual(n)).fold(()=>jS(e,n.toRange()),n=>((e,t,n)=>{t.undoManager.transact(()=>{const r=e?lr:sr,o=NE(t,pn(n),r);jS(t,o)})})(t,e,r)))},P_=(e,t,n,r)=>{const o=e.selection.getRng(),a=Bl.fromRangeStart(o),i=e.getBody();if(!t&&T_(r,a)){const r=((e,t,n)=>((e,t)=>ce(t.getClientRects()).bind(t=>E_(e,t.left,t.top)).bind(e=>{return gS(Of(n=e).map(e=>vS(n,e).positions.concat(e)).getOr([]),t);var n}))(t,n).orThunk(()=>ce(n.getClientRects()).bind(n=>hS(yS(e,Bl.before(t)),n.left))).getOr(Bl.before(t)))(i,n,a);return R_(e,t,r),!0}if(t&&N_(r,a)){const r=((e,t,n)=>((e,t)=>de(t.getClientRects()).bind(t=>__(e,t.left,t.top)).bind(e=>{return gS(Nf(n=e).map(e=>[e].concat(bS(n,e).positions)).getOr([]),t);var n}))(t,n).orThunk(()=>ce(n.getClientRects()).bind(n=>hS(kS(e,Bl.after(t)),n.left))).getOr(Bl.after(t)))(i,n,a);return R_(e,t,r),!0}return!1},D_=(e,t,n)=>j.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>j.from(e.dom.getParent(r,"table")).map(o=>n(e,t,o,r))).getOr(!1),M_=(e,t)=>D_(e,t,O_),B_=(e,t)=>D_(e,t,P_),L_=(e,t,n)=>n.fold(j.none,j.none,(e,t)=>{return(n=t,no(n,_o)).map(e=>(e=>{const t=Ro.exact(e,0,e,0);return Bo(t)})(e));var n},n=>e.mode.isReadOnly()||!I_(n)?j.none():(e.execCommand("mceTableInsertRowAfter"),j_(e,t,n))),I_=e=>to(e,Pn("table")).exists(ho),j_=(e,t,n)=>{return L_(e,t,(o=U_,r_(r=n,void 0).fold(()=>t_.none(r),e=>n_(e.all,r,e.index,1,o))));var r,o},F_=(e,t,n)=>{return L_(e,t,(o=U_,r_(r=n,void 0).fold(()=>t_.none(),e=>n_(e.all,r,e.index,-1,o))));var r,o},U_=e=>ho(e)||Co(e,H_),H_=e=>An(e)&&ho(e),z_=(e,t)=>{const n=["table","li","dl"],r=pn(e.getBody()),o=e=>{const t=Sn(e);return xn(e,r)||$(n,t)},a=e.selection.getRng();return((e,t)=>((e,t,n=L)=>n(t)?j.none():$(e,Sn(t))?j.some(t):ro(t,e.join(","),e=>yn(e,"table")||n(e)))(["td","th"],e,t))(pn(t?a.endContainer:a.startContainer),o).map(n=>(JE(n,o).each(t=>{e.model.table.clearSelectedCells(t.dom)}),e.selection.collapse(!t),(t?j_:F_)(e,o,n).each(t=>{e.selection.setRng(t)}),!0)).getOr(!1)},$_=(e,t)=>({container:e,offset:t}),q_=os.DOM,V_=e=>t=>e===t?-1:0,W_=(e,t,n)=>{if(ta(e)&&t>=0)return j.some($_(e,t));{const r=Ss(q_);return j.from(r.backwards(e,t,V_(e),n)).map(e=>$_(e.container,e.container.data.length))}},K_=(e,t,n)=>{if(!ta(e))return j.none();const r=e.data;if(t>=0&&t<=r.length)return j.some($_(e,t));{const r=Ss(q_);return j.from(r.backwards(e,t,V_(e),n)).bind(e=>{const r=e.container.data;return K_(e.container,t+r.length,n)})}},G_=(e,t,n)=>{if(!ta(e))return j.none();const r=e.data;if(t<=r.length)return j.some($_(e,t));{const o=Ss(q_);return j.from(o.forwards(e,t,V_(e),n)).bind(e=>G_(e.container,t-r.length,n))}},Y_=(e,t,n,r,o)=>{const a=Ss(e,(e=>t=>e.isBlock(t)||$(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return j.from(a.backwards(t,n,r,o))},X_=e=>""!==e&&-1!==" Â \ufeff\f\n\r\t\v".indexOf(e),Q_=(e,t)=>e.substring(t.length),Z_=(e,t,n,r=!1)=>{if(!(o=t).collapsed||!ta(o.startContainer))return j.none();var o;const a={text:"",offset:0},i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Y_(e,t.startContainer,t.startOffset,(e,t,o)=>(a.text=o+a.text,a.offset+=t,((e,t,n,r=!1)=>{let o;const a=n.charAt(0);for(o=t-1;o>=0;o--){const i=e.charAt(o);if(!r&&X_(i))return j.none();if(a===i&&Ge(e,n,o,t))break}return j.some(o)})(a.text,a.offset,n,r).getOr(t)),i).bind(e=>{const r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return j.none();const o=(e=>Is(e.toString().replace(/\u00A0/g," ")))(r);return 0!==o.lastIndexOf(n)?j.none():j.some({text:Q_(o,n),range:r,trigger:n})})},J_=e=>{if((e=>3===e.nodeType)(e))return $_(e,e.data.length);{const t=e.childNodes;return t.length>0?J_(t[t.length-1]):$_(e,t.length)}},eA=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?eA(n[t],0):n.length>0&&(e=>1===e.nodeType)(e)&&n.length===t?J_(n[n.length-1]):$_(e,t)},tA=(e,t,n,r={})=>{var o;const a=t(),i=null!==(o=e.selection.getRng().startContainer.nodeValue)&&void 0!==o?o:"",s=Y(a.lookupByTrigger(n.trigger),t=>n.text.length>=t.minChars&&t.matches.getOrThunk(()=>(e=>t=>{const n=eA(t.startContainer,t.startOffset);return!((e,t)=>{var n;const r=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return Y_(e,t.container,t.offset,(e,t)=>0===t?-1:t,r).filter(e=>{const t=e.container.data.charAt(e.offset-1);return!X_(t)}).isSome()})(e,n)})(e.dom))(n.range,i,n.text));if(0===s.length)return j.none();const l=Promise.all(V(s,e=>e.fetch(n.text,e.maxResults,r).then(t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))));return j.some({lookupData:l,context:n})};var nA;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(nA||(nA={}));const rA=(e,t,n)=>e.stype===nA.Error?t(e.serror):n(e.svalue),oA=e=>({stype:nA.Value,svalue:e}),aA=e=>({stype:nA.Error,serror:e}),iA=rA,sA=e=>m(e)&&me(e).length>100?" removed due to size":JSON.stringify(e,null,2),lA=(e,t)=>aA([{path:e,getErrorInfo:t}]),cA=e=>({extract:(t,n)=>{return r=e(n),o=e=>((e,t)=>lA(e,T(t)))(t,e),r.stype===nA.Error?o(r.serror):r;var r,o},toString:T("val")}),dA=cA(oA),uA=T(dA),fA=(e,t)=>cA(n=>{const r=typeof n;return e(n)?oA(n):aA(`Expected type: ${t} but got: ${r}`)}),pA=fA(w,"number"),mA=fA(p,"string"),hA=fA(b,"boolean"),gA=fA(C,"function"),vA=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(t=>vA(e[t]));default:return!1}};cA(e=>vA(e)?oA(e):aA("Expected value to be acceptable for sending via postMessage"));const bA=e=>({tag:"defaultedThunk",process:T(e)}),yA=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},kA=e=>{const t=(e=>{const t=[],n=[];return W(e,e=>{rA(e,e=>n.push(e),e=>t.push(e))}),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,_(aA,te)(n)):oA(t.values);var n},xA=(e,t,n,r)=>r(Se(e,t).getOrThunk(()=>n(e))),CA=(e,t,n,r,o)=>{const a=e=>o.extract(t.concat([r]),e),i=e=>e.fold(()=>oA(j.none()),e=>{const n=o.extract(t.concat([r]),e);return a=n,i=j.some,a.stype===nA.Value?{stype:nA.Value,svalue:i(a.svalue)}:a;var a,i});switch(e.tag){case"required":return((e,t,n,r)=>Se(t,n).fold(()=>((e,t,n)=>lA(e,()=>'Could not find valid *required* value for "'+t+'" in '+sA(n)))(e,n,t),r))(t,n,r,a);case"defaultedThunk":return xA(n,r,e.process,a);case"option":return((e,t,n)=>n(Se(e,t)))(n,r,i);case"defaultedOptionThunk":return((e,t,n,r)=>r(Se(e,t).map(t=>!0===t?n(e):t)))(n,r,e.process,i);case"mergeWithThunk":return xA(n,r,T({}),t=>{const r=Ie(e.process(n),t);return a(r)})}},wA=e=>({extract:(t,n)=>((e,t,n)=>{const r={},o=[];for(const a of n)yA(a,(n,a,i,s)=>{const l=CA(i,e,t,n,s);iA(l,e=>{o.push(...e)},e=>{r[a]=e})},(e,n)=>{r[e]=n(t)});return o.length>0?aA(o):oA(r)})(t,n,e),toString:()=>{const t=V(e,e=>yA(e,(e,t,n,r)=>e+" -> "+r.toString(),(e,t)=>"state("+e+")"));return"obj{\n"+t.join("\n")+"}"}}),SA=(e,t,n)=>{return r=((e,t,n)=>((e,t)=>e.stype===nA.Error?{stype:nA.Error,serror:t(e.serror)}:e)(t.extract([e],n),e=>({input:n,errors:e})))(e,t,n),rA(r,Re.error,Re.value);var r},EA=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),_A=(e,t)=>EA(e,e,{tag:"required",process:{}},t),AA=e=>_A(e,mA),TA=e=>_A(e,gA),NA=(e,t)=>EA(e,e,{tag:"option",process:{}},t),OA=e=>NA(e,mA),RA=e=>NA(e,gA),PA=(e,t)=>EA(e,e,bA(t),uA()),DA=(e,t,n)=>EA(e,e,bA(t),n),MA=(e,t)=>DA(e,t,pA),BA=(e,t)=>DA(e,t,hA),LA=(e,t)=>DA(e,t,gA),IA=AA("type");AA("name"),AA("label"),AA("text"),AA("title"),AA("icon"),AA("url");const jA=AA("value"),FA=TA("fetch");TA("getSubmenuItems");const UA=TA("onAction");TA("onItemAction"),LA("onSetup",()=>E),OA("name");const HA=OA("text");OA("role");const zA=OA("icon");OA("url"),OA("tooltip"),OA("label"),OA("shortcut"),RA("select");const $A=BA("active",!1);BA("borderless",!1);const qA=BA("enabled",!0);BA("primary",!1);const VA=PA("meta",{});LA("onAction",E),wA([(()=>DA("type","autocompleteitem",mA))(0,"autocompleteitem"),$A,qA,VA,jA,HA,zA]);const WA=wA([IA,AA("trigger"),MA("minChars",1),PA("columns",1),MA("maxResults",10),RA("matches"),FA,UA,(KA=mA,DA("highlightOn",[],(GA=KA,{extract:(e,t)=>{const n=V(t,(t,n)=>GA.extract(e.concat(["["+n+"]"]),t));return kA(n)},toString:()=>"array("+GA.toString()+")"})))]);var KA,GA;const YA=e=>{const t=e.ui.registry.getAll().popups,n=ve(t,e=>{return(t=e,SA("Autocompleter",WA,t)).fold(e=>{throw new Error("Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:T("... (only showing first ten failures)")}]):e;return V(t,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo())})((t=e).errors).join("\n")+"\n\nInput object: "+sA(t.input));var t},N);var t}),r=dt(Ce(n,e=>e.trigger)),o=we(n);return{dataset:n,triggers:r,lookupByTrigger:e=>Y(o,t=>t.trigger===e)}},XA=e=>{const t=Ve(),n=Te(!1),r=t.isSet,o=()=>{r()&&((e=>{e.dispatch("AutocompleterEnd")})(e),n.set(!1),t.clear())},a=it(()=>YA(e)),i=i=>{(n=>t.get().map(t=>Z_(e.dom,e.selection.getRng(),t.trigger,!0).bind(t=>tA(e,a,t,n))).getOrThunk(()=>((e,t)=>{const n=t(),r=e.selection.getRng();return((e,t,n)=>fe(n.triggers,n=>Z_(e,t,n)))(e.dom,r,n).bind(n=>tA(e,t,n))})(e,a)))(i).fold(o,o=>{(e=>{r()||t.set({trigger:e.trigger,matchLength:e.text.length})})(o.context),o.lookupData.then(r=>{t.get().map(a=>{const i=o.context;a.trigger===i.trigger&&(t.set({...a,matchLength:i.text.length}),n.get()?(hc(e,{range:i.range}),((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:r})):(n.set(!0),hc(e,{range:i.range}),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:r})))})})})},s=()=>t.get().bind(({trigger:t})=>{const r=e.selection.getRng();return Z_(e.dom,r,t,n.get()).filter(({range:e})=>((e,t)=>{const n=e.compareBoundaryPoints(window.Range.START_TO_START,t),r=e.compareBoundaryPoints(window.Range.END_TO_END,t);return n>=0&&r<=0})(r,e)).map(({range:e})=>e)});e.addCommand("mceAutocompleterReload",(e,t)=>{const n=m(t)?t.fetchOptions:{};i(n)}),e.addCommand("mceAutocompleterClose",o),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{s().each(t=>{hc(e,{range:t})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>s().isSome()),((e,t)=>{const n=at(t.load,50);e.on("input",t=>{("insertCompositionText"!==t.inputType||e.composing)&&n.throttle()}),e.on("keydown",e=>{const r=e.which;8===r?n.throttle():27===r?(n.cancel(),t.cancelIfNecessary()):38!==r&&40!==r||n.cancel()},!0),e.on("remove",n.cancel)})(e,{cancelIfNecessary:o,load:i})},QA=Gt().browser.isSafari(),ZA=e=>Ms(pn(e)),JA=(e,t)=>{var n;return 0===e.startOffset&&e.endOffset===(null===(n=t.textContent)||void 0===n?void 0:n.length)},eT=(e,t)=>j.from(e.getParent(t.container(),"details")),tT=(e,t)=>eT(e,t).isSome(),nT=(e,t)=>{const n=t.getNode();y(n)||e.selection.setCursorLocation(n,t.offset())},rT=(e,t,n)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const t=e.dom.select("summary",r)[0];t&&(n?Nf(t):Of(t)).each(t=>nT(e,t))}else nT(e,t)},oT=(e,t,n)=>{const{dom:r,selection:o}=e,a=e.getBody();if("character"===n){const n=Bl.fromRangeStart(o.getRng()),i=r.getParent(n.container(),r.isBlock),s=eT(r,n),l=i&&r.isEmpty(i),c=v(null==i?void 0:i.previousSibling),d=v(null==i?void 0:i.nextSibling);return!!(l&&(t?d:c)&&Sf(!t,a,n).exists(e=>tT(r,e)&&!Ue(s,eT(r,e))))||Sf(t,a,n).fold(L,n=>{const o=eT(r,n);if(tT(r,n)&&!Ue(s,o)){if(t||rT(e,n,!1),i&&l){if(t&&c)return!0;if(!t&&d)return!0;rT(e,n,t),e.dom.remove(i)}return!0}return!1})}return!1},aT=(e,t,n,r)=>{const o=e.selection.getRng(),a=Bl.fromRangeStart(o),i=e.getBody();return"selection"===r?((e,t)=>{const n=t.startSummary.exists(t=>t.contains(e.startContainer)),r=t.startSummary.exists(t=>t.contains(e.endContainer)),o=t.startDetails.forall(e=>t.endDetails.forall(t=>e!==t));return(n||r)&&!(n&&r)||o})(o,t):n?((e,t)=>t.startSummary.exists(t=>((e,t)=>Of(t).exists(n=>sa(n.getNode())&&Tf(t,n).exists(t=>t.isEqual(e))||n.isEqual(e)))(e,t)))(a,t)||((e,t,n)=>n.startDetails.exists(n=>Af(e,t).forall(e=>!n.contains(e.container()))))(i,a,t):((e,t)=>t.startSummary.exists(t=>((e,t)=>Nf(t).exists(t=>t.isEqual(e)))(e,t)))(a,t)||((e,t)=>t.startDetails.exists(n=>Tf(n,e).forall(n=>t.startSummary.exists(t=>!t.contains(e.container())&&t.contains(n.container())))))(a,t)},iT=(e,t,n)=>((e,t,n)=>((e,t)=>{const n=j.from(e.getParent(t.startContainer,"details")),r=j.from(e.getParent(t.endContainer,"details"));if(n.isSome()||r.isSome()){const t=n.bind(t=>j.from(e.select("summary",t)[0]));return j.some({startSummary:t,startDetails:n,endDetails:r})}return j.none()})(e.dom,e.selection.getRng()).fold(()=>oT(e,t,n),r=>aT(e,r,t,n)||oT(e,t,n)))(e,t,n)||QA&&((e,t,n)=>{const r=e.selection,o=r.getNode(),a=r.getRng(),i=Bl.fromRangeStart(a);return!!ba(o)&&("selection"===n&&JA(a,o)||tv(t,i,o)?ZA(o):e.undoManager.transact(()=>{const a=r.getSel();let{anchorNode:i,anchorOffset:s,focusNode:l,focusOffset:c}=null!=a?a:{};const d=()=>{x(i)&&x(s)&&x(l)&&x(c)&&(null==a||a.setBaseAndExtent(i,s,l,c))},u=(e,t)=>{W(e.childNodes,e=>{sp(e)&&t.appendChild(e)})},f=e.dom.create("span",{"data-mce-bogus":"1"});u(o,f),o.appendChild(f),d(),"word"!==n&&"line"!==n||null==a||a.modify("extend",t?"right":"left",n),!r.isCollapsed()&&JA(r.getRng(),f)?ZA(o):(e.execCommand(t?"ForwardDelete":"Delete"),i=null==a?void 0:a.anchorNode,s=null==a?void 0:a.anchorOffset,l=null==a?void 0:a.focusNode,c=null==a?void 0:a.focusOffset,u(f,o),d()),e.dom.remove(f)}),!0)})(e,t,n)?j.some(E):j.none(),sT=e=>(t,n,r={})=>{const o=t.getBody(),a={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:E,inputType:n},i=Hi(new InputEvent(e));return t.dispatch(e,{...i,...a,...r})},lT=sT("input"),cT=sT("beforeinput"),dT=Gt(),uT=dT.os,fT=uT.isMacOS()||uT.isiOS(),pT=dT.browser.isFirefox(),mT=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(Wo(e)||ta(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(lt),t.firstChild)}const o=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Fo(t,t);let n,a=t;for(;n=e.current();){if(ta(n)){o.setStart(n,0),o.setEnd(n,0);break}if(r[n.nodeName.toLowerCase()]){o.setStartBefore(n),o.setEndBefore(n);break}a=n,n=e.next()}n||(o.setStart(a,0),o.setEnd(a,0))}else sa(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),rh(e,o)},hT=(e,t)=>{const n=e.getRoot();let r,o=t;for(;o!==n&&o&&"false"!==e.getContentEditable(o);){if("true"===e.getContentEditable(o)){r=o;break}o=o.parentNode}return o!==n?r:n},gT=e=>j.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),vT=e=>{e.innerHTML='<br data-mce-bogus="1">'},bT=(e,t)=>{Rc(e).toLowerCase()===t.tagName.toLowerCase()&&((e,t,n)=>{const r=e.dom;j.from(n.style).map(r.parseStyle).each(e=>{const n={...jr(pn(t)),...e};r.setStyles(t,n)});const o=j.from(n.class).map(e=>e.split(/\s+/)),a=j.from(t.className).map(e=>Y(e.split(/\s+/),e=>""!==e));He(o,a,(e,n)=>{const o=Y(n,t=>!$(e,t)),a=[...e,...o];r.setAttrib(t,"class",a.join(" "))});const i=["style","class"],s=xe(n,(e,t)=>!$(i,t));r.setAttribs(t,s)})(e,t,Pc(e))},yT=(e,t,n,r,o=!0,a,i)=>{const s=e.dom,l=e.schema,c=Rc(e),d=n?n.nodeName.toUpperCase():"";let u=t;const f=l.getTextInlineElements();let p;p=a||"TABLE"===d||"HR"===d?s.create(a||c,i||{}):n.cloneNode(!1);let m=p;if(o){do{if(f[u.nodeName]){if(Pf(u)||Vf(u))continue;const e=u.cloneNode(!1);s.setAttrib(e,"id",""),p.hasChildNodes()?(e.appendChild(p.firstChild),p.appendChild(e)):(m=e,p.appendChild(e))}}while((u=u.parentNode)&&u!==r)}else s.setAttrib(p,"style",null),s.setAttrib(p,"class",null);return bT(e,p),vT(m),p},kT=(e,t)=>{const n=null==e?void 0:e.parentNode;return x(n)&&n.nodeName===t},xT=e=>x(e)&&/^(OL|UL|LI)$/.test(e.nodeName),CT=e=>x(e)&&/^(LI|DT|DD)$/.test(e.nodeName),wT=e=>{const t=e.parentNode;return CT(t)?t:e},ST=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!Wo(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},ET=e=>Q(Ce(jr(pn(e)),(e,t)=>`${t}: ${e};`),(e,t)=>e+t,""),_T=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),AT=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,TT=(e,t)=>x(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),NT=(e,t,n)=>ta(t)?e?1===n&&t.data.charAt(n-1)===Bs?0:n:n===t.data.length-1&&t.data.charAt(n)===Bs?t.data.length:n:n,OT={insert:(e,t)=>{let n,r,o,a,i=!1;const s=e.dom,l=e.schema.getNonEmptyElements(),c=e.selection.getRng(),d=Rc(e),u=pn(c.startContainer),f=qn(u,c.startOffset),m=f.exists(e=>An(e)&&!ho(e)),h=c.collapsed&&m,g=(t,r)=>yT(e,n,E,S,Lc(e),t,r),b=e=>{const t=NT(e,n,r);if(ta(n)&&(e?t>0:t<n.data.length))return!1;if((n.parentNode===E||n===E)&&i&&!e)return!0;if(e&&Wo(n)&&n===E.firstChild)return!0;if(AT(n,"TABLE")||AT(n,"HR"))return(e=>"BR"===e.nodeName||e.nextSibling&&"BR"===e.nextSibling.nodeName)(n)?!e:i&&!e||!i&&e;const o=new Fo(n,E);let a;for(ta(n)&&(e&&0===t?o.prev():e||t!==n.data.length||o.next());a=o.current();){if(Wo(a)){if(!a.getAttribute("data-mce-bogus")){const e=a.nodeName.toLowerCase();if(l[e]&&"br"!==e)return!1}}else if(ta(a)&&!Ho(a.data))return!1;e?o.prev():o.next()}return!0},y=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(o)&&"HGROUP"!==_?g(d):g(),((e,t)=>{const n=Ic(e);return!k(t)&&(p(n)?$(ln.explode(n),t.nodeName.toLowerCase()):n)})(e,a)&&TT(s,a)&&s.isEmpty(E,void 0,{includeZwsp:!0})?t=s.split(a,E):s.insertAfter(t,E),mT(e,t),t};jm(s,c).each(e=>{c.setStart(e.startContainer,e.startOffset),c.setEnd(e.endContainer,e.endOffset)}),n=c.startContainer,r=c.startOffset;const C=!(!t||!t.shiftKey),w=!(!t||!t.ctrlKey);Wo(n)&&n.hasChildNodes()&&!h&&(i=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=i&&ta(n)?n.data.length:0);const S=hT(s,n);if(!S||((e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return null!==n&&"false"===e.dom.getContentEditableParent(n)})(e,n))return;C||(n=((e,t,n,r,o)=>{var a,i;const s=e.dom,l=null!==(a=hT(s,r))&&void 0!==a?a:s.getRoot();let c=s.getParent(r,s.isBlock);if(!c||!TT(s,c)){if(c=c||l,!c.hasChildNodes()){const r=s.create(t);return bT(e,r),c.appendChild(r),n.setStart(r,0),n.setEnd(r,0),r}let a,d=r;for(;d&&d.parentNode!==c;)d=d.parentNode;for(;d&&!s.isBlock(d);)a=d,d=d.previousSibling;const u=null===(i=null==a?void 0:a.parentElement)||void 0===i?void 0:i.nodeName;if(a&&u&&e.schema.isValidChild(u,t.toLowerCase())){const i=a.parentNode,l=s.create(t);for(bT(e,l),i.insertBefore(l,a),d=a;d&&!s.isBlock(d);){const e=d.nextSibling;l.appendChild(d),d=e}n.setStart(r,o),n.setEnd(r,o)}}return r})(e,d,c,n,r));let E=s.getParent(n,s.isBlock)||s.getRoot();a=x(null==E?void 0:E.parentNode)?s.getParent(E.parentNode,s.isBlock):null,o=E?E.nodeName.toUpperCase():"";const _=a?a.nodeName.toUpperCase():"";if("LI"!==_||w||(E=a,a=a.parentNode,o=_),Wo(a)&&((e,t,n)=>!t&&n.nodeName.toLowerCase()===Rc(e)&&e.dom.isEmpty(n)&&((e,t,n)=>{let r=t;for(;r&&r!==e&&v(r.nextSibling);){const e=r.parentElement;if(!e||!n(e))return va(e);r=e}return!1})(e.getBody(),n,t=>Ee(e.schema.getTextBlockElements(),t.nodeName.toLowerCase())))(e,C,E))return((e,t,n)=>{var r,o,a;const i=t(Rc(e)),s=((e,t)=>e.dom.getParent(t,va))(e,n);s&&(e.dom.insertAfter(i,s),mT(e,i),(null!==(a=null===(o=null===(r=n.parentElement)||void 0===r?void 0:r.childNodes)||void 0===o?void 0:o.length)&&void 0!==a?a:0)>1&&e.dom.remove(n))})(e,g,E);if(/^(LI|DT|DD)$/.test(o)&&Wo(a)&&s.isEmpty(E))return void((e,t,n,r,o)=>{const a=e.dom,i=e.selection.getRng(),s=n.parentNode;if(n===e.getBody()||!s)return;var l;xT(l=n)&&xT(l.parentNode)&&(o="LI");const c=CT(r)?ET(r):void 0;let d=CT(r)&&c?t(o,{style:ET(r)}):t(o);if(ST(n,r,!0)&&ST(n,r,!1))if(kT(n,"LI")){const e=wT(n);a.insertAfter(d,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(n)?a.remove(e):a.remove(n)}else a.replace(d,n);else if(ST(n,r,!0))kT(n,"LI")?(a.insertAfter(d,wT(n)),d.appendChild(a.doc.createTextNode(" ")),d.appendChild(n)):s.insertBefore(d,n),a.remove(r);else if(ST(n,r,!1))a.insertAfter(d,wT(n)),a.remove(r);else{n=wT(n);const e=i.cloneRange();e.setStartAfter(r),e.setEndAfter(n);const t=e.extractContents();if("LI"===o&&(e=>e.firstChild&&"LI"===e.firstChild.nodeName)(t)){const e=Y(V(d.children,pn),P(Pn("br")));d=t.firstChild,a.insertAfter(t,n),W(e,e=>cr(pn(d),e)),c&&d.setAttribute("style",c)}else a.insertAfter(t,n),a.insertAfter(d,n);a.remove(r)}mT(e,d)})(e,g,a,E,d);if(!(h||E!==e.getBody()&&TT(s,E)))return;const A=E.parentNode;let T;if(h)T=g(d),f.fold(()=>{dr(u,pn(T))},e=>{sr(e,pn(T))}),e.selection.setCursorLocation(T,0);else if(Us(E))T=Gs(E),s.isEmpty(E)&&vT(E),bT(e,T),mT(e,T);else if(b(!1))T=y();else if(b(!0)&&A){const t=Bl.fromRangeStart(c),n=Qh(t),r=pn(E),o=pg(r,t,e.schema)?mg(r,t,e.schema).bind(e=>j.from(e.getNode())):j.none();T=A.insertBefore(g(),E);const a=AT(E,"HR")||n?T:o.getOr(E);mT(e,a)}else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,NT(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,NT(!1,e.endContainer,e.endOffset)),t})(c).cloneRange();t.setEndAfter(E);const n=t.extractContents();(e=>{W(bo(pn(e),Nn),e=>{const t=e.dom;t.nodeValue=Is(t.data)})})(n),(e=>{let t=e;do{ta(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(n),T=n.firstChild,s.insertAfter(n,E),((e,t,n)=>{var r;const o=[];if(!n)return;let a=n;for(;a=a.firstChild;){if(e.isBlock(a))return;Wo(a)&&!t[a.nodeName.toLowerCase()]&&o.push(a)}let i=o.length;for(;i--;)a=o[i],(!a.hasChildNodes()||a.firstChild===a.lastChild&&""===(null===(r=a.firstChild)||void 0===r?void 0:r.nodeValue)||_T(e,a))&&e.remove(a)})(s,l,T),((e,t)=>{t.normalize();const n=t.lastChild;(!n||Wo(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")})(s,E),s.isEmpty(E)&&vT(E),T.normalize(),s.isEmpty(T)?(s.remove(T),y()):(bT(e,T),mT(e,T))}s.setAttrib(T,"id",""),e.dispatch("NewBlock",{newBlock:T})},fakeEventName:"insertParagraph"},RT=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),rh(e,r)},PT=(e,t)=>{const n=un("br");sr(pn(t),n),e.undoManager.add()},DT=(e,t)=>{MT(e.getBody(),t)||lr(pn(t),un("br"));const n=un("br");lr(pn(t),n),RT(e,n.dom,!1),e.undoManager.add()},MT=(e,t)=>{return n=Bl.after(t),!!sa(n.getNode())||Af(e,Bl.after(t)).map(e=>sa(e.getNode())).getOr(!1);var n},BT=e=>e&&"A"===e.nodeName&&"href"in e,LT=e=>e.fold(L,BT,BT,L),IT=(e,t)=>{t.fold(E,R(PT,e),R(DT,e),E)},jT={insert:(e,t)=>{const n=(e=>{const t=R($g,e),n=Bl.fromRangeStart(e.selection.getRng());return eS(t,e.getBody(),n).filter(LT)})(e);n.isSome()?n.each(R(IT,e)):((e,t)=>{const n=e.selection,r=e.dom,o=n.getRng();let a,i=!1;jm(r,o).each(e=>{o.setStart(e.startContainer,e.startOffset),o.setEnd(e.endContainer,e.endOffset)});let s=o.startOffset,l=o.startContainer;if(Wo(l)&&l.hasChildNodes()){const e=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=e&&ta(l)?l.data.length:0}let c=r.getParent(l,r.isBlock);const d=c&&c.parentNode?r.getParent(c.parentNode,r.isBlock):null,u=d?d.nodeName.toUpperCase():"",f=!(!t||!t.ctrlKey);"LI"!==u||f||(c=d),ta(l)&&s>=l.data.length&&(((e,t,n)=>{const r=new Fo(t,n);let o;const a=e.getNonEmptyElements();for(;o=r.next();)if(a[o.nodeName.toLowerCase()]||ta(o)&&o.length>0)return!0;return!1})(e.schema,l,c||r.getRoot())||(a=r.create("br"),o.insertNode(a),o.setStartAfter(a),o.setEndAfter(a),i=!0)),a=r.create("br"),Il(r,o,a),RT(e,a,i),e.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},FT=(e,t)=>gT(e).filter(e=>t.length>0&&yn(pn(e),t)).isSome(),UT=Ae([{br:[]},{block:[]},{none:[]}]),HT=(e,t)=>(e=>FT(e,Bc(e)))(e),zT=e=>(t,n)=>(e=>gT(e).filter(e=>Ns(pn(e))).isSome())(t)===e,$T=(e,t)=>(n,r)=>{const o=(e=>gT(e).fold(T(""),e=>e.nodeName.toUpperCase()))(n)===e.toUpperCase();return o===t},qT=e=>{const t=hT(e.dom,e.selection.getStart());return k(t)},VT=e=>$T("pre",e),WT=e=>(t,n)=>Oc(t)===e,KT=(e,t)=>(e=>FT(e,Mc(e)))(e),GT=(e,t)=>t,YT=e=>{const t=Rc(e),n=hT(e.dom,e.selection.getStart());return x(n)&&e.schema.isValidChild(n.nodeName,t)},XT=e=>{const t=e.selection.getRng(),n=pn(t.startContainer),r=qn(n,t.startOffset).map(e=>An(e)&&!ho(e));return t.collapsed&&r.getOr(!0)},QT=(e,t)=>(n,r)=>Q(e,(e,t)=>e&&t(n,r),!0)?j.some(t):j.none(),ZT=(e,t,n)=>{if(!t.mode.isReadOnly()){if(t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),x(n)&&cT(t,e.fakeEventName).isDefaultPrevented())return;e.insert(t,n),x(n)&&lT(t,e.fakeEventName)}},JT=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>ZT(jT,e,t),r=()=>ZT(OT,e,t),o=((e,t)=>qw([QT([HT],UT.none()),QT([VT(!0),qT],UT.none()),QT([$T("summary",!0)],UT.br()),QT([VT(!0),WT(!1),GT],UT.br()),QT([VT(!0),WT(!1)],UT.block()),QT([VT(!0),WT(!0),GT],UT.block()),QT([VT(!0),WT(!0)],UT.br()),QT([zT(!0),GT],UT.br()),QT([zT(!0)],UT.block()),QT([KT],UT.br()),QT([GT],UT.br()),QT([YT],UT.block()),QT([XT],UT.block())],[e,!(!t||!t.shiftKey)]).getOr(UT.none()))(e,t);switch(Dc(e)){case"linebreak":o.fold(n,n,E);break;case"block":o.fold(r,r,E);break;case"invert":o.fold(r,n,E);break;default:o.fold(n,r,E)}},eN=Gt(),tN=eN.os.isiOS()&&eN.browser.isSafari(),nN=(e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact(()=>{JT(e,t)}))},rN=Gt(),oN=e=>e.stopImmediatePropagation(),aN=e=>e.keyCode===Sm.PAGE_UP||e.keyCode===Sm.PAGE_DOWN,iN=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",oN,!0):!n&&e.get()&&t.off("NodeChange",oN),e.set(n)},sN=(e,t)=>e===t||e.contains(t),lN=(e,t)=>{const n=t.container(),r=t.offset();return ta(n)?(n.insertData(r,e),j.some(Bl(n,r+e.length))):af(t).map(n=>{const r=fn(e);return t.isAtEnd()?lr(n,r):sr(n,r),Bl(r.dom,e.length)})},cN=R(lN,lt),dN=R(lN," "),uN=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},fN=e=>{const t=Bl.fromRangeStart(e.selection.getRng()),n=pn(e.getBody());if(e.selection.isCollapsed()){const r=R($g,e),o=Bl.fromRangeStart(e.selection.getRng());return eS(r,e.getBody(),o).bind((e=>t=>t.fold(t=>Tf(e.dom,Bl.before(t)),e=>Nf(e),e=>Of(e),t=>Af(e.dom,Bl.after(t))))(n)).map(r=>()=>((e,t,n)=>r=>Cg(e,r,n)?cN(t):dN(t))(n,t,e.schema)(r).each(uN(e)))}return j.none()},pN=e=>{return ze(rn.browser.isFirefox()&&e.selection.isEditable()&&(t=e.dom,n=e.selection.getRng().startContainer,t.isEditable(t.getParent(n,"summary"))),()=>{const t=pn(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete"),((e,t,n)=>Cg(e,t,n)?cN(t):dN(t))(t,Bl.fromRangeStart(e.selection.getRng()),e.schema).each(uN(e))});var t,n},mN=e=>du(e)?[{keyCode:Sm.TAB,action:WE(z_,e,!0)},{keyCode:Sm.TAB,shiftKey:!0,action:WE(z_,e,!1)}]:[],hN=e=>{if(e.addShortcut("Meta+P","","mcePrint"),XA(e),Nx(e))return Te(null);{const t=XS(e);return(e=>{e.on("beforeinput",t=>{e.selection.isEditable()&&!q(t.getTargetRanges(),t=>!((e,t)=>!sN(e.getBody(),t.startContainer)||!sN(e.getBody(),t.endContainer)||oh(e.dom,t))(e,t))||t.preventDefault()})})(e),(e=>{e.on("keyup compositionstart",R(ME,e))})(e),((e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||((e,t,n)=>{const r=rn.os.isMacOS()||rn.os.isiOS();KE([{keyCode:Sm.RIGHT,action:WE(IE,e,!0)},{keyCode:Sm.LEFT,action:WE(IE,e,!1)},{keyCode:Sm.UP,action:WE(jE,e,!1)},{keyCode:Sm.DOWN,action:WE(jE,e,!0)},...r?[{keyCode:Sm.UP,action:WE(UE,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Sm.DOWN,action:WE(UE,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Sm.RIGHT,action:WE(M_,e,!0)},{keyCode:Sm.LEFT,action:WE(M_,e,!1)},{keyCode:Sm.UP,action:WE(B_,e,!1)},{keyCode:Sm.DOWN,action:WE(B_,e,!0)},{keyCode:Sm.UP,action:WE(B_,e,!1)},{keyCode:Sm.UP,action:WE($E,e,!1)},{keyCode:Sm.DOWN,action:WE($E,e,!0)},{keyCode:Sm.RIGHT,action:WE(YE,e,!0)},{keyCode:Sm.LEFT,action:WE(YE,e,!1)},{keyCode:Sm.UP,action:WE(XE,e,!1)},{keyCode:Sm.DOWN,action:WE(XE,e,!0)},{keyCode:Sm.RIGHT,action:WE(GS,e,t,!0)},{keyCode:Sm.LEFT,action:WE(GS,e,t,!1)},{keyCode:Sm.RIGHT,ctrlKey:!r,altKey:r,action:WE(QS,e,t)},{keyCode:Sm.LEFT,ctrlKey:!r,altKey:r,action:WE(ZS,e,t)},{keyCode:Sm.UP,action:WE(zE,e,!1)},{keyCode:Sm.DOWN,action:WE(zE,e,!0)}],n).each(e=>{n.preventDefault()})})(e,t,n)})})(e,t),((e,t)=>{let n=!1;e.on("keydown",r=>{n=r.keyCode===Sm.BACKSPACE,r.isDefaultPrevented()||((e,t,n)=>{const r=n.keyCode===Sm.BACKSPACE?"deleteContentBackward":"deleteContentForward",o=e.selection.isCollapsed(),a=o?"character":"selection",i=e=>o?e?"word":"line":"selection";GE([{keyCode:Sm.BACKSPACE,action:WE(CE,e)},{keyCode:Sm.BACKSPACE,action:WE(Aw,e,!1)},{keyCode:Sm.DELETE,action:WE(Aw,e,!0)},{keyCode:Sm.BACKSPACE,action:WE(yw,e,!1)},{keyCode:Sm.DELETE,action:WE(yw,e,!0)},{keyCode:Sm.BACKSPACE,action:WE(nE,e,t,!1)},{keyCode:Sm.DELETE,action:WE(nE,e,t,!0)},{keyCode:Sm.BACKSPACE,action:WE(Nv,e,!1)},{keyCode:Sm.DELETE,action:WE(Nv,e,!0)},{keyCode:Sm.BACKSPACE,action:WE(iT,e,!1,a)},{keyCode:Sm.DELETE,action:WE(iT,e,!0,a)},...fT?[{keyCode:Sm.BACKSPACE,altKey:!0,action:WE(iT,e,!1,i(!0))},{keyCode:Sm.DELETE,altKey:!0,action:WE(iT,e,!0,i(!0))},{keyCode:Sm.BACKSPACE,metaKey:!0,action:WE(iT,e,!1,i(!1))}]:[{keyCode:Sm.BACKSPACE,ctrlKey:!0,action:WE(iT,e,!1,i(!0))},{keyCode:Sm.DELETE,ctrlKey:!0,action:WE(iT,e,!0,i(!0))}],{keyCode:Sm.BACKSPACE,action:WE(Dw,e,!1)},{keyCode:Sm.DELETE,action:WE(Dw,e,!0)},{keyCode:Sm.BACKSPACE,action:WE(mE,e,!1)},{keyCode:Sm.DELETE,action:WE(mE,e,!0)},{keyCode:Sm.BACKSPACE,action:WE(fw,e,!1)},{keyCode:Sm.DELETE,action:WE(fw,e,!0)},{keyCode:Sm.BACKSPACE,action:WE(cw,e,!1)},{keyCode:Sm.DELETE,action:WE(cw,e,!0)},{keyCode:Sm.BACKSPACE,action:WE(uE,e,!1)},{keyCode:Sm.DELETE,action:WE(uE,e,!0)},{keyCode:Sm.BACKSPACE,action:WE(Pw,e,!1)},{keyCode:Sm.DELETE,action:WE(Pw,e,!0)}],n).filter(t=>e.selection.isEditable()).each(t=>{n.preventDefault(),cT(e,r).isDefaultPrevented()||(t(),lT(e,r))})})(e,t,r)}),e.on("keyup",t=>{t.isDefaultPrevented()||((e,t,n)=>{KE([{keyCode:Sm.BACKSPACE,action:WE(_w,e)},{keyCode:Sm.DELETE,action:WE(_w,e)},...fT?[{keyCode:Sm.BACKSPACE,altKey:!0,action:WE(fE,e)},{keyCode:Sm.DELETE,altKey:!0,action:WE(fE,e)},...n?[{keyCode:pT?224:91,action:WE(fE,e)}]:[]]:[{keyCode:Sm.BACKSPACE,ctrlKey:!0,action:WE(fE,e)},{keyCode:Sm.DELETE,ctrlKey:!0,action:WE(fE,e)}]],t)})(e,t,n),n=!1})})(e,t),(e=>{let t=j.none();e.on("keydown",n=>{n.keyCode===Sm.ENTER&&(tN&&(e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(ta(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}return!1})(e.selection.getRng())?(e=>{t=j.some(e.selection.getBookmark()),e.undoManager.add()})(e):nN(e,n))}),e.on("keyup",n=>{n.keyCode===Sm.ENTER&&t.each(()=>((e,n)=>{e.undoManager.undo(),t.fold(E,t=>e.selection.moveToBookmark(t)),nN(e,n),t=j.none()})(e,n))})})(e),(e=>{e.on("keydown",t=>{t.isDefaultPrevented()||((e,t)=>{GE([{keyCode:Sm.SPACEBAR,action:WE(fN,e)},{keyCode:Sm.SPACEBAR,action:WE(pN,e)}],t).each(n=>{t.preventDefault(),cT(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),lT(e,"insertText",{data:" "}))})})(e,t)})})(e),(e=>{e.on("input",t=>{t.isComposing||(e=>{const t=pn(e.getBody());e.selection.isCollapsed()&&Og(t,Bl.fromRangeStart(e.selection.getRng()),e.schema).each(t=>{e.selection.setRng(t.toRange())})})(e)})})(e),(e=>{e.on("keydown",t=>{t.isDefaultPrevented()||((e,t)=>{KE([...mN(e)],t).each(e=>{t.preventDefault()})})(e,t)})})(e),((e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||((e,t,n)=>{const r=rn.os.isMacOS()||rn.os.isiOS();KE([{keyCode:Sm.END,action:WE(FE,e,!0)},{keyCode:Sm.HOME,action:WE(FE,e,!1)},...r?[]:[{keyCode:Sm.HOME,action:WE(UE,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Sm.END,action:WE(UE,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Sm.END,action:WE(QE,e,!0)},{keyCode:Sm.HOME,action:WE(QE,e,!1)},{keyCode:Sm.END,action:WE(JS,e,!0,t)},{keyCode:Sm.HOME,action:WE(JS,e,!1,t)}],n).each(e=>{n.preventDefault()})})(e,t,n)})})(e,t),((e,t)=>{if(rN.os.isMacOS())return;const n=Te(!1);e.on("keydown",t=>{aN(t)&&iN(n,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||((e,t,n)=>{KE([{keyCode:Sm.PAGE_UP,action:WE(JS,e,!1,t)},{keyCode:Sm.PAGE_DOWN,action:WE(JS,e,!0,t)}],n)})(e,t,r),aN(r)&&n.get()&&(iN(n,e,!1),e.nodeChanged())})})(e,t),t}};class gN{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",n=>{const r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&Rm(o,t)||e.dispatch("SelectionChange"),t=o}),e.on("contextmenu",()=>{am(e),e.dispatch("SelectionChange")}),e.on("SelectionChange",()=>{const t=e.selection.getStart(!0);t&&op(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",t=>{!t.isDefaultPrevented()&&op(e)&&("IMG"===e.selection.getNode().nodeName?lm.setEditorTimeout(e,()=>{e.nodeChanged()}):e.nodeChanged())})}nodeChanged(e={}){const t=this.editor,n=t.selection;let r;if(t.initialized&&n&&!Ed(t)&&!bu(t)){const o=t.getBody();r=n.getStart(!0)||o,r.ownerDocument===t.getDoc()&&t.dom.isChildOf(r,o)||(r=o);const a=[];t.dom.getParent(r,e=>e===o||(a.push(e),!1)),t.dispatch("NodeChange",{...e,element:r,parents:a})}}isSameElementPath(e){let t;const n=this.editor,r=oe(n.dom.getParents(e,I,n.getBody()));if(r.length===this.lastPath.length){for(t=r.length;t>=0&&r[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=r,!0}return this.lastPath=r,!1}}const vN="x-tinymce/html",bN=T(vN),yN="\x3c!-- "+vN+" --\x3e",kN=e=>yN+e,xN=e=>-1!==e.indexOf(yN),CN="%MCEPASTEBIN%",wN=e=>e.dom.get("mcepastebin"),SN=e=>x(e)&&"mcepastebin"===e.id,EN=e=>e===CN,_N=(e,t)=>(ln.each(t,t=>{e=f(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])}),e),AN=e=>_N(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>t||n?lt:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),TN=(e,t)=>({content:e,cancelled:t}),NN=(e,t)=>(e.insertContent(t,{merge:Yd(e),paste:!0}),!0),ON=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),RN=(e,t,n)=>!(e.selection.isCollapsed()||!ON(t))&&((e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0))(e,t,n),PN=(e,t,n)=>!!((e,t)=>ON(t)&&q(cu(e),e=>Xe(t.toLowerCase(),`.${e.toLowerCase()}`)))(e,t)&&((e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0))(e,t,n),DN=(()=>{let e=0;return()=>"mceclip"+e++})(),MN=e=>{const t=C_();return w_(t,e),h_(t),t},BN=(e,t,n,r,o)=>{const a=((e,t,n)=>((e,t,n)=>{const r=((e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}))(e,t,n),o=((e,t)=>{const n=Yk({sanitize:su(e),sandbox_iframes:pu(e),sandbox_iframes_exclusions:mu(e),convert_unsafe_embeds:hu(e)},e.schema);n.addNodeFilter("meta",e=>{ln.each(e,e=>{e.remove()})});const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Dh({validate:!0},e.schema).serialize(r)})(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?((e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),o=((e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}))(e,r,n);return TN(o.node.innerHTML,o.isDefaultPrevented())})(e,o,n):TN(o,r.isDefaultPrevented())})(e,t,n))(e,t,n);if(!a.cancelled){const t=a.content,n=()=>((e,t,n)=>{n||!Xd(e)?NN(e,t):((e,t)=>{ln.each([RN,PN,NN],n=>!n(e,t,NN))})(e,t)})(e,t,r);o?cT(e,"insertFromPaste",{dataTransfer:MN(t)}).isDefaultPrevented()||(n(),lT(e,"insertFromPaste")):n()}},LN=(e,t,n,r)=>{const o=n||xN(t);BN(e,(e=>e.replace(yN,""))(t),o,!1,r)},IN=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,"\n"),o=((e,t,n)=>{const r=e.split(/\n\n/),o=((e,t)=>{let n="<"+e;const r=Ce(t,(e,t)=>t+'="'+fi.encodeAllRaw(e)+'"');return r.length&&(n+=" "+r.join(" ")),n+">"})(t,n),a="</"+t+">",i=V(r,e=>e.split(/\n/).join("<br />"));return 1===i.length?i[0]:V(i,e=>o+e+a).join("")})($o(r,Zd(e)),Rc(e),Pc(e));BN(e,o,!1,!0,n)},jN=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch(e){t[r]=""}}return t},FN=(e,t)=>t in e&&e[t].length>0,UN=e=>FN(e,"text/html")||FN(e,"text/plain"),HN=(e,t,n)=>{const r="paste"===t.type?t.clipboardData:t.dataTransfer;var o;if($d(e)&&r){const a=((e,t)=>{const n=t.items?ne(ue(t.items),e=>"file"===e.kind?[e.getAsFile()]:[]):[],r=t.files?ue(t.files):[];return Y(n.length>0?n:r,(e=>{const t=cu(e);return e=>Ye(e.type,"image/")&&q(t,t=>(e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ln.hasOwn(n,t)?"image/"+n[t]:"image/"+t})(t)===e.type)})(e))})(e,r);if(a.length>0)return t.preventDefault(),(o=a,Promise.all(V(o,e=>yy(e).then(t=>({file:e,uri:t}))))).then(t=>{n&&e.selection.setRng(n),W(t,t=>{((e,t)=>{vy(t.uri).each(({data:n,type:r,base64Encoded:o})=>{const a=o?n:btoa(n),i=t.file,s=e.editorUpload.blobCache,l=s.getByData(a,r),c=null!=l?l:((e,t,n,r)=>{const o=DN(),a=Fc(e)&&x(n.name),i=a?((e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return x(n)?e.dom.encode(n[1]):void 0})(e,n.name):o,s=a?n.name:void 0,l=t.create(o,n,r,i,s);return t.add(l),l})(e,s,i,a);LN(e,`<img src="${c.blobUri()}">`,!1,!0)})})(e,t)})}),!0}return!1},zN=(e,t,n,r,o)=>{let a=AN(n);const i=FN(t,bN())||xN(n),s=!i&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(a),l=ON(a);(EN(a)||!a.length||s&&!l)&&(r=!0),(r||l)&&(a=FN(t,"text/plain")&&s?t["text/plain"]:(e=>{const t=Ni(),n=Yk({},t);let r="";const o=t.getVoidElements(),a=ln.makeMap("script noscript style textarea video audio iframe object"," "),i=t.getBlockElements(),s=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(o[n]&&(r+=" "),a[n])r+=" ";else{if(3===e.type&&(r+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{s(t)}while(t=t.next)}i[n]&&l.next&&(r+="\n","p"===n&&(r+="\n"))}}else r+="\n"};return e=_N(e,[/<!\[[^\]]+\]>/g]),s(n.parse(e)),r})(a)),EN(a)||(r?IN(e,a,o):LN(e,a,i,o))},$N=(e,t,n)=>{((e,t,n)=>{let r;e.on("keydown",e=>{(e=>Sm.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(r=e.shiftKey&&86===e.keyCode)}),e.on("paste",o=>{if(o.isDefaultPrevented()||(e=>{var t,n;return rn.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)})(o))return;const a="text"===n.get()||r;r=!1;const i=jN(o.clipboardData);!UN(i)&&HN(e,o,t.getLastRng()||e.selection.getRng())||(FN(i,"text/html")?(o.preventDefault(),zN(e,i,i["text/html"],a,!0)):FN(i,"text/plain")&&FN(i,"text/uri-list")?(o.preventDefault(),zN(e,i,i["text/plain"],a,!0)):(t.create(),lm.setEditorTimeout(e,()=>{const n=t.getHtml();t.remove(),zN(e,i,n,a,!1)},0)))})})(e,t,n),(e=>{const t=e=>Ye(e,"webkit-fake-url"),n=e=>Ye(e,"data:");e.parser.addNodeFilter("img",(r,o,a)=>{if(!$d(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(a))for(const o of r){const r=o.attr("src");p(r)&&!o.attr("data-mce-object")&&r!==rn.transparentSrc&&(t(r)||!Jd(e)&&n(r))&&o.remove()}})})(e)},qN=(e,t,n,r)=>{((e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(bN(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},VN=e=>(t,n)=>{const{dom:r,selection:o}=e,a=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=r.create("div",{contenteditable:"true"},t);r.setStyles(a,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),a.appendChild(i),r.add(e.getBody(),a);const s=o.getRng();i.focus();const l=r.createRng();l.selectNodeContents(i),o.setRng(l),lm.setEditorTimeout(e,()=>{o.setRng(s),r.remove(a),n()},0)},WN=e=>({html:kN(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),KN=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),GN=(e,t)=>{var n,r;return Hm.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(r=t.clientY)&&void 0!==r?r:0,e.getDoc())},YN=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},XN=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,QN=e=>ln.trim(e).replace(XN,ji).toLowerCase(),ZN=(e,t,n)=>{const r=Kd(e);if(n||"all"===r||!Gd(e))return t;const o=r?r.split(/[, ]/):[];if(o&&"none"!==r){const n=e.dom,r=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(e,t,a,i)=>{const s=n.parseStyle(n.decode(a)),l={};for(let e=0;e<o.length;e++){const t=s[o[e]];let a=t,i=n.getStyle(r,o[e],!0);/color/.test(o[e])&&(a=QN(a),i=QN(i)),i!==a&&(l[o[e]]=t)}const c=n.serializeStyle(l,"span");return c?t+' style="'+c+'"'+i:t+i})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(e,t,n,r)=>t+' style="'+n+'"'+r),t},JN=e=>{const t=Te(!1),n=Te(Qd(e)?"text":"html"),r=(e=>{const t=Te(null);return{create:()=>((e,t)=>{const{dom:n,selection:r}=e,o=e.getBody();t.set(r.getRng());const a=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},CN);rn.browser.isFirefox()&&n.setStyle(a,"left","rtl"===n.getStyle(o,"direction",!0)?65535:-65535),n.bind(a,"beforedeactivate focusin focusout",e=>{e.stopPropagation()}),a.focus(),r.select(a,!0)})(e,t),remove:()=>((e,t)=>{const n=e.dom;if(wN(e)){let r;const o=t.get();for(;r=wN(e);)n.remove(r),n.unbind(r);o&&e.selection.setRng(o)}t.set(null)})(e,t),getEl:()=>wN(e),getHtml:()=>(e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[r,...o]=Y(e.getBody().childNodes,SN);W(o,e=>{n(r,e)});const a=t.select("div[id=mcepastebin]",r);for(let e=a.length-1;e>=0;e--){const o=t.create("div");r.insertBefore(o,a[e]),n(o,a[e])}return r?r.innerHTML:""})(e),getLastRng:t.get}})(e);(e=>{(rn.browser.isChromium()||rn.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})})(e,ZN)})(e),((e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{((e,t)=>{"text"===t.get()?(t.set("html"),gc(e,!1)):(t.set("text"),gc(e,!0)),e.focus()})(e,t)}),e.addCommand("mceInsertClipboardContent",(t,n)=>{n.html&&LN(e,n.html,n.internal,!1),n.text&&IN(e,n.text,!1)})})(e,n),(e=>{const t=t=>n=>{t(e,n)},n=qd(e);C(n)&&e.on("PastePreProcess",t(n));const r=Vd(e);C(r)&&e.on("PastePostProcess",t(r))})(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>"text"===n.get()),e.on("PreInit",()=>{(e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&KN(e)&&e.selection.isEditable()&&qN(t,WN(e),VN(e),()=>{if(rn.browser.isChromium()||rn.browser.isFirefox()){const t=e.selection.getRng();lm.setEditorTimeout(e,()=>{e.selection.setRng(t),e.execCommand("Delete")},0)}else e.execCommand("Delete")})})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&KN(e)&&qN(t,WN(e),VN(e),E)})(e))})(e),((e,t)=>{zd(e)&&e.on("dragend dragover draggesture dragdrop drop drag",e=>{e.preventDefault(),e.stopPropagation()}),$d(e)||e.on("drop",e=>{const t=e.dataTransfer;t&&(e=>q(e.files,e=>/^image\//.test(e.type)))(t)&&e.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const r=GN(e,n);if(k(r))return;const o=jN(n.dataTransfer),a=FN(o,bN());if((!UN(o)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(o))&&HN(e,n,r))return;const i=o[bN()],s=i||o["text/html"]||o["text/plain"],l=((e,t,n,r)=>{const o=e.getParent(n,e=>za(t,e));if(!v(e.getParent(n,"summary")))return!0;if(o&&Ee(r,"text/html")){const e=(new DOMParser).parseFromString(r["text/html"],"text/html").body;return!v(e.querySelector(o.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,r.startContainer,o),c=t.get();c&&!l||s&&(n.preventDefault(),lm.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(i||c&&l)&&e.execCommand("Delete"),YN(e,r);const t=AN(s);o["text/html"]?LN(e,t,a,!0):IN(e,t,!0)})}))}),e.on("dragstart",e=>{t.set(!0)}),e.on("dragover dragend",n=>{$d(e)&&!t.get()&&(n.preventDefault(),YN(e,GN(e,n))),"dragend"===n.type&&t.set(!1)}),(e=>{e.on("input",t=>{const n=e=>v(e.querySelector("summary"));if("deleteByDrag"===t.inputType){const t=Y(e.dom.select("details"),n);W(t,t=>{sa(t.firstChild)&&t.firstChild.remove();const n=e.dom.create("summary");n.appendChild(Ds().dom),t.prepend(n)})}})})(e)})(e,t),$N(e,r,n)})},eO=sa,tO=ta,nO=e=>ua(e.dom),rO=e=>t=>xn(pn(e),t),oO=(e,t)=>to(pn(e),nO,rO(t)),aO=(e,t,n)=>{const r=new Fo(e,t),o=n?r.next.bind(r):r.prev.bind(r);let a=e;for(let t=n?e:o();t&&!eO(t);t=o())hl(t)&&(a=t);return a},iO=e=>{const t=((e,t,n)=>{const r=Bl.fromRangeStart(e).getNode(),o=((e,t,n)=>to(pn(e),e=>(e=>da(e.dom))(e)||n.isBlock(Sn(e)),rO(t)).getOr(pn(t)).dom)(r,t,n),a=aO(r,o,!1),i=aO(r,o,!0),s=document.createRange();return oO(a,o).fold(()=>{tO(a)?s.setStart(a,0):s.setStartBefore(a)},e=>s.setStartBefore(e.dom)),oO(i,o).fold(()=>{tO(i)?s.setEnd(i,i.data.length):s.setEndAfter(i)},e=>s.setEndAfter(e.dom)),s})(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Vv(t))};var sO;!function(e){e.Before="before",e.After="after"}(sO||(sO={}));const lO=(e,t)=>Math.abs(e.left-t),cO=(e,t)=>Math.abs(e.right-t),dO=(e,t)=>(e=>Q(e,(e,t)=>e.fold(()=>j.some(t),e=>{const n=Math.min(t.left,e.left),r=Math.min(t.top,e.top),o=Math.max(t.right,e.right),a=Math.max(t.bottom,e.bottom);return j.some({top:r,right:o,bottom:a,left:n,width:o-n,height:a-r})}),j.none()))(Y(e,e=>{return(n=t)>=(r=e).top&&n<=r.bottom;var n,r})).fold(()=>[[],e],t=>{const{pass:n,fail:r}=G(e,e=>((e,t)=>{const n=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&n>.5})(e,t));return[n,r]}),uO=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),fO=(e,t,n,r)=>{const o=e=>hl(e.node)?j.some(e):Wo(e.node)?fO(ue(e.node.childNodes),t,n,!1):j.none(),a=(e,a)=>{const i=se(e,(e,r)=>a(e,t,n)-a(r,t,n));return fe(i,o).map(e=>r&&!ta(e.node)&&i.length>1?((e,r,a)=>o(r).filter(r=>Math.abs(a(e,t,n)-a(r,t,n))<2&&ta(r.node)))(e,i[1],a).getOr(e):e)},[i,s]=dO(OS(e),n),{pass:l,fail:c}=G(s,e=>e.top<n);return a(i,uO).orThunk(()=>a(c,nl)).orThunk(()=>a(l,nl))},pO=(e,t,n)=>((e,t,n)=>{const r=pn(e),o=Mn(r),a=mn(o,t,n).filter(e=>Cn(r,e)).getOr(r);return((e,t,n,r)=>{const o=(t,a)=>{const i=Y(t.dom.childNodes,P(e=>Wo(e)&&e.classList.contains("mce-drag-container")));return a.fold(()=>fO(i,n,r,!0),e=>{const t=Y(i,t=>t!==e.dom);return fO(t,n,r,!0)}).orThunk(()=>(xn(t,e)?j.none():In(t)).bind(e=>o(e,j.some(t))))};return o(t,j.none())})(r,a,t,n)})(e,t,n).filter(e=>Mu(e.node)).map(e=>((e,t)=>({node:e.node,position:lO(e,t)<cO(e,t)?sO.Before:sO.After}))(e,t)),mO=e=>{var t,n;const r=e.getBoundingClientRect(),o=e.ownerDocument,a=o.documentElement,i=o.defaultView;return{top:r.top+(null!==(t=null==i?void 0:i.scrollY)&&void 0!==t?t:0)-a.clientTop,left:r.left+(null!==(n=null==i?void 0:i.scrollX)&&void 0!==n?n:0)-a.clientLeft}},hO=e=>({target:e,srcElement:e}),gO=(e,t,n,r)=>{const o=((e,t)=>{const n=(e=>{const t=C_(),n=(e=>{const t=e;return j.from(t[u_])})(e);return h_(e),s_(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,(e=>{const t=e;return j.from(t[o_])})(e).each(e=>t.setDragImage(e.image,e.x,e.y)),W(e.types,n=>{"Files"!==n&&t.setData(n,e.getData(n))}),W(e.files,e=>t.items.add(e)),(e=>{const t=e;return j.from(t[a_])})(e).each(e=>{((e,t)=>{i_(t)(e)})(t,e)}),n.each(n=>{p_(e,n),p_(t,n)}),t})(e);return"dragstart"===t?(s_(n),m_(n)):"drop"===t?(l_(n),h_(n)):(c_(n),g_(n)),n})(n,e);return y(r)?((e,t,n)=>{const r=D("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:E,stopImmediatePropagation:E,stopPropagation:E,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...hO(t)}})(e,t,o):((e,t,n,r)=>({...t,dataTransfer:r,type:e,...hO(n)}))(e,r,t,o)},vO=ua,bO=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(vO,da),yO=(e,t,n,r)=>{const o=e.dom,a=t.cloneNode(!0);o.setStyles(a,{width:n,height:r}),o.setAttrib(a,"data-mce-selected",null);const i=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(a,{margin:0,boxSizing:"border-box"}),i.appendChild(a),i},kO=(e,t)=>n=>()=>{const r="left"===e?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},xO=kO("left",-32),CO=kO("left",32),wO=kO("top",-32),SO=kO("top",32),EO=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},_O=(e,t,n,r,o)=>{"dragstart"===t&&w_(r,e.dom.getOuterHTML(n));const a=gO(t,n,r,o);return e.dispatch(t,a)},AO=(e,t)=>{const n=ot((e,n)=>((e,t,n)=>{e._selectionOverrides.hideFakeCaret(),pO(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{const o=e._selectionOverrides.showCaret(1,r.node,r.position===sO.Before,!1);o?e.selection.setRng(o):e.selection.placeCaretAt(t,n)})})(t,e,n),0);t.on("remove",n.cancel);const r=e;return o=>e.on(e=>{const a=Math.max(Math.abs(o.screenX-e.screenX),Math.abs(o.screenY-e.screenY));if(!e.dragging&&a>10){const n=_O(t,"dragstart",e.element,e.dataTransfer,o);if(x(n.dataTransfer)&&(e.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const a=o.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,((e,t)=>{return n=(e=>e.inline?mO(e.getBody()):{left:0,top:0})(e),r=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),o=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=mO(e.getContentAreaContainer()),r=(e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o})(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:o.left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o})(t,o));i=e.ghost,s=t.getBody(),i.parentNode!==s&&s.appendChild(i),((e,t,n,r,o,a,i,s,l,c,d,u)=>{let f=0,p=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(f=t.pageX+n-o),t.pageY+r>a&&(p=t.pageY+r-a),e.style.width=n-f+"px",e.style.height=r-p+"px";const m=l.clientHeight,h=l.clientWidth,g=i+l.getBoundingClientRect().top,v=s+l.getBoundingClientRect().left;d.on(e=>{e.intervalId.clear(),e.dragging&&u&&(i+8>=m?e.intervalId.set(SO(c)):i-8<=0?e.intervalId.set(wO(c)):s+8>=h?e.intervalId.set(CO(c)):s-8<=0?e.intervalId.set(xO(c)):g+16>=window.innerHeight?e.intervalId.set(SO(window)):g-16<=0?e.intervalId.set(wO(window)):v+16>=window.innerWidth?e.intervalId.set(CO(window)):v-16<=0&&e.intervalId.set(xO(window)))})})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),r,a),n.throttle(o.clientX,o.clientY)}var i,s})},TO=(e,t,n)=>{e.on(e=>{e.intervalId.clear(),e.dragging&&n.fold(()=>_O(t,"dragend",e.element,e.dataTransfer),n=>_O(t,"dragend",e.element,e.dataTransfer,n))}),NO(e)},NO=e=>{e.on(e=>{e.intervalId.clear(),EO(e.ghost)}),e.clear()},OO=e=>{const t=Ve(),n=os.DOM,r=document,o=((e,t)=>n=>{if((e=>0===e.button)(n)){const r=J(t.dom.getParents(n.target),bO).getOr(null);if(x(r)&&((e,t,n)=>vO(n)&&n!==t&&e.isEditable(n.parentElement))(t.dom,t.getBody(),r)){const o=t.dom.getPos(r),a=t.getBody(),i=t.getDoc().documentElement;e.set({element:r,dataTransfer:C_(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?a.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:i.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:yO(t,r,r.offsetWidth,r.offsetHeight),intervalId:qe(100)})}}})(t,e),a=AO(t,e),i=((e,t)=>n=>{e.on(e=>{var r;if(e.intervalId.clear(),e.dragging){if(((e,t,n)=>!k(t)&&t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(x(t)){const e=t.getRangeAt(0).startContainer;return ta(e)?e.parentNode:e}return null})(t.selection),e.element)){const o=null!==(r=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==r?r:t.getBody();_O(t,"drop",o,e.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{((e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);EO(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&Ms(pn(n))})(t.dom,e.element),(e=>{const t=e.getData("text/html");return""===t?j.none():j.some(t)})(e.dataTransfer).each(e=>t.insertContent(e)),t._selectionOverrides.hideFakeCaret()})}_O(t,"dragend",t.getBody(),e.dataTransfer,n)}}),NO(e)})(t,e),s=((e,t)=>n=>TO(e,t,j.some(n)))(t,e);e.on("mousedown",o),e.on("mousemove",a),e.on("mouseup",i),n.bind(r,"mousemove",a),n.bind(r,"mouseup",s),e.on("remove",()=>{n.unbind(r,"mousemove",a),n.unbind(r,"mouseup",s)}),e.on("keydown",n=>{n.keyCode===Sm.ESC&&TO(t,e,j.none())})},RO=ua,PO=(e,t)=>Ov(e.getBody(),t),DO=e=>{const t=e.selection,n=e.dom,r=e.getBody(),o=Ru(e,r,n.isBlock,()=>xm(e)),a="sel-"+n.uniqueId(),i="data-mce-selected";let s;const l=e=>e!==r&&(RO(e)||ha(e))&&n.isChildOf(e,r)&&n.isEditable(e.parentNode),c=(n,r,a,i=!0)=>e.dispatch("ShowCaret",{target:r,direction:n,before:a}).isDefaultPrevented()?null:(i&&t.scrollIntoView(r,-1===n),o.show(a,r)),d=e=>zs(e)||Ws(e)||Ks(e),u=e=>d(e.startContainer)||d(e.endContainer),f=t=>{const r=e.schema.getVoidElements(),o=n.createRng(),a=t.startContainer,i=t.startOffset,s=t.endContainer,l=t.endOffset;return Ee(r,a.nodeName.toLowerCase())?0===i?o.setStartBefore(a):o.setStartAfter(a):o.setStart(a,i),Ee(r,s.nodeName.toLowerCase())?0===l?o.setEndBefore(s):o.setEndAfter(s):o.setEnd(s,l),o},p=(o,d)=>{if(!o)return null;if(o.collapsed){if(!u(o)){const e=d?1:-1,t=of(e,r,o),a=t.getNode(!d);if(x(a)){if(Mu(a))return c(e,a,!!d&&!t.isAtEnd(),!1);if(Hs(a)&&ua(a.nextSibling)){const e=n.createRng();return e.setStart(a,0),e.setEnd(a,0),e}}const i=t.getNode(d);if(x(i)){if(Mu(i))return c(e,i,!d&&!t.isAtEnd(),!1);if(Hs(i)&&ua(i.previousSibling)){const e=n.createRng();return e.setStart(i,1),e.setEnd(i,1),e}}}return null}let f=o.startContainer,p=o.startOffset;const m=o.endOffset;if(ta(f)&&0===p&&RO(f.parentNode)&&(f=f.parentNode,p=n.nodeIndex(f),f=f.parentNode),!Wo(f))return null;if(m===p+1&&f===o.endContainer){const r=f.childNodes[p];if(l(r))return(r=>{const o=r.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:r,targetClone:o});if(l.isDefaultPrevented())return null;const c=((r,o)=>{const i=pn(e.getBody()),s=e.getDoc(),l=oo(i,"#"+a).getOrThunk(()=>{const e=dn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',s);return mr(e,"id",a),dr(i,e),e}),c=n.createRng();xr(l),fr(l,[fn(lt,s),pn(o),fn(lt,s)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),Mr(l,{top:n.getPos(r,e.getBody()).y+"px"}),or(l);const d=t.getSel();return d&&(d.removeAllRanges(),d.addRange(c)),c})(r,l.targetClone),d=pn(r);return W(yo(pn(e.getBody()),`*[${i}]`),e=>{xn(d,e)||yr(e,i)}),n.getAttrib(r,i)||r.setAttribute(i,"1"),s=r,h(),c})(r)}return null},m=()=>{s&&s.removeAttribute(i),oo(pn(e.getBody()),"#"+a).each(Cr),s=null},h=()=>{o.hide()};return Nx(e)||(e.on("click",t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())}),e.on("blur NewBlock",m),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",t=>{const n=t.target,r=PO(e,n);RO(r)?(t.preventDefault(),mw(e,r).each(p)):l(n)&&mw(e,n).each(p)},!0),e.on("mousedown",o=>{const a=o.target;if(a!==r&&"HTML"!==a.nodeName&&!n.isChildOf(a,r))return;if(!((e,t,n)=>{const r=pn(e.getBody()),o=e.inline?r:pn(Mn(r).dom.documentElement),a=((e,t,n,r)=>{const o=(e=>e.dom.getBoundingClientRect())(t);return{x:n-(e?o.left+t.dom.clientLeft+lC(t):0),y:r-(e?o.top+t.dom.clientTop+sC(t):0)}})(e.inline,o,t,n);return((e,t,n)=>{const r=aC(e),o=iC(e);return t>=0&&n>=0&&t<=r&&n<=o})(o,a.x,a.y)})(e,o.clientX,o.clientY))return;m(),h();const i=PO(e,a);RO(i)?(o.preventDefault(),mw(e,i).each(p)):pO(r,o.clientX,o.clientY).each(n=>{var r;o.preventDefault(),(r=c(1,n.node,n.position===sO.Before,!1))&&t.setRng(r),Ko(i)?i.focus():e.getBody().focus()})}),e.on("keypress",e=>{Sm.modifierPressed(e)||RO(t.getNode())&&e.preventDefault()}),e.on("GetSelectionRange",e=>{let t=e.range;if(s){if(!s.parentNode)return void(s=null);t=t.cloneRange(),t.selectNode(s),e.range=t}}),e.on("focusin",t=>{if(o.isShowing()&&e.getBody().contains(t.target)&&t.target!==e.getBody()&&!e.dom.isEditable(t.target.parentNode)){o.hide(),t.target.contains(e.selection.getNode())||(e.selection.select(t.target,!0),e.selection.collapse(!0));const n=p(e.selection.getRng(),!0);n&&e.selection.setRng(n)}}),e.on("SetSelectionRange",e=>{e.range=f(e.range);const t=p(e.range,e.forward);t&&(e.range=t)}),e.on("AfterSetSelectionRange",e=>{const t=e.range,r=t.startContainer.parentElement;var o;u(t)||Wo(o=r)&&"mcepastebin"===o.id||h(),(e=>x(e)&&n.hasClass(e,"mce-offscreen-selection"))(r)||m()}),(e=>{OO(e),Rd(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&($(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&mC(e,"Dropped file type is not supported"))}},n=n=>{hm(e,n.target)&&t(n)},r=()=>{const r=os.DOM,o=e.dom,a=document,i=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];W(s,e=>{r.bind(a,e,n),o.bind(i,e,t)}),e.on("remove",()=>{W(s,e=>{r.unbind(a,e,n),o.unbind(i,e,t)})})};e.on("init",()=>{lm.setEditorTimeout(e,r,0)})})(e)})(e),(e=>{const t=ot(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=hw(e,t,!1);e.selection.setRng(n)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})})(e),(e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(ha(n)){const t=Ov(e.getBody(),n),r=ua(t)?t:n;e.selection.getNode()!==r&&mw(e,r).each(t=>e.selection.setRng(t))}})})})(e)),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(Gs(e),t.scrollIntoView(e))},hideFakeCaret:h,destroy:()=>{o.destroy(),s=null}}},MO=(e,t)=>{let n=t;for(let t=e.previousSibling;ta(t);t=t.previousSibling)n+=t.data.length;return n},BO=(e,t,n,r,o)=>{if(ta(n)&&(r<0||r>n.data.length))return[];const a=o&&ta(n)?[MO(n,r)]:[r];let i=n;for(;i!==t&&i.parentNode;)a.push(e.nodeIndex(i,o)),i=i.parentNode;return i===t?a.reverse():[]},LO=(e,t,n,r,o,a,i=!1)=>({start:BO(e,t,n,r,i),end:BO(e,t,o,a,i)}),IO=(e,t)=>{const n=t.slice(),r=n.pop();return w(r)?Q(n,(e,t)=>e.bind(e=>j.from(e.childNodes[t])),j.some(e)).bind(e=>ta(e)&&(r<0||r>e.data.length)?j.none():j.some({node:e,offset:r})):j.none()},jO=(e,t)=>IO(e,t.start).bind(({node:n,offset:r})=>IO(e,t.end).map(({node:e,offset:t})=>{const o=document.createRange();return o.setStart(n,r),o.setEnd(e,t),o})),FO=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t,ta(t.firstChild)&&Ho(t.firstChild.data)),FO(e,r,n)}},UO=(e,t,n,r=!0)=>{const o=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(ta(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),ta(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),FO(e,o,n),o!==a&&FO(e,a,n))},HO=(e,t)=>j.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),zO=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:ic(r).concat(e.blockPatterns),inlinePatterns:sc(r).concat(e.inlinePatterns)}},$O=(e,t,n,r)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(n,r),o.toString()},qO=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),VO=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},WO=(e,t,n)=>{const r=jO(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,a=r.endContainer,i=0===r.endOffset?a:a.splitText(r.endOffset),s=0===r.startOffset?o:o.splitText(r.startOffset),l=s.parentNode;return{prefix:t,end:i.parentNode.insertBefore(qO(e,t+"-end"),i),start:l.insertBefore(qO(e,t+"-start"),s)}},KO=(e,t,n)=>{FO(e,e.get(t.prefix+"-end"),n),FO(e,e.get(t.prefix+"-start"),n)},GO=e=>0===e.start.length,YO=(e,t,n,r)=>{const o=t.start;var a;return Y_(e,r.container,r.offset,(a=o,(e,t)=>{const n=e.data.substring(0,t),r=n.lastIndexOf(a.charAt(a.length-1)),o=n.lastIndexOf(a);return-1!==o?o+a.length:-1!==r?r+1:-1}),n).bind(r=>{var a,i;const s=null!==(i=null===(a=n.textContent)||void 0===a?void 0:a.indexOf(o))&&void 0!==i?i:-1;if(-1!==s&&r.offset>=s+o.length){const t=e.createRng();return t.setStart(r.container,r.offset-o.length),t.setEnd(r.container,r.offset),j.some(t)}{const a=r.offset-o.length;return K_(r.container,a,n).map(t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(r.container,r.offset),n}).filter(e=>e.toString()===o).orThunk(()=>YO(e,t,n,$_(r.container,0)))}})},XO=(e,t,n,r)=>{const o=e.dom,a=o.getRoot(),i=n.pattern,s=n.position.container,l=n.position.offset;return K_(s,l-n.pattern.end.length,t).bind(c=>{const d=LO(o,a,c.container,c.offset,s,l,r);if(GO(i))return j.some({matches:[{pattern:i,startRng:d,endRng:d}],position:c});{const s=QO(e,n.remainingPatterns,c.container,c.offset,t,r),l=s.getOr({matches:[],position:c}),u=l.position,f=((e,t,n,r,o,a=!1)=>{if(0===t.start.length&&!a){const t=e.createRng();return t.setStart(n,r),t.setEnd(n,r),j.some(t)}return W_(n,r,o).bind(n=>YO(e,t,o,n).bind(e=>{var t;if(a){if(e.endContainer===n.container&&e.endOffset===n.offset)return j.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return j.none()}return j.some(e)}))})(o,i,u.container,u.offset,t,s.isNone());return f.map(e=>{const t=((e,t,n,r=!1)=>LO(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r))(o,a,e,r);return{matches:l.matches.concat([{pattern:i,startRng:t,endRng:d}]),position:$_(e.startContainer,e.startOffset)}})}})},QO=(e,t,n,r,o,a)=>{const i=e.dom;return W_(n,r,i.getRoot()).bind(s=>{const l=$O(i,o,n,r);for(let i=0;i<t.length;i++){const c=t[i];if(!Xe(l,c.end))continue;const d=t.slice();d.splice(i,1);const u=XO(e,o,{pattern:c,remainingPatterns:d,position:s},a);if(u.isNone()&&r>0)return QO(e,t,n,r-1,o,a);if(u.isSome())return u}return j.none()})},ZO=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?W(t.format,t=>{e.formatter.apply(t)}):e.execCommand(t.cmd,!1,t.value)},JO=(e,t,n,r,o,a)=>{var i;return((e,t)=>{const n=re(e,e=>q(t,t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t})(QO(e,o.inlinePatterns,n,r,t,a).fold(()=>[],e=>e.matches),QO(e,(i=o.inlinePatterns,se(i,(e,t)=>t.end.length-e.end.length)),n,r,t,a).fold(()=>[],e=>e.matches))},eR=(e,t)=>{if(0===t.length)return;const n=e.dom,r=e.selection.getBookmark(),o=((e,t)=>{const n=Be("mce_textpattern"),r=X(t,(t,r)=>{const o=WO(e,n+`_end${t.length}`,r.endRng);return t.concat([{...r,endMarker:o}])},[]);return X(r,(t,o)=>{const a=r.length-t.length-1,i=GO(o.pattern)?o.endMarker:WO(e,n+`_start${a}`,o.startRng);return t.concat([{...o,startMarker:i}])},[])})(n,t);W(o,t=>{const r=n.getParent(t.startMarker.start,n.isBlock),o=e=>e===r;GO(t.pattern)?((e,t,n,r)=>{const o=VO(e.dom,n);UO(e.dom,o,r),ZO(e,t,o)})(e,t.pattern,t.endMarker,o):((e,t,n,r,o)=>{const a=e.dom,i=VO(a,r),s=VO(a,n);UO(a,s,o),UO(a,i,o);const l={prefix:n.prefix,start:n.end,end:r.start},c=VO(a,l);ZO(e,t,c)})(e,t.pattern,t.startMarker,t.endMarker,o),KO(n,t.endMarker,o),KO(n,t.startMarker,o)}),e.selection.moveToBookmark(r)},tR=(e,t,n)=>((e,t,n)=>{if(ta(e)&&0>=e.length)return j.some($_(e,0));{const t=Ss(q_);return j.from(t.forwards(e,0,V_(e),n)).map(e=>$_(e.container,0))}})(t,0,t).map(r=>{const o=r.container;return G_(o,n.start.length,t).each(n=>{const r=e.createRng();r.setStart(o,0),r.setEnd(n.container,n.offset),UO(e,r,e=>e===t)}),o}),nR=e=>(t,n)=>{const r=t.dom,o=n.pattern,a=jO(r.getRoot(),n.range).getOrDie("Unable to resolve path range");return HO(t,a).each(n=>{"block-format"===o.type?((e,t)=>{const n=t.get(e);return g(n)&&ce(n).exists(e=>Ee(e,"block"))})(o.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,n,o),t.formatter.apply(o.format)}):"block-command"===o.type&&t.undoManager.transact(()=>{e(t.dom,n,o),t.execCommand(o.cmd,!1,o.value)})}),!0},rR=e=>(t,n)=>{const r=(e=>se(e,(e,t)=>t.start.length-e.start.length))(t),o=n.replace(lt," ");return J(r,t=>e(t,n,o))},oR=(e,t)=>(n,r,o,a,i)=>{var s;void 0===i&&(i=null!==(s=r.textContent)&&void 0!==s?s:"");const l=n.dom,c=Rc(n);return l.is(r,c)?e(o.blockPatterns,i).map(e=>t&&ln.trim(i).length===e.start.length?[]:[{pattern:e,range:LO(l,l.getRoot(),r,0,r,0,a)}]).getOr([]):[]},aR=nR((e,t,n)=>{tR(e,t,n).each(e=>{const t=pn(e),n=Xr(t);/^\s[^\s]/.test(n)&&Qr(t,n.slice(1))})}),iR=rR((e,t,n)=>0===t.indexOf(e.start)||0===n.indexOf(e.start)),sR=oR(iR,!0),lR=nR(tR),cR=rR((e,t,n)=>t===e.start||n===e.start),dR=oR(cR,!1),uR=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},fR=e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>{return t=eu(e).filter(t=>"inline-command"!==t.type&&"block-command"!==t.type||e.queryCommandSupported(t.cmd)),n=tu(e),{inlinePatterns:sc(t),blockPatterns:ic(t),dynamicPatternsLookup:n};var t,n},o=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",t=>{if(13===t.keyCode&&!Sm.modifierPressed(t)&&e.selection.isCollapsed()&&e.selection.isEditable()){const n=lc(r(),"enter");(n.inlinePatterns.length>0||n.blockPatterns.length>0||o())&&((e,t)=>((e,t)=>{const n=e.selection.getRng();return HO(e,n).map(r=>{var o;const a=Math.max(0,n.startOffset),i=zO(t,r,null!==(o=r.textContent)&&void 0!==o?o:"");return{inlineMatches:JO(e,r,n.startContainer,a,i,!0),blockMatches:sR(e,r,i,!0)}}).filter(({inlineMatches:e,blockMatches:t})=>t.length>0||e.length>0)})(e,t).fold(L,({inlineMatches:t,blockMatches:n})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{(e=>{e.insertContent(Bs,{preserve_zwsp:!0})})(e),eR(e,t),((e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();W(t,t=>aR(e,t)),e.selection.moveToBookmark(n)})(e,n);const r=e.selection.getRng(),o=W_(r.startContainer,r.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),o.each(t=>{const n=t.container;n.data.charAt(t.offset-1)===st&&(n.deleteData(t.offset-1,1),FO(e.dom,n.parentNode,t=>t===e.dom.getRoot()))})}),!0)))(e,n)&&t.preventDefault()}},!0),e.on("keydown",t=>{if(32===t.keyCode&&e.selection.isCollapsed()&&e.selection.isEditable()){const n=lc(r(),"space");(n.blockPatterns.length>0||o())&&((e,t)=>((e,t)=>{const n=e.selection.getRng();return HO(e,n).map(r=>{const o=Math.max(0,n.startOffset),a=$O(e.dom,r,n.startContainer,o),i=zO(t,r,a);return dR(e,r,i,!1,a)}).filter(e=>e.length>0)})(e,t).fold(L,t=>(e.undoManager.transact(()=>{((e,t)=>{W(t,t=>lR(e,t))})(e,t)}),!0)))(e,n)&&t.preventDefault()}},!0);const a=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const t=lc(r(),"space");(t.inlinePatterns.length>0||o())&&((e,t)=>{const n=e.selection.getRng();HO(e,n).map(r=>{const o=Math.max(0,n.startOffset-1),a=$O(e.dom,r,n.startContainer,o),i=zO(t,r,a),s=JO(e,r,n.startContainer,o,i,!1);s.length>0&&e.undoManager.transact(()=>{eR(e,s)})})})(e,t)}};e.on("keyup",e=>{uR(n,e,(e,t)=>e===t.keyCode&&!Sm.modifierPressed(t))&&a()}),e.on("keypress",n=>{uR(t,n,(e,t)=>e.charCodeAt(0)===t.charCode)&&lm.setEditorTimeout(e,a)})},pR=e=>{const t=ln.each,n=Sm.BACKSPACE,r=Sm.DELETE,o=e.dom,a=e.selection,i=e.parser,s=rn.browser,l=s.isFirefox(),c=s.isChromium()||s.isSafari(),d=rn.deviceType.isiPhone()||rn.deviceType.isiPad(),u=rn.os.isMacOS()||rn.os.isiOS(),f=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},p=e=>e.isDefaultPrevented(),m=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},h=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",t=>{let n;if(t.target===e.getDoc().documentElement)if(n=a.getRng(),e.getBody().focus(),"mousedown"===t.type){if(zs(n.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)})},g=()=>{Range.prototype.getClientRects||e.on("mousedown",t=>{if(!p(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),lm.setEditorTimeout(e,()=>{t.focus()})}})},v=()=>{const t=Md(e);e.on("click",n=>{const r=n.target;/^(IMG|HR)$/.test(r.nodeName)&&o.isEditable(r)&&(n.preventDefault(),e.selection.select(r),e.nodeChanged()),"A"===r.nodeName&&o.hasClass(r,t)&&0===r.childNodes.length&&o.isEditable(r.parentNode)&&(n.preventDefault(),a.select(r))})},b=()=>{e.on("keydown",e=>{if(!p(e)&&e.keyCode===n&&a.isCollapsed()&&0===a.getRng().startOffset){const t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0})},y=()=>{_d(e)||e.on("BeforeExecCommand mousedown",()=>{f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),od(e)||f("enableObjectResizing",!1)})},k=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},x=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},C=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())}))},w=()=>{u&&e.on("keydown",t=>{!Sm.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},S=()=>{e.on("click",e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},_=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",e=>{e.preventDefault()})})},A=E;return Nx(e)?(c&&(h(),v(),_(),m(),d&&(x(),C(),S())),l&&(g(),y(),k(),w())):(e.on("keydown",t=>{if(p(t)||t.keyCode!==Sm.BACKSPACE)return;let n=a.getRng();const r=n.startContainer,i=n.startOffset,s=o.getRoot();let l=r;if(n.collapsed&&0===i){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==s;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),n=o.createRng(),n.setStart(r,0),n.setEnd(r,0),a.setRng(n))}}),(()=>{const t=e=>{const t=o.create("body"),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:"html"})};e.on("keydown",a=>{const i=a.keyCode;if(!p(a)&&(i===r||i===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),r=e.getBody();if(n&&!wa(e.schema,r))return;if(!n&&!(n=>{const r=t(n),a=o.createRng();return a.selectNode(e.getBody()),r===t(a)})(e.selection.getRng()))return;a.preventDefault(),e.setContent(""),r.firstChild&&o.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()}})})(),rn.windowsPhone||e.on("keyup focusin mouseup",t=>{Sm.modifierPressed(t)||(e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length})(e)||a.normalize()},!0),c&&(h(),v(),e.on("init",()=>{f("DefaultParagraphSeparator",Rc(e))}),_(),b(),i.addNodeFilter("br",e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),d?(x(),C(),S()):m()),l&&(e.on("mousedown",t=>{He(j.from(t.clientX),j.from(t.clientY),(n,r)=>{const o=e.getDoc().caretPositionFromPoint(n,r);if(o&&"IMG"===(a=o.offsetNode).nodeName&&e.dom.isEditable(a)){const n=o.offsetNode.getBoundingClientRect();t.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(o.offsetNode),t.clientX<n.left||t.clientY<n.top?e.selection.collapse(!0):(t.clientX>n.right||t.clientY>n.bottom)&&e.selection.collapse(!1)}var a})}),e.on("keydown",t=>{if(!p(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){const e=a.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return o.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(o.remove(n),t.preventDefault())}}}),g(),(()=>{const n=()=>{const n=o.getAttribs(a.getStart().cloneNode(!1));return()=>{const r=a.getStart();r!==e.getBody()&&(o.setAttrib(r,"style",null),t(n,e=>{r.setAttributeNode(e.cloneNode(!0))}))}},r=()=>!a.isCollapsed()&&o.getParent(a.getStart(),o.isBlock)!==o.getParent(a.getEnd(),o.isBlock);e.on("keypress",t=>{let o;return!(!(p(t)||8!==t.keyCode&&46!==t.keyCode)&&r()&&(o=n(),e.getDoc().execCommand("delete",!1),o(),t.preventDefault(),1))}),o.bind(e.getDoc(),"cut",t=>{if(!p(t)&&r()){const t=n();lm.setEditorTimeout(e,()=>{t()})}})})(),y(),e.on("SetContent ExecCommand",e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(o.select("a:not([data-mce-block])"),e=>{var t;let n=e.parentNode;const r=o.getRoot();if((null==n?void 0:n.lastChild)===e){for(;n&&!o.isBlock(n);){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===r)return;n=n.parentNode}o.add(n,"br",{"data-mce-bogus":1})}})}),k(),w(),b())),{refreshContentEditable:A,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},mR=os.DOM,hR=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,gR=e=>xe(e,e=>!1===y(e)),vR=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return gR({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:hR(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:mu(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},bR=e=>{const t=e.options.get;return gR({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},yR=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,kR=e=>{const t=yR(e),n=td(e),r=e.contentCSS,o=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},a=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let t="";ln.each(e.contentStyles,e=>{t+=e+"\r\n"}),e.dom.addStyle(t)}const i=Promise.all(((e,t,n)=>{const{pass:r,fail:o}=G(t,e=>tinymce.Resource.has(AC(e))),a=r.map(t=>{const n=tinymce.Resource.get(AC(t));return p(n)?Promise.resolve(yR(e).loadRawCss(t,n)):Promise.resolve()}),i=[...a,yR(e).loadAll(o)];return e.inline?i:i.concat([e.ui.styleSheetLoader.loadAll(n)])})(e,r,n)).then(a).catch(a),s=ed(e);return s&&((e,t)=>{const n=pn(e.getBody()),r=Xn(Yn(n)),o=un("style");mr(o,"type","text/css"),dr(o,fn(t)),dr(r,o),e.on("remove",()=>{Cr(o)})})(e,s),i},xR=e=>{!0!==e.removed&&((e=>{Nx(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),(e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||op(e)&&e.selection.getStart(!0)!==t||Nf(t).each(t=>{const n=t.getNode(),r=Zo(n)?Nf(n).getOr(t):t;e.selection.setRng(r.toRange())})})(e),e.nodeChanged({initial:!0});const t=Id(e);C(t)&&t.call(e,e),(e=>{const t=Fd(e);t&&lm.setEditorTimeout(e,()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)})(e),CC(e)&&SC(e,!0)})(e))},CR=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(mR.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=_d(e),e._editableRoot=Ad(e),!bu(e)&&e.hasEditableRoot()&&(e.inline&&"static"===mR.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=BC(e),e.schema=Ni(bR(e)),e.dom=os(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Kc(e),referrerPolicy:Gc(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=(e=>{const t=Yk(vR(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(t,n)=>{const r=e.dom,o="data-mce-"+n;let a=t.length;for(;a--;){const i=t[a];let s=i.attr(n);if(s&&!i.attr(o)){if(0===s.indexOf("data:")||0===s.indexOf("blob:"))continue;"style"===n?(s=r.serializeStyle(r.parseStyle(s),i.name),s.length||(s=null),i.attr(o,s),i.attr(n,s)):"tabindex"===n?(i.attr(o,s),i.attr(n,null)):i.attr(o,e.convertURL(s,n,i.name))}}}),t.addNodeFilter("script",e=>{let t=e.length;for(;t--;){const n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}),au(e)&&t.addNodeFilter("#cdata",t=>{var n;let r=t.length;for(;r--;){const o=t[r];o.type=8,o.name="#comment",o.value="[CDATA["+e.dom.encode(null!==(n=o.value)&&void 0!==n?n:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",t=>{let n=t.length;const r=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(r)&&0===e.getAll("br").length&&e.append(new mh("br",1))}}),t})(e),e.serializer=Ux((e=>{const t=e.options.get;return{...vR(e),...bR(e),...gR({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=Ix(e.dom,e.getWin(),e.serializer,e),e.annotator=Xp(e),e.formatter=WC(e),e.undoManager=GC(e),e._nodeChangeDispatcher=new gN(e),e._selectionOverrides=DO(e),(e=>{const t=Ve(),n=Te(!1),r=at(t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)},400);e.on("touchstart",e=>{SE(e).each(o=>{r.cancel();const a={x:o.clientX,y:o.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(a)})},!0),e.on("touchmove",o=>{r.cancel(),SE(o).each(r=>{t.on(o=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5})(r,o)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",o=>{r.cancel(),"touchcancel"!==o.type&&t.get().filter(e=>e.target.isEqualNode(o.target)).each(()=>{n.get()?o.preventDefault():e.dispatch("tap",{...o,type:"tap"})})},!0)})(e),(e=>{(e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})})(e),(e=>{e.parser.addNodeFilter("details",t=>{const n=uu(e);W(t,e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=fu(e);W(t,e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)})})})(e)})(e),(e=>{const t="contenteditable",n=" "+ln.trim(ru(e))+" ",r=" "+ln.trim(nu(e))+" ",o=OE(n),a=OE(r),i=ou(e);i.length>0&&e.on("BeforeSetContent",t=>{((e,t,n)=>{let r=t.length,o=n.content;if("raw"!==n.format){for(;r--;)o=o.replace(t[r],RE(e,o,nu(e)));n.content=o}})(e,i,t)}),e.parser.addAttributeFilter("class",e=>{let n=e.length;for(;n--;){const r=e[n];o(r)?r.attr(t,"true"):a(r)&&r.attr(t,"false")}}),e.serializer.addAttributeFilter(t,e=>{let n=e.length;for(;n--;){const r=e[n];if(!o(r)&&!a(r))continue;const s=r.attr("data-mce-content");i.length>0&&s?PE(i,s)?(r.name="#text",r.type=3,r.raw=!0,r.value=s):r.remove():r.attr(t,null)}})})(e),Nx(e)||((e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),iO(e))})})(e),(e=>{fR(e)})(e));const o=hN(e);((e,t)=>{e.addCommand("delete",()=>{((e,t)=>{wE(e,t,!1).fold(()=>{e.selection.isEditable()&&(Xg(e),ev(e))},B)})(e,t)}),e.addCommand("forwardDelete",()=>{((e,t)=>{wE(e,t,!0).fold(()=>{e.selection.isEditable()&&Qg(e)},B)})(e,t)})})(e,o),(e=>{e.on("NodeChange",()=>(e=>{const t=e.dom,n=e.selection,r=e.schema,o=r.getBlockElements(),a=n.getStart(),i=e.getBody();let s,l,c=null;const d=Rc(e);if(!a||!Wo(a))return;const u=i.nodeName.toLowerCase();if(!r.isValidChild(u,d.toLowerCase())||((e,t,n)=>q(eg(pn(n),pn(t)),t=>EE(e,t.dom)))(o,i,a))return;if(i.firstChild===i.lastChild&&sa(i.firstChild))return s=TE(e),s.appendChild(Ds().dom),i.replaceChild(s,i.firstChild),e.selection.setCursorLocation(s,0),void e.nodeChanged();let f=i.firstChild;for(;f;)if(Wo(f)&&ja(r,f),_E(r,f)){if(AE(o,f)){l=f,f=f.nextSibling,t.remove(l);continue}if(!s){if(!c&&e.hasFocus()&&(c=Ow(e.selection.getRng(),()=>document.createElement("span"))),!f.parentNode){f=null;break}s=TE(e),i.insertBefore(s,f)}l=f,f=f.nextSibling,s.appendChild(l)}else s=null,f=f.nextSibling;c&&(e.selection.setRng(Rw(c)),e.nodeChanged())})(e))})(e),(e=>{var t;const n=e.dom,r=Rc(e),o=null!==(t=id(e))&&void 0!==t?t:"",a=(t,i)=>{if((e=>{if(QC(e)){const t=e.keyCode;return!ZC(e)&&(Sm.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||$(YC,t))}return!1})(t))return;const s=e.getBody(),l=!(e=>QC(e)&&!(ZC(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return!r||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===r.nodeName.toLowerCase()}return!1})(n,s,r);(""!==n.getAttrib(s,XC)!==l||i)&&(n.setAttrib(s,XC,l?o:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",a),e.off(l?"keyup":"keydown",a))};tt(o)&&e.on("init",t=>{a(t,!0),e.on("change SetContent ExecCommand",a),e.on("paste",t=>lm.setEditorTimeout(e,()=>a(t)))})})(e),JN(e);const a=(e=>{const t=e;return(e=>Se(e.plugins,"rtc").bind(e=>j.from(e.setup)))(e).fold(()=>(t.rtcInstance=Tx(e),j.none()),e=>(t.rtcInstance=(()=>{const e=T(null),t=T("");return{init:{bindEvents:E},undoManager:{beforeChange:E,add:e,undo:e,redo:e,clear:E,reset:E,hasUndo:L,hasRedo:L,transact:e,ignore:E,extra:E},formatter:{match:L,matchAll:T([]),matchNode:T(void 0),canApply:L,closest:t,apply:E,remove:E,toggle:E,formatChanged:T({unbind:E})},editor:{getContent:t,setContent:T({content:"",html:""}),insertContent:T(""),addVisual:E},selection:{getContent:t},autocompleter:{addDecoration:E,removeDecoration:E},raw:{getModel:T(j.none())}}})(),j.some(()=>e().then(e=>(t.rtcInstance=(e=>{const t=e=>m(e)?e:{},{init:n,undoManager:r,formatter:o,editor:a,selection:i,autocompleter:s,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(e,t,n)=>r.transact(n),ignore:(e,t)=>r.ignore(t),extra:(e,t,n,o)=>r.extra(n,o)},formatter:{match:(e,n,r,a)=>o.match(e,t(n),a),matchAll:o.matchAll,matchNode:o.matchNode,canApply:e=>o.canApply(e),closest:e=>o.closest(e),apply:(e,n,r)=>o.apply(e,t(n)),remove:(e,n,r,a)=>o.remove(e,t(n)),toggle:(e,n,r)=>o.toggle(e,t(n)),formatChanged:(e,t,n,r,a)=>o.formatChanged(t,n,r,a)},editor:{getContent:e=>a.getContent(e),setContent:(e,t)=>({content:a.setContent(e,t),html:""}),insertContent:(e,t)=>(a.insertContent(e),""),addVisual:a.addVisual},selection:{getContent:(e,t)=>i.getContent(t)},autocompleter:{addDecoration:s.addDecoration,removeDecoration:s.removeDecoration},raw:{getModel:()=>j.some(l.getRawModel())}}})(e),e.rtc.isRemote)))))})(e);(e=>{const t=e.getDoc(),n=e.getBody();(e=>{e.dispatch("PreInit")})(e),Ud(e)||(t.body.spellcheck=!1,mR.setAttrib(n,"spellcheck","false")),e.quirks=pR(e),(e=>{e.dispatch("PostRender")})(e);const r=nd(e);void 0!==r&&(n.dir=r);const o=Hd(e);o&&e.on("BeforeSetContent",e=>{ln.each(o,t=>{e.content=e.content.replace(t,e=>"\x3c!--mce:protected "+escape(e)+"--\x3e")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",t=>{e.composing="compositionstart"===t.type})})(e),(e=>{const t=gu(e);var n;p(vu(e))||!y(t)&&"INVALID"!=((e=>"gpl"===e.toLowerCase())(n=t)||(e=>e.length>=64&&e.length<=255)(n)?"VALID":"INVALID")||console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")})(e),a.fold(()=>{const t=(e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}})(e);kR(e).then(()=>{xR(e),t()})},t=>{e.setProgressState(!0),kR(e).then(()=>{t().then(t=>{e.setProgressState(!1),xR(e),Px(e)},t=>{e.notificationManager.open({type:"error",text:String(t)}),xR(e),Px(e)})})})},wR=os.DOM,SR=os.DOM,ER=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),_R=e=>{const t=e.getElement();return e.inline?ER(null):(e=>{const t=SR.create("div");return SR.insertAfter(t,e),ER(t,t)})(t)},AR=async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=ln.trim(Hc(e)),n=e.ui.registry.getAll().icons,r={...tC.get("default").icons,...tC.get(t).icons};ge(r,(t,r)=>{Ee(n,r)||e.ui.registry.addIcon(r,t)})})(e),(e=>{const t=cd(e);if(p(t)){const n=uC.get(t);e.theme=n(e,uC.urls[t])||{},C(e.theme.init)&&e.theme.init(e,uC.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=ud(e),n=nC.get(t);e.model=n(e,nC.urls[t])})(e),(e=>{const t=[];W(Nd(e),n=>{((e,t,n)=>{const r=dC.get(n),o=dC.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=ln.trim(n),r&&-1===ln.inArray(t,n)){if(e.plugins[n])return;try{const a=r(e,o)||{};e.plugins[n]=a,C(a.init)&&(a.init(e,o),t.push(n))}catch(t){((e,t,n)=>{const r=ds.translate(["Failed to initialize plugin: {0}",t]);dc(e,"PluginLoadError",{message:r}),vC(r,n),mC(e,r)})(e,n,t)}}})(e,t,(e=>e.replace(/^\-/,""))(n))})})(e);const t=await(e=>{const t=e.getElement();return e.orgDisplay=t.style.display,p(cd(e))?(e=>{const t=e.theme.renderUI;return t?t():_R(e)})(e):C(cd(e))?(e=>{const t=e.getElement(),n=cd(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n})(e):_R(e)})(e);((e,t)=>{const n={show:j.from(t.show).getOr(E),hide:j.from(t.hide).getOr(E),isEnabled:j.from(t.isEnabled).getOr(I),setEnabled:n=>{n&&("readonly"===e.mode.get()||CC(e))||j.from(t.setEnabled).each(e=>e(n))}};e.ui={...e.ui,...n}})(e,j.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(e=>{e.contentCSS=e.contentCSS.concat((e=>TC(e,Jc(e)))(e),(e=>TC(e,td(e)))(e))})(e),e.inline?CR(e):((e,t)=>{((e,t)=>{const n=rn.browser.isFirefox()?Bd(e):"Rich Text Area",r=e.translate(n),o=vr(pn(e.getElement()),"tabindex").bind(rt),a=((e,t,n,r)=>{const o=un("iframe");return r.each(e=>mr(o,"tabindex",e)),hr(o,n),hr(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),uo(o,"tox-edit-area__iframe"),o})(e.id,r,Sc(e),o).dom;a.onload=()=>{a.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=a,e.iframeHTML=(e=>{let t=Ec(e)+"<html><head>";_c(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=Ac(e),r=Tc(e),o=e.translate(Bd(e));return Nc(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Nc(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t})(e),wR.add(t.iframeContainer,a)})(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=wR.isHidden(t.editorContainer)),e.getElement().style.display="none",wR.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,(e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,CR(e)};if(lu(e)||rn.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),n()}else{const o=(r=pn(t),er(r,"load",nr,()=>{o.unbind(),n()}));t.srcdoc=e.iframeHTML}var r})(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},TR=os.DOM,NR=e=>"-"===e.charAt(0),OR=(e,t,n)=>j.from(t).filter(e=>tt(e)&&!tC.has(e)).map(t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:j.some(t)})),RR=(e,t)=>{const n=is.ScriptLoader,r=()=>{!e.removed&&(e=>{const t=cd(e);return!p(t)||x(uC.get(t))})(e)&&(e=>{const t=ud(e);return x(nC.get(t))})(e)&&AR(e)};((e,t)=>{const n=cd(e);if(p(n)&&!NR(n)&&!Ee(uC.urls,n)){const r=dd(e),o=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;uC.load(n,o).catch(()=>{((e,t,n)=>{hC(e,"ThemeLoadError",gC("theme",t,n))})(e,o,n)})}})(e,t),((e,t)=>{const n=ud(e);if("plugin"!==n&&!Ee(nC.urls,n)){const r=fd(e),o=p(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;nC.load(n,o).catch(()=>{((e,t,n)=>{hC(e,"ModelLoadError",gC("model",t,n))})(e,o,n)})}})(e,t),((e,t)=>{const n=Yc(t),r=Xc(t);if(!ds.hasCode(n)&&"en"!==n){const o=tt(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(o).catch(()=>{((e,t,n)=>{hC(e,"LanguageLoadError",gC("language",t,n))})(t,o,n)})}})(n,e),((e,t,n)=>{const r=OR(t,"default",n),o=(e=>j.from(zc(e)).filter(tt).map(e=>({url:e,name:j.none()})))(t).orThunk(()=>OR(t,Hc(t),""));W((e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})([r,o]),n=>{e.add(n.url).catch(()=>{((e,t,n)=>{hC(e,"IconsLoadError",gC("icons",t,n))})(t,n.url,n.name.getOrUndefined())})})})(n,e,t),((e,t)=>{const n=(t,n)=>{dC.load(t,n).catch(()=>{((e,t,n)=>{hC(e,"PluginLoadError",gC("plugin",t,n))})(e,n,t)})};ge(Od(e),(t,r)=>{n(r,t),e.options.set("plugins",Nd(e).concat(r))}),W(Nd(e),e=>{!(e=ln.trim(e))||dC.urls[e]||NR(e)||n(e,`plugins/${e}/plugin${t}.js`)})})(e,t),n.loadQueue().then(r,r)},PR=Gt().deviceType,DR=PR.isPhone(),MR=PR.isTablet(),BR=e=>{if(k(e))return[];{const t=g(e)?e:e.split(/[ ,]/),n=V(t,Ze);return Y(n,tt)}},LR=(e,t)=>{const n=(t=>{const n={},r={};return ke(t,(t,n)=>$(e,n),ye(n),ye(r)),{t:n,f:r}})(t);return r=n.t,o=n.f,{sections:T(r),options:T(o)};var r,o},IR=(e,t)=>Ee(e.sections(),t),jR=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Se(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),FR=(e,t)=>{var n;const r=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?ln.extend({},e.external_plugins,r):r},UR=(e,t,n,r,o)=>{var a;const i=e?{mobile:jR(null!==(a=o.mobile)&&void 0!==a?a:{},t)}:{},s=LR(["mobile"],Ie(i,o)),l=ln.extend(n,r,s.options(),((e,t)=>e&&IR(t,"mobile"))(e,s)?((e,t,n={})=>{const r=e.sections(),o=Se(r,t).getOr({});return ln.extend({},n,o)})(s,"mobile"):{},{external_plugins:FR(r,s.options())});return((e,t,n,r)=>{const o=BR(n.forced_plugins),a=BR(r.plugins),i=((e,t)=>IR(e,t)?e.sections()[t]:{})(t,"mobile"),s=((e,t,n,r)=>e&&IR(t,"mobile")?r:n)(e,t,a,i.plugins?BR(i.plugins):a),l=((e,t)=>[...BR(e),...BR(t)])(o,s);return ln.extend(r,{forced_plugins:o,plugins:l})})(e,s,r,l)},HR=e=>{(e=>{const t=t=>()=>{W("left,center,right,justify".split(","),n=>{t!==n&&e.formatter.remove("align"+n)}),"none"!==t&&(t=>{e.formatter.toggle(t,void 0),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})})(e),(e=>{const t=t=>()=>{const n=e.selection,r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return q(r,n=>x(e.formatter.matchNode(n,t)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)},zR=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?((e,t,n,r)=>{const o=pn(e.getRoot());return n=wg(o,Bl.fromRangeStart(t),r)?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),Sg(o,Bl.fromRangeEnd(t),r)?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")})(r,n.getRng(),t,e.schema):t},$R=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=(e=>{if("string"!=typeof e){const t=ln.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);ex(e,{...r,content:zR(e,n),format:"html",set:!1,selection:!0}).each(t=>{const n=((e,t,n)=>Ox(e).editor.insertContent(t,n))(e,t.content,r);tx(e,n,t),e.addVisual()})}},qR={"font-size":"size","font-family":"face"},VR=Pn("font"),WR=e=>(t,n)=>j.from(n).map(pn).filter(Tn).bind(n=>((e,t,n)=>So(pn(n),t=>(t=>Ir(t,e).orThunk(()=>VR(t)?Se(qR,e).bind(e=>vr(t,e)):j.none()))(t),e=>xn(pn(t),e)))(e,t,n.dom).or(((e,t)=>j.from(os.DOM.getStyle(t,e,!0)))(e,n.dom))).getOr(""),KR=WR("font-size"),GR=_(e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),WR("font-family")),YR=e=>Nf(e.getBody()).bind(e=>{const t=e.container();return j.from(ta(t)?t.parentNode:t)}),XR=(e,t)=>((e,t)=>(e=>j.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?j.none():j.from(e.selection.getStart(!0))}))(e).orThunk(R(YR,e)).map(pn).filter(Tn).bind(t))(e,A(j.some,t)),QR=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=(e=>ln.explode(e.options.get("font_size_style_values")))(e),o=(e=>ln.explode(e.options.get("font_size_classes")))(e);return o.length>0?o[n-1]||t:r[n-1]||t}return t}return t},ZR=e=>{const t=e.split(/\s*,\s*/);return V(t,e=>-1===e.indexOf(" ")||Ye(e,'"')||Ye(e,"'")?e:`'${e}'`).join(",")},JR=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,r=e.selection.getRng(),o=t?e.selection.getStart():e.selection.getEnd(),a=t?r.startContainer:r.endContainer,i=hT(n,a);if(!i||!i.isContentEditable)return;const s=t?sr:lr,l=Rc(e);((e,t,n,r)=>{const o=e.dom,a=e=>o.isBlock(e)&&e.parentElement===n,i=a(t)?t:o.getParent(r,a,n);return j.from(i).map(pn)})(e,o,i,a).each(t=>{const n=yT(e,a,t.dom,i,!1,l);s(t,pn(n)),e.selection.setCursorLocation(n,0),e.dispatch("NewBlock",{newBlock:n}),lT(e,"insertParagraph")})},eP=e=>{HR(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch(e){r=!0}if("paste"!==t||n.queryCommandEnabled(t)||(r=!0),r||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(rn.os.isMacOS()||rn.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"â+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let o=0;e.dom.getParent(e.selection.getNode(),t=>!Wo(t)||o++!==r||(e.selection.select(t),!1),e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),da);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{$R(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{$R(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{$R(e,r)},mceInsertContent:(t,n,r)=>{$R(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Wd(e))}})})(e),(e=>{const t=(t,n,r)=>{if(e.mode.isReadOnly())return;const o=p(r)?{href:r}:r,a=e.dom.getParent(e.selection.getNode(),"a");m(o)&&p(o.href)&&(o.href=o.href.replace(/ /g,"%20"),a&&o.href||e.formatter.remove("link"),o.href&&e.formatter.apply("link",o,a))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})})(e),(e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{kE(e,"indent")})(e)},Outdent:()=>{xE(e)}}),e.editorCommands.addCommands({Outdent:()=>vE(e)},"state")})(e),(e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{(e=>{JR(e,!0)})(e)},InsertNewBlockAfter:()=>{(e=>{JR(e,!1)})(e)}})})(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{ZT(OT,e)},mceInsertNewLine:(t,n,r)=>{JT(e,r)},InsertLineBreak:(t,n,r)=>{ZT(jT,e)}})})(e),(e=>{(e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,r)=>{t(e,{value:r})},BackColor:(e,n,r)=>{t("hilitecolor",{value:r})},FontName:(t,n,r)=>{((e,t)=>{const n=QR(e,t);e.formatter.toggle("fontname",{value:ZR(n)}),e.nodeChanged()})(e,r)},FontSize:(t,n,r)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:QR(e,t)}),e.nodeChanged()})(e,r)},LineHeight:(t,n,r)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,r)},Lang:(e,n,r)=>{var o;t(e,{value:r.code,customValue:null!==(o=r.customCode)&&void 0!==o?o:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,r)=>{t(p(r)?r:"p")},mceToggleFormat:(e,n,r)=>{t(r)}})})(e),(e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>(e=>XR(e,t=>GR(e.getBody(),t.dom)).getOr(""))(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>(e=>XR(e,t=>KR(e.getBody(),t.dom)).getOr(""))(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>(e=>XR(e,t=>{const n=pn(e.getBody()),r=So(t,e=>Ir(e,"line-height"),R(xn,n));return r.getOrThunk(()=>{const e=parseFloat(Br(t,"line-height")),n=parseFloat(Br(t,"font-size"));return String(e/n)})}).getOr(""))(e))})(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const o=null!=r?r:e.selection.getNode();if(o!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{((e,t)=>{e.removed||(t?wm(e):(e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const o=e=>{im(e).each(t=>{e.selection.setRng(t),r=t})};!xm(e)&&e.hasEditableRoot()&&o(e);const a=((e,t)=>e.dom.getParent(t,t=>"true"===e.dom.getContentEditable(t)))(e,t.getNode());if(a&&e.dom.isChildOf(a,n))return((e,t)=>null!==e.dom.getParent(t,t=>"false"===e.dom.getContentEditable(t)))(e,a)||km(n),km(a),e.hasEditableRoot()||o(e),ym(e,r),void wm(e);e.inline||(rn.browser.isOpera()||km(n),e.getWin().focus()),(rn.browser.isFirefox()||e.inline)&&(km(n),ym(e,r)),wm(e)})(e))})(e,!0===r)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)},tP=["toggleview"],nP=e=>$(tP,e.toLowerCase());class rP{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,r){const o=this.editor,a=e.toLowerCase(),i=null==r?void 0:r.skip_focus;if(o.removed)return!1;if("mcefocus"!==a&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(a)||i?(e=>{im(e).each(t=>e.selection.setRng(t))})(o):o.focus()),o.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const s=this.commands.exec[a];return!!C(s)&&(s(a,t,n),o.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!nP(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!C(n)&&n(t)}queryCommandValue(e){if(!nP(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return C(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;ge(e,(e,r)=>{W(r.toLowerCase().split(","),r=>{n[t][r]=e})})}addCommand(e,t,n){const r=e.toLowerCase();this.commands.exec[r]=(e,r,o)=>t.call(null!=n?n:this.editor,r,o)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const oP=ln.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class aP{static isNative(e){return!!oP[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||L}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),r=zi(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);const o=this.bindings[n];if(o)for(let e=0,t=o.length;e<t;e++){const t=o[e];if(!t.removed){if(t.once&&this.off(n,t.func),r.isImmediatePropagationStopped())return r;if(!1===t.func.call(this.scope,r))return r.preventDefault(),r}}return r}on(e,t,n,r){if(!1===t&&(t=L),t){const o={func:t,removed:!1};r&&ln.extend(o,r);const a=e.toLowerCase().split(" ");let i=a.length;for(;i--;){const e=a[i];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[o,...t]:[...t,o],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let r=n.length;for(;r--;){const o=n[r];let a=this.bindings[o];if(!o)return ge(this.bindings,(e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]}),this;if(a){if(t){const e=G(a,e=>e.func===t);a=e.fail,this.bindings[o]=a,W(e.pass,e=>{e.removed=!0})}else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[o])}}}else ge(this.bindings,(e,t)=>{this.toggleEvent(t,!1)}),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const iP=e=>(e._eventDispatcher||(e._eventDispatcher=new aP({scope:e,toggleEvent:(t,n)=>{aP.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),sP={fire(e,t,n){return console.warn('The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',(new Error).stack),this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return zi(e.toLowerCase(),null!=t?t:{},r);const o=iP(r).dispatch(e,t);if(!1!==n&&r.parent){let t=r.parent();for(;t&&!o.isPropagationStopped();)t.dispatch(e,o,!1),t=t.parent?t.parent():void 0}return o},on(e,t,n){return iP(this).on(e,t,n)},off(e,t){return iP(this).off(e,t)},once(e,t){return iP(this).once(e,t)},hasEventListeners(e){return iP(this).has(e)}},lP=os.DOM;let cP;const dP=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=sd(e);return n?(e.eventRoot||(e.eventRoot=lP.select(n)[0]),e.eventRoot):e.getBody()},uP=(e,t,n)=>{(e=>!e.hidden&&!CC(e))(e)?e.dispatch(t,n):CC(e)&&((e,t)=>{if((e=>"click"===e.type)(t)&&!Sm.metaKeyPressed(t)){const n=pn(t.target);((e,t)=>ao(t,"a",t=>xn(t,pn(e.getBody()))).bind(e=>vr(e,"href")))(e,n).each(n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${Ke(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else(e=>$(_C,e.type))(t)&&e.dispatch(t.type,t)})(e,n)},fP=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=dP(e,t);if(sd(e)){if(cP||(cP={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||cP&&(ge(cP,(t,n)=>{e.dom.unbind(dP(e,n))}),cP=null)})),cP[t])return;const r=n=>{const r=n.target,o=e.editorManager.get();let a=o.length;for(;a--;){const e=o[a].getBody();(e===r||lP.isChildOf(r,e))&&uP(o[a],t,n)}};cP[t]=r,lP.bind(n,t,r)}else{const r=n=>{uP(e,t,n)};lP.bind(n,t,r),e.delegates[t]=r}},pP={...sP,bindPendingEventDelegates(){const e=this;ln.each(e._pendingNativeEvents,t=>{fP(e,t)})},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?fP(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(dP(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(ge(e.delegates,(t,n)=>{e.dom.unbind(dP(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},mP=e=>p(e)?{value:e.split(/[ ,]/),valid:!0}:S(e,p)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},hP=(e,t)=>e+(nt(t.message)?"":`. ${t.message}`),gP=e=>e.valid,vP=(e,t,n="")=>{const r=t(e);return b(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},bP=e=>e.readonly,yP=["design","readonly"],kP=(e,t,n,r)=>{const o=n[t.get()],a=n[r];try{a.activate()}catch(e){return void console.error(`problem while activating editor mode ${r}:`,e)}o.deactivate(),o.editorReadOnly!==a.editorReadOnly&&((e,t)=>{const n=pn(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&(n.dom.contentEditable="true"),kC(e)):(e.readonly=!1,xC(e))})(e,a.editorReadOnly),t.set(r),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,r)},xP=e=>{const t=Te("design"),n=Te({design:{activate:E,deactivate:E,editorReadOnly:!1},readonly:{activate:E,deactivate:E,editorReadOnly:!0}});return(e=>{const t=t=>{bP(e)&&(e=>q(e,e=>"characterData"===e.type||"childList"===e.type))(t)&&(e=>{const t=e.undoManager.add();x(t)&&(e.undoManager.undo(),e.undoManager.reset())})(e)},n=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",t=>{bP(e)&&t.preventDefault()}),e.on("BeforeExecCommand",t=>{"Undo"!==t.command&&"Redo"!==t.command||!bP(e)||t.preventDefault()}),e.on("compositionstart",()=>{bP(e)&&n.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(bP(e)){const e=n.takeRecords();t(e)}n.disconnect()})})(e),(e=>{(e=>{e.serializer?EC(e):e.on("PreInit",()=>{EC(e)})})(e),(e=>{e.on("ShowCaret ObjectSelected",t=>{CC(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||SC(e,t.state)})})(e)})(e),{isReadOnly:()=>bP(e),set:r=>((e,t,n,r)=>{if(!(r===n.get()||e.initialized&&CC(e))){if(!Ee(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?kP(e,n,t,r):e.on("init",()=>kP(e,n,t,r))}})(e,n.get(),t,r),get:()=>t.get(),register:(e,t)=>{n.set(((e,t,n)=>{if($(yP,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(n.get(),e,t))}}},CP=ln.each,wP=ln.explode,SP={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},EP=ln.makeMap("alt,ctrl,shift,meta,access"),_P=e=>{const t={},n=rn.os.isMacOS()||rn.os.isiOS();CP(wP(e.toLowerCase(),"+"),e=>{(e=>e in EP)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=SP[e]||e.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let o;for(o in EP)t[o]?r.push(o):t[o]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class AP{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(CP(t.shortcuts,n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n))}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}add(e,t,n,r){const o=this,a=o.normalizeCommandFunc(n);return CP(wP(ln.trim(e)),e=>{const n=o.createShortcut(e,t,a,r);o.shortcuts[n.id]=n}),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:ln.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,r){const o=ln.map(wP(e,">"),_P);return o[o.length-1]=ln.extend(o[o.length-1],{func:n,scope:r||this.editor}),ln.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const TP=()=>{const e=(()=>{const e={},t={},n={},r={},o={},a={},i={},s={},l={},c=(e,t)=>(n,r)=>{e[n.toLowerCase()]={...r,type:t}};return{addButton:c(e,"button"),addGroupToolbarButton:c(e,"grouptoolbarbutton"),addToggleButton:c(e,"togglebutton"),addMenuButton:c(e,"menubutton"),addSplitButton:c(e,"splitbutton"),addMenuItem:c(t,"menuitem"),addNestedMenuItem:c(t,"nestedmenuitem"),addToggleMenuItem:c(t,"togglemenuitem"),addAutocompleter:c(n,"autocompleter"),addContextMenu:c(o,"contextmenu"),addContextToolbar:c(a,"contexttoolbar"),addContextForm:(d=a,(e,t)=>{d[e.toLowerCase()]={type:"contextform",...t}}),addSidebar:c(s,"sidebar"),addView:c(l,"views"),addIcon:(e,t)=>r[e.toLowerCase()]=t,addContext:(e,t)=>i[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:a,sidebars:s,views:l,contexts:i})};var d})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},NP=os.DOM,OP=ln.extend,RP=ln.each;class PP{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,OP(this,pP);const r=this;this.id=e,this.hidden=!1;const o=((e,t)=>{const n=je(t);return UR(DR||MR,DR,n,e,n)})(n.defaultOptions,t);this.options=((e,t,n=t)=>{const r={},o={},a=(e,t,n)=>{const r=vP(t,n);return gP(r)?(o[e]=r.value,!0):(console.warn(hP(`Invalid value passed for the ${e} option`,r)),!1)},i=e=>Ee(r,e);return{register:(e,n)=>{const i=(e=>p(e.processor))(n)?(e=>{const t=(()=>{switch(e){case"array":return g;case"boolean":return b;case"function":return C;case"number":return w;case"object":return m;case"string":return p;case"string[]":return mP;case"object[]":return e=>S(e,m);case"regexp":return e=>f(e,RegExp);default:return I}})();return n=>vP(n,t,`The value must be a ${e}.`)})(n.processor):n.processor,s=((e,t,n)=>{if(!y(t)){const r=vP(t,n);if(gP(r))return r.value;console.error(hP(`Invalid default value passed for the "${e}" option`,r))}})(e,n.default,i);r[e]={...n,default:s,processor:i},Se(o,e).orThunk(()=>Se(t,e)).each(t=>a(e,t,i))},isRegistered:i,get:e=>Se(o,e).orThunk(()=>Se(r,e).map(e=>e.default)).getOrUndefined(),set:(e,t)=>{if(i(e)){const n=r[e];return n.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):a(e,t,n.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=i(e);return t&&delete o[e],t},isSet:e=>Ee(o,e),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(e,t)=>b(t)||w(t)||p(t)||v(t)||g(t)||h(t)?t:Object.prototype.toString.call(t))))}catch(e){console.error(e)}}}})(0,o,t),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:wc(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:wc(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=p(e)&&tt(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=$(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>b(e)||p(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||p(e)||S(e,p);return t?p(e)?{value:V(e.split(","),Ze),valid:t}:g(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:yd(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=p(e)||S(e,p);return t?{value:g(e)?e:V(e.split(","),Ze),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=b(e)||p(e);return t?!1===e||vc.isiPhone()||vc.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!bc}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:e=>!1===e||p(e)||C(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||p(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:t=>b(t)?(e.initialized&&bu(e)!==t&&Promise.resolve().then(()=>{((e,t)=>{e.dispatch("DisabledStateChange",{state:t})})(e,t)}),{valid:!0,value:t}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:e=>{const t=S(e,p);return t?{value:e,valid:t}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Cc}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Cc}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Cc}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Cc}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>p(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>S(e,m)||!1===e?{value:cc(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:e=>{return C(e)?{value:(t=e,e=>{const n=t(e);return cc(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>S(e,kc)?{value:e,valid:!0}:kc(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:e=>{const t=$(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:e=>{const t=$(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:ds.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:yc.getAttrib(e.getElement(),"placeholder")})})})(r);const a=this.options.get;a("deprecation_warnings")&&((e,t)=>{((e,t)=>{const n=Kx(e),r=Xx(t),o=r.length>0,a=n.length>0,i="mobile"===t.theme;if(o||a||i){const e="\n- ",t=i?`\n\nThemes:${e}mobile`:"",s=o?`\n\nPlugins:${e}${r.join(e)}`:"",l=a?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+t+s+l)}})(e,t),((e,t)=>{const n=Gx(e),r=Qx(t),o=r.length>0,a=n.length>0;if(o||a){const e="\n- ",t=o?`\n\nPlugins:${e}${r.map(Zx).join(e)}`:"",i=a?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+i)}})(e,t)})(t,o);const i=a("suffix");i&&(n.suffix=i),this.suffix=n.suffix;const s=a("base_url");s&&n._setBaseUrl(s),this.baseUri=n.baseURI;const l=Gc(r);l&&(is.ScriptLoader._setReferrerPolicy(l),os.DOM.styleSheetLoader._setReferrerPolicy(l));const c=Td(r);x(c)&&os.DOM.styleSheetLoader._setContentCssCors(c),us.languageLoad=a("language_load"),us.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new Mk(_c(r),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=yd(r),this.hasVisual=Pd(r),this.shortcuts=new AP(this),this.editorCommands=new rP(this),eP(this);const d=a("cache_suffix");d&&(rn.cacheSuffix=d.replace(/^[\?\&]+/,"")),this.ui={registry:TP(),styleSheetLoader:void 0,show:E,hide:E,setEnabled:E,isEnabled:I},this.mode=xP(r),n.dispatch("SetupEditor",{editor:this});const u=Ld(r);C(u)&&u.call(r,r)}render(){(e=>{const t=e.id;ds.setCode(Yc(e));const n=()=>{TR.unbind(window,"ready",n),e.render()};if(!Gi.Event.domLoaded)return void TR.bind(window,"ready",n);if(!e.getElement())return;const r=pn(e.getElement()),o=kr(r);e.on("remove",()=>{K(r.dom.attributes,e=>yr(r,e.name)),hr(r,o)}),e.ui.styleSheetLoader=((e,t)=>Ya.forElement(e,{contentCssCors:Td(t),referrerPolicy:Gc(t)}))(r,e),yd(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const a=e.getElement().form||TR.getParent(t,"form");a&&(e.formElement=a,kd(e)&&!ea(e.getElement())&&(TR.insertAfter(TR.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},TR.bind(a,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),!xd(e)||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)))),e.windowManager=fC(e),e.notificationManager=cC(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",e=>{e.save&&(e.content=TR.encode(e.content))}),Cd(e)&&e.on("submit",()=>{e.initialized&&e.save()}),wd(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),RR(e,e.suffix)})(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return xm(this)}translate(e){return ds.translate(e)}getParam(e,t,n){const r=this.options;return r.isRegistered(e)||(x(n)?r.register(e,{processor:n,default:t}):r.register(e,{processor:I,default:t})),r.isSet(e)||y(t)?r.get(e):t}hasPlugin(e,t){return!(!$(Nd(this),e)||t&&void 0===dC.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,r){this.shortcuts.add(e,t,n,r)}execCommand(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(NP.show(e.getContainer()),NP.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(NP.hide(e.getContainer()),NP.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return"";if(n){const r={...e,load:!0},o=ea(n)?n.value:n.innerHTML,a=t.setContent(o,r);return r.no_events||t.dispatch("LoadContent",{...r,element:n}),a}return""}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return"";const r={...e,save:!0,element:n};let o=t.getContent(r);const a={...r,content:o};if(a.no_events||t.dispatch("SaveContent",a),"raw"===a.format&&t.dispatch("RawSaveContent",a),o=a.content,ea(n))n.value=o;else{!e.is_removing&&t.inline||(n.innerHTML=o);const r=NP.getParent(t.id,"form");r&&RP(r.elements,e=>e.name!==t.id||(e.value=o,!1))}return a.element=r.element=n=null,!1!==a.set_dirty&&t.setDirty(!1),o}setContent(e,t){return Hx(this,e,t)}getContent(e){return((e,t={})=>{const n=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return Zk(e,n).fold(N,t=>{const n=((e,t)=>Ox(e).editor.getContent(t))(e,t);return Jk(e,n,t)})})(this,e)}insertContent(e,t){t&&(e=OP({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?Hx(this,this.startContent,{format:"raw"}):Hx(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||NP.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=NP.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const r=this,o=r.options.get,a=jd(r);if(C(a))return a.call(r,e,n,!0,t);if(!o("convert_urls")||"link"===n||m(n)&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length)return e;const i=new Mk(e);return"http"!==i.protocol&&"https"!==i.protocol&&""!==i.protocol?e:o("relative_urls")?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o("remove_script_host"))}addVisual(e){((e,t)=>{((e,t)=>{Rx(e).editor.addVisual(t)})(e,t)})(this,e)}setEditableRoot(e){((e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,CC(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),((e,t)=>{e.dispatch("EditableRootStateChange",{state:t})})(e,t))})(this,e)}hasEditableRoot(){return this._editableRoot}remove(){(e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&x(null==o?void 0:o.nextSibling)&&Jx.remove(o.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&r&&(e=>{Jx.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),Jx.remove(e.getContainer()),eC(t),eC(n),e.destroy()}})(this)}destroy(e){((e,t)=>{const{selection:n,dom:r}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),eC(n),eC(r)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Jx.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const e=n.dom;t.selection=n.win=n.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())})(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const DP=os.DOM,MP=ln.each;let BP,LP=!1,IP=[];const jP=e=>{const t=e.type;MP(zP.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}})},FP=e=>{if(e!==LP){const t=os.DOM;e?(t.bind(window,"resize",jP),t.bind(window,"scroll",jP)):(t.unbind(window,"resize",jP),t.unbind(window,"scroll",jP)),LP=e}},UP=e=>{const t=IP;return IP=Y(IP,t=>e!==t),zP.activeEditor===e&&(zP.activeEditor=IP.length>0?IP[0]:null),zP.focusedEditor===e&&(zP.focusedEditor=null),t.length!==IP.length},HP="CSS1Compat"!==document.compatMode,zP={...sP,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"9.1",releaseDate:"2025-05-29",i18n:ds,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=Mk.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,n=o.suffix;else{const e=document.getElementsByTagName("script");for(let r=0;r<e.length;r++){const o=e[r].src||"";if(""===o)continue;const a=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==a.indexOf(".min")&&(n=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var a;e.baseURL=new Mk(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new Mk(e.baseURL),e.suffix=n,(a=e).on("AddEditor",R(vm,a)),a.on("RemoveEditor",R(bm,a))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;void 0!==r&&ge(r,(e,t)=>{us.PluginManager.urls[t]=e})},init(e){const t=this;let n;const r=ln.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let o=e=>{n=e};const a=()=>{let n=0;const i=[];let s;DP.unbind(window,"ready",a),(()=>{const n=e.onpageload;n&&n.apply(t,[])})(),s=pe((e=>rn.browser.isIE()||rn.browser.isEdge()?(vC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):HP?(vC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):p(e.selector)?DP.select(e.selector):x(e.target)?[e.target]:[])(e)),ln.each(s,e=>{var n;(n=t.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(UP(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)}),s=ln.grep(s,e=>!t.get(e.id)),0===s.length?o([]):MP(s,a=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in r)(e,a)?vC("Could not initialize inline editor on invalid inline target element",a):((e,r,a)=>{const l=new PP(e,r,t);i.push(l),l.on("init",()=>{++n===s.length&&o(i)}),l.targetElm=l.targetElm||a,l.render()})((e=>{let t=e.id;return t||(t=Se(e,"name").filter(e=>!DP.get(e)).getOrThunk(DP.uniqueId),e.setAttribute("id",t)),t})(a),e,a)})};return DP.bind(window,"ready",a),new Promise(e=>{n?e(n):o=t=>{e(t)}})},get(e){return 0===arguments.length?IP.slice(0):p(e)?J(IP,t=>t.id===e).getOr(null):w(e)&&IP[e]?IP[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&IP.push(e),FP(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),BP||(BP=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",BP))),e},createEditor(e,t){return this.add(new PP(e,t,this))},remove(e){const t=this;let n;if(e){if(!p(e))return n=e,v(t.get(n.id))?null:(UP(n)&&t.dispatch("RemoveEditor",{editor:n}),0===IP.length&&window.removeEventListener("beforeunload",BP),n.remove(),FP(IP.length>0),n);MP(DP.select(e),e=>{n=t.get(e.id),n&&t.remove(n)})}else for(let e=IP.length-1;e>=0;e--)t.remove(IP[e])},execCommand(e,t,n){var r;const o=this,a=m(n)?null!==(r=n.id)&&void 0!==r?r:n.index:n;switch(e){case"mceAddEditor":if(!o.get(a)){const e=n.options;new PP(a,e,o).render()}return!0;case"mceRemoveEditor":{const e=o.get(a);return e&&e.remove(),!0}case"mceToggleEditor":{const e=o.get(a);return e?(e.isHidden()?e.show():e.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return!!o.activeEditor&&o.activeEditor.execCommand(e,t,n)},triggerSave:()=>{MP(IP,e=>{e.save()})},addI18n:(e,t)=>{ds.add(e,t)},translate:e=>ds.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Mk(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Mk(this.baseURL)}};zP.setup();const $P=(()=>{const e=Ve();return{FakeClipboardItem:e=>({items:e,types:me(e),getType:t=>Se(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),qP=Math.min,VP=Math.max,WP=Math.round,KP=(e,t,n)=>{let r=t.x,o=t.y;const a=e.w,i=e.h,s=t.w,l=t.h,c=(n||"").split("");return"b"===c[0]&&(o+=l),"r"===c[1]&&(r+=s),"c"===c[0]&&(o+=WP(l/2)),"c"===c[1]&&(r+=WP(s/2)),"b"===c[3]&&(o-=i),"r"===c[4]&&(r-=a),"c"===c[3]&&(o-=WP(i/2)),"c"===c[4]&&(r-=WP(a/2)),GP(r,o,a,i)},GP=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),YP={inflate:(e,t,n)=>GP(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:KP,findBestRelativePosition:(e,t,n,r)=>{for(let o=0;o<r.length;o++){const a=KP(e,t,r[o]);if(a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return r[o]}return null},intersect:(e,t)=>{const n=VP(e.x,t.x),r=VP(e.y,t.y),o=qP(e.x+e.w,t.x+t.w),a=qP(e.y+e.h,t.y+t.h);return o-n<0||a-r<0?null:GP(n,r,o-n,a-r)},clamp:(e,t,n)=>{let r=e.x,o=e.y,a=e.x+e.w,i=e.y+e.h;const s=t.x+t.w,l=t.y+t.h,c=VP(0,t.x-r),d=VP(0,t.y-o),u=VP(0,a-s),f=VP(0,i-l);return r+=c,o+=d,n&&(a+=c,i+=d,r-=u,o-=f),a-=u,i-=f,GP(r,o,a-r,i-o)},create:GP,fromClientRect:e=>GP(e.left,e.top,e.width,e.height)},XP=(()=>{const e={},t={},n={};return{load:(n,r)=>{const o=`Script at URL "${r}" failed to load`,a=`Script at URL "${r}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const i=new Promise((e,i)=>{const s=((e,t,n=1e3)=>{let r=!1,o=null;const a=e=>(...t)=>{r||(r=!0,null!==o&&(window.clearTimeout(o),o=null),e.apply(null,t))},i=a(e),s=a(t);return{start:(...e)=>{r||null!==o||(o=window.setTimeout(()=>s.apply(null,e),n))},resolve:i,reject:s}})(e,i);t[n]=s.resolve,is.ScriptLoader.loadScript(r).then(()=>s.start(a),()=>s.reject(o))});return e[n]=i,i}},add:(r,o)=>{void 0!==t[r]&&(t[r](o),delete t[r]),e[r]=Promise.resolve(o),n[r]=o},has:e=>e in n,get:e=>n[e],unload:t=>{delete e[t],delete n[t]}}})();let QP;try{const e="__storage_test__";QP=window.localStorage,QP.setItem(e,e),QP.removeItem(e)}catch(e){QP=(()=>{let e={},t=[];const n={getItem:t=>e[t]||null,setItem:(n,r)=>{t.push(n),e[n]=String(r)},key:e=>t[e],removeItem:n=>{t=t.filter(e=>e===n),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})()}const ZP={geom:{Rect:YP},util:{Delay:lm,Tools:ln,VK:Sm,URI:Mk,EventDispatcher:aP,Observable:sP,I18n:ds,LocalStorage:QP,ImageUploader:e=>{const t=OC(),n=MC(e,t);return{upload:(t,r=!0)=>n.upload(t,r?DC(e):void 0)}}},dom:{EventUtils:Gi,TreeWalker:Fo,TextSeeker:Ss,DOMUtils:os,ScriptLoader:is,RangeUtils:Hm,Serializer:Ux,StyleSheetLoader:Ga,ControlSelection:Nm,BookmarkManager:Qp,Selection:Ix,Event:Gi.Event},html:{Styles:Fi,Entities:fi,Node:mh,Schema:Ni,DomParser:Yk,Writer:Ph,Serializer:Dh},Env:rn,AddOnManager:us,Annotator:Xp,Formatter:WC,UndoManager:GC,EditorCommands:rP,WindowManager:fC,NotificationManager:cC,EditorObservable:pP,Shortcuts:AP,Editor:PP,FocusManager:sm,EditorManager:zP,DOM:os.DOM,ScriptLoader:is.ScriptLoader,PluginManager:dC,ThemeManager:uC,ModelManager:nC,IconManager:tC,Resource:XP,FakeClipboard:$P,trim:ln.trim,isArray:ln.isArray,is:ln.is,toArray:ln.toArray,makeMap:ln.makeMap,each:ln.each,map:ln.map,grep:ln.grep,inArray:ln.inArray,extend:ln.extend,walk:ln.walk,resolve:ln.resolve,explode:ln.explode,_addCacheSuffix:ln._addCacheSuffix},JP=ln.extend(zP,ZP);(e=>{window.tinymce=e,window.tinyMCE=e})(JP),(t=>{try{e.exports=t}catch(e){}})(JP)}()},348:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=Object.hasOwnProperty,r=e=>"\ufeff"===e,o=e=>t=>t.options.get(e),a=o("autolink_pattern"),i=o("link_default_target"),s=o("link_default_protocol"),l=o("allow_unsafe_link_target");var c=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const d=e=>/^[(\[{ \u00a0]$/.test(e),u=(e,t,n)=>{for(let o=t-1;o>=0;o--){const t=e.charAt(o);if(!r(t)&&n(t))return o}return-1},f=(e,t)=>{var r;const o=e.schema.getVoidElements(),i=a(e),{dom:l,selection:f}=e;if(null!==l.getParent(f.getNode(),"a[href]")||e.mode.isReadOnly())return null;const p=f.getRng(),m=c(l,e=>{return l.isBlock(e)||(t=o,r=e.nodeName.toLowerCase(),n.call(t,r))||"false"===l.getContentEditable(e)||null!==l.getParent(e,"a[href]");var t,r}),{container:h,offset:g}=((e,t)=>{let n=e,r=t;for(;1===n.nodeType&&n.childNodes[r];)n=n.childNodes[r],r=3===n.nodeType?n.data.length:n.childNodes.length;return{container:n,offset:r}})(p.endContainer,p.endOffset),v=null!==(r=l.getParent(h,l.isBlock))&&void 0!==r?r:l.getRoot(),b=m.backwards(h,g+t,(e,t)=>{const n=e.data,r=u(n,t,(o=d,e=>!o(e)));var o,a;return-1===r||(a=n[r],/[?!,.;:]/.test(a))?r:r+1},v);if(!b)return null;let y=b.container;const k=m.backwards(b.container,b.offset,(e,t)=>{y=e;const n=u(e.data,t,d);return-1===n?n:n+1},v),x=l.createRng();k?x.setStart(k.container,k.offset):x.setStart(y,0),x.setEnd(b.container,b.offset);const C=x.toString().replace(/\uFEFF/g,"").match(i);if(C){let t=C[0];return(w=t).length>=4&&"www."===w.substr(0,4)?t=s(e)+"://"+t:((e,t,n=0,r)=>{const o=e.indexOf(t,n);return-1!==o&&(!!(e=>void 0===e)(r)||o+t.length<=r)})(t,"@")&&!(e=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(e))(t)&&(t="mailto:"+t),{rng:x,url:t}}var w;return null},p=(e,t)=>{const{dom:n,selection:r}=e,{rng:o,url:a}=t,s=r.getBookmark();r.setRng(o);const c="createlink",d={command:c,ui:!1,value:a};if(!e.dispatch("BeforeExecCommand",d).isDefaultPrevented()){e.getDoc().execCommand(c,!1,a),e.dispatch("ExecCommand",d);const t=i(e);if((e=>"string"===(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,(o=String).prototype.isPrototypeOf(n)||(null===(a=r.constructor)||void 0===a?void 0:a.name)===o.name)?"string":t;var n,r,o,a})(e))(t)){const o=r.getNode();n.setAttrib(o,"target",t),"_blank"!==t||l(e)||n.setAttrib(o,"rel","noopener")}}r.moveToBookmark(s),e.nodeChanged()},m=e=>{const n=f(e,-1);t(n)&&p(e,n)},h=m;e.add("autolink",e=>{(e=>{const t=e.options.register;t("autolink_pattern",{processor:"regexp",default:new RegExp("^"+/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g.source+"$","i")}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"})})(e),(e=>{e.on("keydown",n=>{13!==n.keyCode||n.isDefaultPrevented()||(e=>{const n=f(e,0);t(n)&&p(e,n)})(e)}),e.on("keyup",t=>{32===t.keyCode?m(e):(48===t.keyCode&&t.shiftKey||221===t.keyCode)&&h(e)})})(e)})}()},425:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,(o=String).prototype.isPrototypeOf(n)||(null===(a=r.constructor)||void 0===a?void 0:a.name)===o.name)?"string":t;var n,r,o,a})(t)===e,n=e=>t=>typeof t===e,r=t("string"),o=t("object"),a=t("array"),i=n("boolean"),s=e=>!(e=>null==e)(e),l=n("function"),c=(e,t)=>{if(a(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},d=()=>{},u=(e,t)=>e===t;class f{constructor(e,t){this.tag=e,this.value=t}static some(e){return new f(!0,e)}static none(){return f.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?f.some(e(this.value)):f.none()}bind(e){return this.tag?e(this.value):f.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:f.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return s(e)?f.some(e):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}f.singletonNone=new f(!1),Array.prototype.slice;const p=Array.prototype.indexOf,m=Array.prototype.push,h=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);m.apply(t,e[n])}return t};l(Array.from)&&Array.from;const g=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return f.none()},v=Object.keys,b=Object.hasOwnProperty,y=(e,t)=>b.call(e,t),k=(e,t,n=u)=>e.exists(e=>n(e,t)),x=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},C=(e,t)=>e?f.some(t):f.none(),w=e=>t=>t.options.get(e),S=w("link_assume_external_targets"),E=w("link_context_toolbar"),_=w("link_list"),A=w("link_default_target"),T=w("link_default_protocol"),N=w("link_target_list"),O=w("link_rel_list"),R=w("link_class_list"),P=w("link_title"),D=w("allow_unsafe_link_target"),M=w("link_quicklink"),B=w("link_attributes_postprocess");var L=tinymce.util.Tools.resolve("tinymce.util.URI"),I=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),j=tinymce.util.Tools.resolve("tinymce.util.Tools");const F=e=>s(e)&&"a"===e.nodeName.toLowerCase(),U=e=>F(e)&&!!$(e),H=(e,t)=>{if(e.collapsed)return[];{const n=e.cloneContents(),r=n.firstChild,o=new I(r,n),a=[];let i=r;do{t(i)&&a.push(i)}while(i=o.next());return a}},z=e=>/^\w+:/i.test(e),$=e=>{var t,n;return null!==(n=null!==(t=e.getAttribute("data-mce-href"))&&void 0!==t?t:e.getAttribute("href"))&&void 0!==n?n:""},q=(e,t)=>{const n=["noopener"],r=e?e.split(/\s+/):[],o=e=>e.filter(e=>-1===j.inArray(n,e)),a=t?(e=>(e=o(e)).length>0?e.concat(n):n)(r):o(r);return a.length>0?(e=>j.trim(e.sort().join(" ")))(a):""},V=(e,t)=>(t=t||G(e.selection.getRng())[0]||e.selection.getNode(),Z(t)?f.from(e.dom.select("a[href]",t)[0]):f.from(e.dom.getParent(t,"a[href]"))),W=(e,t)=>V(e,t).isSome(),K=(e,t)=>t.fold(()=>e.getContent({format:"text"}),e=>e.innerText||e.textContent||"").replace(/\uFEFF/g,""),G=e=>H(e,U),Y=e=>j.grep(e,U),X=e=>Y(e).length>0,Q=e=>{const t=e.schema.getTextInlineElements();if(V(e).exists(e=>e.hasAttribute("data-mce-block")))return!1;const n=e.selection.getRng();return!!n.collapsed||0===H(n,e=>1===e.nodeType&&!F(e)&&!y(t,e.nodeName.toLowerCase())).length},Z=e=>s(e)&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),J=(e,t,n)=>{const r=((e,t)=>{const n=e.options.get,r={allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")},o=t.href;return{...t,href:L.isDomSafe(o,"a",r)?o:""}})(e,n);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,(e=>{const{class:t,href:n,rel:r,target:o,text:a,title:i}=e;return(e=>{const t={};var n;return((e,t,n,r)=>{((e,t)=>{const n=v(e);for(let r=0,o=n.length;r<o;r++){const o=n[r];t(e[o],o)}})(e,(e,t)=>{((e=>!1===(e=>null===e)(e))(e)?n:r)(e,t)})})(e,0,(n=t,(e,t)=>{n[t]=e}),d),t})({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:a.getOrNull(),title:i.getOrNull()})})(r)):((e,t,n)=>{const r=e.selection.getNode(),o=V(e,r),a=((e,t)=>{const n={...t};if(0===O(e).length&&!D(e)){const e=q(n.rel,"_blank"===n.target);n.rel=e||null}return f.from(n.target).isNone()&&!1===N(e)&&(n.target=A(e)),n.href=((e,t)=>"http"!==t&&"https"!==t||z(e)?e:t+"://"+e)(n.href,S(e)),n})(e,(e=>{return t=["title","rel","class","target"],n=(t,n)=>(e[n].each(e=>{t[n]=e.length>0?e:null}),t),r={href:e.href},((e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n])})(t,(e,t)=>{r=n(r,e)}),r;var t,n,r})(n)),i=B(e);s(i)&&i(a),e.undoManager.transact(()=>{n.href===t.href&&t.attach(),o.fold(()=>{((e,t,n,r)=>{const o=e.dom;Z(t)?ne(o,t,r):n.fold(()=>{e.execCommand("mceInsertLink",!1,r);const t=e.selection.getEnd(),n=o.createRng();n.setStartAfter(t),n.setEndAfter(t),e.selection.setRng(n)},t=>{e.insertContent(o.createHTML("a",r,o.encode(t)))})})(e,r,n.text,a)},t=>{e.focus(),((e,t,n,r)=>{n.each(e=>{y(t,"innerText")?t.innerText=e:t.textContent=e}),e.dom.setAttribs(t,r);const o=e.dom.createRng();o.setStartAfter(t),o.setEndAfter(t),e.selection.setRng(o)})(e,t,n.text,a)})})})(e,t,r)},ee=e=>{e.hasPlugin("rtc",!0)?e.execCommand("unlink"):(e=>{e.undoManager.transact(()=>{const t=e.selection.getNode();Z(t)?te(e,t):(e=>{const t=e.dom,n=e.selection,r=n.getBookmark(),o=n.getRng().cloneRange(),a=t.getParent(o.startContainer,"a[href]",e.getBody()),i=t.getParent(o.endContainer,"a[href]",e.getBody());a&&o.setStartBefore(a),i&&o.setEndAfter(i),n.setRng(o),e.execCommand("unlink"),n.moveToBookmark(r)})(e),e.focus()})})(e)},te=(e,t)=>{var n;const r=e.dom.select("img",t)[0];if(r){const o=e.dom.getParents(r,"a[href]",t)[0];o&&(null===(n=o.parentNode)||void 0===n||n.insertBefore(r,o),e.dom.remove(o))}},ne=(e,t,n)=>{var r;const o=e.select("img",t)[0];if(o){const t=e.create("a",n);null===(r=o.parentNode)||void 0===r||r.insertBefore(t,o),t.appendChild(o)}},re=e=>r(e.value)?e.value:"",oe=(e,t)=>{const n=[];return j.each(e,e=>{const o=(e=>r(e.text)?e.text:r(e.title)?e.title:"")(e);if(void 0!==e.menu){const r=oe(e.menu,t);n.push({text:o,items:r})}else{const r=t(e);n.push({text:o,value:r})}}),n},ae=(e=re)=>t=>f.from(t).map(t=>oe(t,e)),ie=e=>ae(re)(e),se=ae,le=(e,t)=>n=>({name:e,type:"listbox",label:t,items:n}),ce=re,de=(e,t)=>g(t,t=>(e=>{return y(t=e,n="items")&&void 0!==t[n]&&null!==t[n];var t,n})(t)?de(e,t.items):C(t.value===e,t));var ue=tinymce.util.Tools.resolve("tinymce.util.Delay");const fe=e=>{const t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?f.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):f.none()},pe=(e,t)=>n=>{const r=n.href;return 1===e&&!z(r)||0===e&&/^\s*www(\.|\d\.)/i.test(r)?f.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+r})}):f.none()},me=e=>{const t=e.dom.select("a:not([href])"),n=h(((e,t)=>{const n=e.length,r=new Array(n);for(let o=0;o<n;o++){const n=e[o];r[o]=t(n)}return r})(t,e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?f.some([{text:"None",value:""}].concat(n)):f.none()},he=e=>{const t=R(e);return t.length>0?ie(t):f.none()},ge=e=>{try{return f.some(JSON.parse(e))}catch(e){return f.none()}},ve=(e,t)=>{const n=O(e);if(n.length>0){const r=k(t,"_blank"),o=e=>q(ce(e),r);return(!1===D(e)?se(o):ie)(n)}return f.none()},be=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ye=e=>{const t=N(e);return a(t)?ie(t).orThunk(()=>f.some(be)):!1===t?f.none():f.some(be)},ke=(e,t,n)=>{const r=e.getAttrib(t,n);return null!==r&&r.length>0?f.some(r):f.none()};var xe=tinymce.util.Tools.resolve("tinymce.util.VK");const Ce=(e,t)=>{if(t){const r=$(t);if(/^#/.test(r)){const t=e.dom.select(`${r},[name="${n=r,(e=>(e=>e.length>=1&&"#"===e.substr(0,1))(e))(n)?(e=>e.substring(1))(n):n}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else(e=>{const t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";const n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(n),((e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)})(t,n)})(t.href)}var n},we=(e,t)=>{const n=Y(e.dom.getParents(t));return C(1===n.length,n[0])},Se=e=>e.selection.isCollapsed()||(e=>{const t=e.selection.getRng(),n=t.startContainer;return U(n)&&t.startContainer===t.endContainer&&1===e.dom.select("img",n).length})(e)?we(e,e.selection.getStart()):(e=>{const t=G(e.selection.getRng());return C(t.length>0,t[0]).or(we(e,e.selection.getNode()))})(e),Ee=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},_e=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),Ae=e=>t=>{const n=()=>{t.setActive(!e.mode.isReadOnly()&&W(e,e.selection.getNode())),t.setEnabled(e.selection.isEditable())};return n(),_e(e,n)},Te=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return n(),_e(e,n)},Ne=e=>t=>{const n=e.dom.getParents(e.selection.getStart()),r=n=>{t.setEnabled((t=>{return X(t)||(n=e.selection.getRng(),G(n).length>0);var n})(n)&&e.selection.isEditable())};return r(n),_e(e,e=>r(e.parents))};e.add("link",e=>{(e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=r(e)||i(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),t("link_context_toolbar",{processor:"boolean",default:!1}),t("link_list",{processor:e=>r(e)||l(e)||c(e,o)}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"}),t("link_target_list",{processor:e=>i(e)||c(e,o),default:!0}),t("link_rel_list",{processor:"object[]",default:[]}),t("link_class_list",{processor:"object[]",default:[]}),t("link_title",{processor:"boolean",default:!0}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("link_quicklink",{processor:"boolean",default:!1}),t("link_attributes_postprocess",{processor:"function"})})(e),(e=>{e.addCommand("mceLink",(t,n)=>{!0!==(null==n?void 0:n.dialog)&&M(e)?e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):(e=>{const t=(e=>((e,t)=>(e=>{const t=t=>e.convertURL(t.value||t.url||"","href"),n=_(e);return new Promise(e=>{r(n)?fetch(n).then(e=>e.ok?e.text().then(ge):Promise.reject()).then(e,()=>e(f.none())):l(n)?n(t=>e(f.some(t))):e(f.from(n))}).then(e=>e.bind(se(t)).map(e=>e.length>0?[{text:"None",value:""}].concat(e):e))})(e).then(n=>{const r=((e,t)=>{const n=e.dom,r=Q(e)?f.some(K(e.selection,t)):f.none(),o=t.bind(e=>f.from(n.getAttrib(e,"href"))),a=t.bind(e=>f.from(n.getAttrib(e,"target"))),i=t.bind(e=>ke(n,e,"rel")),s=t.bind(e=>ke(n,e,"class"));return{url:o,text:r,title:t.bind(e=>ke(n,e,"title")),target:a,rel:i,linkClass:s}})(e,t);return{anchor:r,catalogs:{targets:ye(e),rels:ve(e,r.target),classes:he(e),anchor:me(e),link:n},optNode:t,flags:{titleEnabled:P(e)}}}))(e,V(e)))(e);t.then(t=>{const n=((e,t)=>n=>{const r=n.getData();if(!r.url.value)return ee(e),void n.close();const o=e=>f.from(r[e]).filter(n=>!k(t.anchor[e],n)),a={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},i={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:d};((e,t)=>g([fe,pe(S(e),T(e))],e=>e(t)).fold(()=>Promise.resolve(t),n=>new Promise(r=>{((e,t,n)=>{const r=e.selection.getRng();ue.setEditorTimeout(e,()=>{e.windowManager.confirm(t,t=>{e.selection.setRng(r),n(t)})})})(e,n.message,e=>{r(e?n.preprocess(t):t)})})))(e,a).then(t=>{J(e,i,t)}),n.close()})(e,t);return((e,t,n)=>{const r=e.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),o=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=((e,t)=>{const n=e.anchor,r=n.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}})(e,f.from(A(n))),i=e.catalogs,s=((e,t)=>{const n={text:e.text,title:e.title},r=(e,r)=>{const o=(a=t,i=r,"link"===i?a.link:"anchor"===i?a.anchor:f.none()).getOr([]);var a,i;return((e,t,n,r)=>{const o=r[t],a=e.length>0;return void 0!==o?de(o,n).map(t=>({url:{value:t.value,meta:{text:a?e:t.text,attach:d}},text:a?e:t.text})):f.none()})(n.text,r,o,e)};return{onChange:(e,t)=>{const o=t.name;return"url"===o?(e=>{const t=(r=e.url,C(n.text.length<=0,f.from(null===(o=r.meta)||void 0===o?void 0:o.text).getOr(r.value)));var r,o;const a=(e=>{var t;return C(n.title.length<=0,f.from(null===(t=e.meta)||void 0===t?void 0:t.title).getOr(""))})(e.url);return t.isSome()||a.isSome()?f.some({...t.map(e=>({text:e})).getOr({}),...a.map(e=>({title:e})).getOr({})}):f.none()})(e()):((e,t)=>p.call(["anchor","link"],t))(0,o)>-1?r(e(),o):"text"===o||"title"===o?(n[o]=e()[o],f.none()):f.none()}}})(a,i);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:h([[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],r,o,x([i.anchor.map(le("anchor","Anchors")),i.rels.map(le("rel","Rel")),i.targets.map(le("target","Open link in...")),i.link.map(le("link","Link list")),i.classes.map(le("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onChange:(e,{name:t})=>{s.onChange(e.getData,{name:t}).each(t=>{e.setData(t)})},onSubmit:t}})(t,n,e)}).then(t=>{e.windowManager.open(t)})})(e)})})(e),(e=>{const t=(e=>{const t=(()=>{const e=(e=>{const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(f.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(f.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(f.some(e))}}})(d);return{...e,on:t=>e.get().each(t)}})(),n=()=>t.get().or(Se(e));return e.on("contextmenu",n=>{we(e,n.target).each(t.set)}),e.on("SelectionChange",()=>{t.isSet()||Se(e).each(t.set)}),e.on("click",n=>{t.clear();const r=Y(e.dom.getParents(n.target));1===r.length&&xe.metaKeyPressed(n)&&(n.preventDefault(),Ce(e,r[0]))}),e.on("keydown",r=>{t.clear(),!r.isDefaultPrevented()&&13===r.keyCode&&(e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey)(r)&&n().each(t=>{r.preventDefault(),Ce(e,t)})}),{gotoSelectedLink:()=>n().each(t=>Ce(e,t))}})(e);((e,t)=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Ee(e),onSetup:Ae(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:t.gotoSelectedLink,onSetup:Ne(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>ee(e),onSetup:Ne(e)})})(e,t),((e,t)=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:t.gotoSelectedLink,onSetup:Ne(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ee(e),onSetup:Te(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>ee(e),onSetup:Ne(e)})})(e,t),(e=>{e.ui.registry.addContextMenu("link",{update:t=>e.dom.isEditable(t)?X(e.dom.getParents(t,"a"))?"link unlink openlink":"link":""})})(e),((e,t)=>{const n=t=>{const n=e.selection.getNode();return t.setEnabled(W(e,n)&&e.selection.isEditable()),d};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ae(e)},label:"Link",predicate:t=>E(e)&&W(e,t),initValue:()=>V(e).fold(()=>"",$),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:t=>{const n=e.selection.getNode();return t.setActive(W(e,n)),Ae(e)(t)},onAction:t=>{const n=t.getValue(),r=(t=>{const n=V(e),r=Q(e);if(n.isNone()&&r){const r=K(e.selection,n);return C(0===r.length,t)}return f.none()})(n);J(e,{href:n,attach:d},{href:n,text:r,title:f.none(),rel:f.none(),target:f.from(A(e)),class:f.none()}),(e=>{e.selection.collapse(!1)})(e),t.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:t=>{ee(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:e=>{t.gotoSelectedLink(),e.hide()}}]})})(e,t)})(e),(e=>{e.addShortcut("Meta+K","",()=>{e.execCommand("mceLink")})})(e)})}()},660:function(e){"undefined"!=typeof self&&self,e.exports=function(){"use strict";var e={3976:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(e,t){return"function"==typeof t.onBeforeMask?t.onBeforeMask.call(this,e,t):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}}},7392:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={9:{validator:"[0-9ï¼-ï¼]",definitionSymbol:"*"},a:{validator:"[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",definitionSymbol:"*"},"*":{validator:"[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]"}}},253:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===n)return e.__data?e.__data[t]:null;e.__data=e.__data||{},e.__data[t]=n}},3776:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0,t.off=function(e,t){var n,r;return d(this[0])&&e&&(n=this[0].eventRegistry,r=this[0],e.split(" ").forEach(function(e){var o=i(e.split("."),2);(function(e,r){var o,a,i=[];if(e.length>0)if(void 0===t)for(o=0,a=n[e][r].length;o<a;o++)i.push({ev:e,namespace:r&&r.length>0?r:"global",handler:n[e][r][o]});else i.push({ev:e,namespace:r&&r.length>0?r:"global",handler:t});else if(r.length>0)for(var s in n)for(var l in n[s])if(l===r)if(void 0===t)for(o=0,a=n[s][l].length;o<a;o++)i.push({ev:s,namespace:l,handler:n[s][l][o]});else i.push({ev:s,namespace:l,handler:t});return i})(o[0],o[1]).forEach(function(e){var t=e.ev,o=e.handler;!function(e,t,o){if(e in n==1)if(r.removeEventListener?r.removeEventListener(e,o,!1):r.detachEvent&&r.detachEvent("on".concat(e),o),"global"===t)for(var a in n[e])n[e][a].splice(n[e][a].indexOf(o),1);else n[e][t].splice(n[e][t].indexOf(o),1)}(t,e.namespace,o)})})),this},t.on=function(e,t){if(d(this[0])){var n=this[0].eventRegistry,r=this[0];e.split(" ").forEach(function(e){var o=i(e.split("."),2),a=o[0],s=o[1];!function(e,o){r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent("on".concat(e),t),n[e]=n[e]||{},n[e][o]=n[e][o]||[],n[e][o].push(t)}(a,void 0===s?"global":s)})}return this},t.trigger=function(e){var t=arguments;if(d(this[0]))for(var n=this[0].eventRegistry,r=this[0],i="string"==typeof e?e.split(" "):[e.type],s=0;s<i.length;s++){var l=i[s].split("."),u=l[0],f=l[1]||"global";if(void 0!==c&&"global"===f){var p,m={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(c.createEvent){try{"input"===u?(m.inputType="insertText",p=new InputEvent(u,m)):p=new CustomEvent(u,m)}catch(e){(p=c.createEvent("CustomEvent")).initCustomEvent(u,m.bubbles,m.cancelable,m.detail)}e.type&&(0,o.default)(p,e),r.dispatchEvent(p)}else(p=c.createEventObject()).eventType=u,p.detail=arguments[1],e.type&&(0,o.default)(p,e),r.fireEvent("on"+p.eventType,p)}else if(void 0!==n[u]){arguments[0]=arguments[0].type?arguments[0]:a.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var h=n[u];("global"===f?Object.values(h).flat():h[f]).forEach(function(e){return e.apply(r,t)})}}return this};var r=l(n(9380)),o=l(n(600)),a=l(n(4963));function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return e&&e.__esModule?e:{default:e}}var c=r.default.document;function d(e){return e instanceof Element}var u=t.Event=void 0;"function"==typeof r.default.CustomEvent?t.Event=u=r.default.CustomEvent:r.default.Event&&c&&c.createEvent?(t.Event=u=function(e,t){t=t||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var n=c.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},u.prototype=r.default.Event.prototype):"undefined"!=typeof Event&&(t.Event=u=Event)},600:function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){var t,r,o,a,i,s,l=arguments[0]||{},c=1,d=arguments.length,u=!1;for("boolean"==typeof l&&(u=l,l=arguments[c]||{},c++),"object"!==n(l)&&"function"!=typeof l&&(l={});c<d;c++)if(null!=(t=arguments[c]))for(r in t)o=l[r],l!==(a=t[r])&&(u&&a&&("[object Object]"===Object.prototype.toString.call(a)||(i=Array.isArray(a)))?(i?(i=!1,s=o&&Array.isArray(o)?o:[]):s=o&&"[object Object]"===Object.prototype.toString.call(o)?o:{},l[r]=e(u,s,a)):void 0!==a&&(l[r]=a));return l}},4963:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(9380)),o=s(n(253)),a=n(3776),i=s(n(600));function s(e){return e&&e.__esModule?e:{default:e}}var l=r.default.document;function c(e){return e instanceof c?e:this instanceof c?void(null!=e&&e!==r.default&&(this[0]=e.nodeName?e:void 0!==e[0]&&e[0].nodeName?e[0]:l.querySelector(e),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new c(e)}c.prototype={on:a.on,off:a.off,trigger:a.trigger},c.extend=i.default,c.data=o.default,c.Event=a.Event,t.default=c},9845:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mobile=t.iphone=t.ie=void 0;var r,o=(r=n(9380))&&r.__esModule?r:{default:r},a=o.default.navigator&&o.default.navigator.userAgent||"";t.ie=a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0,t.mobile=o.default.navigator&&o.default.navigator.userAgentData&&o.default.navigator.userAgentData.mobile||o.default.navigator&&o.default.navigator.maxTouchPoints||"ontouchstart"in o.default,t.iphone=/iphone/i.test(a)},7184:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(n,"\\$1")};var n=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandlers=void 0;var o,a=n(9845),i=(o=n(9380))&&o.__esModule?o:{default:o},s=n(7760),l=n(2839),c=n(8711),d=n(7215),u=n(4713);function f(){f=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),s=new P(r||[]);return a(i,"_invoke",{value:T(e,n,s)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",h="suspendedYield",g="executing",v="completed",b={};function y(){}function k(){}function x(){}var C={};d(C,s,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(D([])));S&&S!==n&&o.call(S,s)&&(C=S);var E=x.prototype=y.prototype=Object.create(C);function _(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function A(e,t){function n(a,i,s,l){var c=p(e[a],e,i);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==r(u)&&o.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(u).then(function(e){d.value=e,s(d)},function(e){return n("throw",e,s,l)})}l(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o)})}return i=i?i.then(o,o):o()}})}function T(t,n,r){var o=m;return function(a,i){if(o===g)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=N(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var c=p(t,n,r);if("normal"===c.type){if(o=r.done?v:h,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(r(t)+" is not iterable")}return k.prototype=x,a(E,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:k,configurable:!0}),k.displayName=d(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},_(A.prototype),d(A.prototype,l,function(){return this}),t.AsyncIterator=A,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new A(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(E),d(E,c,"Generator"),d(E,s,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;R(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var g,v,b=t.EventHandlers={keyEvent:function(e,t,n,r,o){var i=this.inputmask,f=i.opts,p=i.dependencyLib,m=i.maskset,h=this,g=p(h),v=e.key,y=c.caret.call(i,h),k=f.onKeyDown.call(this,e,c.getBuffer.call(i),y,f);if(void 0!==k)return k;if(v===l.keys.Backspace||v===l.keys.Delete||a.iphone&&v===l.keys.BACKSPACE_SAFARI||e.ctrlKey&&v===l.keys.x&&!("oncut"in h))e.preventDefault(),d.handleRemove.call(i,h,v,y),(0,s.writeBuffer)(h,c.getBuffer.call(i,!0),m.p,e,h.inputmask._valueGet()!==c.getBuffer.call(i).join(""));else if(v===l.keys.End||v===l.keys.PageDown){e.preventDefault();var x=c.seekNext.call(i,c.getLastValidPosition.call(i));c.caret.call(i,h,e.shiftKey?y.begin:x,x,!0)}else v===l.keys.Home&&!e.shiftKey||v===l.keys.PageUp?(e.preventDefault(),c.caret.call(i,h,0,e.shiftKey?y.begin:0,!0)):f.undoOnEscape&&v===l.keys.Escape&&!0!==e.altKey?((0,s.checkVal)(h,!0,!1,i.undoValue.split("")),g.trigger("click")):v!==l.keys.Insert||e.shiftKey||e.ctrlKey||void 0!==i.userOptions.insertMode?!0===f.tabThrough&&v===l.keys.Tab?!0===e.shiftKey?(y.end=c.seekPrevious.call(i,y.end,!0),!0===u.getTest.call(i,y.end-1).match.static&&y.end--,y.begin=c.seekPrevious.call(i,y.end,!0),y.begin>=0&&y.end>0&&(e.preventDefault(),c.caret.call(i,h,y.begin,y.end))):(y.begin=c.seekNext.call(i,y.begin,!0),y.end=c.seekNext.call(i,y.begin,!0),y.end<m.maskLength&&y.end--,y.begin<=m.maskLength&&(e.preventDefault(),c.caret.call(i,h,y.begin,y.end))):e.shiftKey||(f.insertModeVisual&&!1===f.insertMode?v===l.keys.ArrowRight?setTimeout(function(){var e=c.caret.call(i,h);c.caret.call(i,h,e.begin)},0):v===l.keys.ArrowLeft&&setTimeout(function(){var e=c.translatePosition.call(i,h.inputmask.caretPos.begin);c.translatePosition.call(i,h.inputmask.caretPos.end),i.isRTL?c.caret.call(i,h,e+(e===m.maskLength?0:1)):c.caret.call(i,h,e-(0===e?0:1))},0):void 0===i.keyEventHook||i.keyEventHook(e)):d.isSelection.call(i,y)?f.insertMode=!f.insertMode:(f.insertMode=!f.insertMode,c.caret.call(i,h,y.begin,y.begin));return i.isComposing=v==l.keys.Process||v==l.keys.Unidentified,i.ignorable=v.length>1&&!("textarea"===h.tagName.toLowerCase()&&v==l.keys.Enter),b.keypressEvent.call(this,e,t,n,r,o)},keypressEvent:function(e,t,n,r,o){var a=this.inputmask||this,i=a.opts,u=a.dependencyLib,f=a.maskset,p=a.el,m=u(p),h=e.key;if(!0===t||e.ctrlKey&&e.altKey&&!a.ignorable||!(e.ctrlKey||e.metaKey||a.ignorable)){if(h){var g,v=t?{begin:o,end:o}:c.caret.call(a,p);t||(h=i.substitutes[h]||h),f.writeOutBuffer=!0;var b=d.isValid.call(a,v,h,r,void 0,void 0,void 0,t);if(!1!==b&&(c.resetMaskSet.call(a,!0),g=void 0!==b.caret?b.caret:c.seekNext.call(a,b.pos.begin?b.pos.begin:b.pos),f.p=g),g=i.numericInput&&void 0===b.caret?c.seekPrevious.call(a,g):g,!1!==n&&(setTimeout(function(){i.onKeyValidation.call(p,h,b)},0),f.writeOutBuffer&&!1!==b)){var y=c.getBuffer.call(a);(0,s.writeBuffer)(p,y,g,e,!0!==t)}if(e.preventDefault(),t)return!1!==b&&(b.forwardPosition=g),b}}else h===l.keys.Enter&&a.undoValue!==a._valueGet(!0)&&(a.undoValue=a._valueGet(!0),setTimeout(function(){m.trigger("change")},0))},pasteEvent:(g=f().mark(function e(t){var n,r,o,a,l,d;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e,n,r,o,i){var l=c.caret.call(e,n,void 0,void 0,!0),d=r.substr(0,l.begin),u=r.substr(l.end,r.length);if(d==(e.isRTL?c.getBufferTemplate.call(e).slice().reverse():c.getBufferTemplate.call(e)).slice(0,l.begin).join("")&&(d=""),u==(e.isRTL?c.getBufferTemplate.call(e).slice().reverse():c.getBufferTemplate.call(e)).slice(l.end).join("")&&(u=""),o=d+o+u,e.isRTL&&!0!==a.numericInput){o=o.split("");var f,m=p(c.getBufferTemplate.call(e));try{for(m.s();!(f=m.n()).done;){var h=f.value;o[0]===h&&o.shift()}}catch(e){m.e(e)}finally{m.f()}o=o.reverse().join("")}var g=o;if("function"==typeof i){if(!1===(g=i.call(e,g,a)))return!1;g||(g=r)}(0,s.checkVal)(n,!0,!1,g.toString().split(""),t)},r=this,o=this.inputmask,a=o.opts,l=o._valueGet(!0),o.skipInputEvent=!0,t.clipboardData&&t.clipboardData.getData?d=t.clipboardData.getData("text/plain"):i.default.clipboardData&&i.default.clipboardData.getData&&(d=i.default.clipboardData.getData("Text")),n(o,r,l,d,a.onBeforePaste),t.preventDefault();case 7:case"end":return e.stop()}},e,this)}),v=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=g.apply(e,t);function a(e){h(o,n,r,a,i,"next",e)}function i(e){h(o,n,r,a,i,"throw",e)}a(void 0)})},function(e){return v.apply(this,arguments)}),inputFallBackEvent:function(e){var t,n=this.inputmask,r=n.opts,o=n.dependencyLib,i=this,d=i.inputmask._valueGet(!0),f=(n.isRTL?c.getBuffer.call(n).slice().reverse():c.getBuffer.call(n)).join(""),p=c.caret.call(n,i,void 0,void 0,!0);if(f!==d){if(t=function(e,t,o){for(var a,i,s,l=e.substr(0,o.begin).split(""),d=e.substr(o.begin).split(""),f=t.substr(0,o.begin).split(""),p=t.substr(o.begin).split(""),m=l.length>=f.length?l.length:f.length,h=d.length>=p.length?d.length:p.length,g="",v=[],b="~";l.length<m;)l.push(b);for(;f.length<m;)f.push(b);for(;d.length<h;)d.unshift(b);for(;p.length<h;)p.unshift(b);var y=l.concat(d),k=f.concat(p);for(i=0,a=y.length;i<a;i++)switch(s=u.getPlaceholder.call(n,c.translatePosition.call(n,i)),g){case"insertText":k[i-1]===y[i]&&o.begin==y.length-1&&v.push(y[i]),i=a;break;case"insertReplacementText":case"deleteContentBackward":y[i]===b?o.end++:i=a;break;default:y[i]!==k[i]&&(y[i+1]!==b&&y[i+1]!==s&&void 0!==y[i+1]||(k[i]!==s||k[i+1]!==b)&&k[i]!==b?k[i+1]===b&&k[i]===y[i+1]?(g="insertText",v.push(y[i]),o.begin--,o.end--):y[i]!==s&&y[i]!==b&&(y[i+1]===b||k[i]!==y[i]&&k[i+1]===y[i+1])?(g="insertReplacementText",v.push(y[i]),o.begin--):y[i]===b?(g="deleteContentBackward",(c.isMask.call(n,c.translatePosition.call(n,i),!0)||k[i]===r.radixPoint)&&o.end++):i=a:(g="insertText",v.push(y[i]),o.begin--,o.end--))}return{action:g,data:v,caret:o}}(d,f,p),(i.inputmask.shadowRoot||i.ownerDocument).activeElement!==i&&i.focus(),(0,s.writeBuffer)(i,c.getBuffer.call(n)),c.caret.call(n,i,p.begin,p.end,!0),!a.mobile&&n.skipNextInsert&&"insertText"===e.inputType&&"insertText"===t.action&&n.isComposing)return!1;switch("insertCompositionText"===e.inputType&&"insertText"===t.action&&n.isComposing?n.skipNextInsert=!0:n.skipNextInsert=!1,t.action){case"insertText":case"insertReplacementText":t.data.forEach(function(e,t){var r=new o.Event("keypress");r.key=e,n.ignorable=!1,b.keypressEvent.call(i,r)}),setTimeout(function(){n.$el.trigger("keyup")},0);break;case"deleteContentBackward":var m=new o.Event("keydown");m.key=l.keys.Backspace,b.keyEvent.call(i,m);break;default:(0,s.applyInputValue)(i,d),c.caret.call(n,i,p.begin,p.end,!0)}e.preventDefault()}},setValueEvent:function(e){var t=this.inputmask,n=t.dependencyLib,r=this,o=e&&e.detail?e.detail[0]:arguments[1];void 0===o&&(o=r.inputmask._valueGet(!0)),(0,s.applyInputValue)(r,o,new n.Event("input")),(e.detail&&void 0!==e.detail[1]||void 0!==arguments[2])&&c.caret.call(t,r,e.detail?e.detail[1]:arguments[2])},focusEvent:function(e){var t=this.inputmask,n=t.opts,r=t&&t._valueGet();n.showMaskOnFocus&&r!==c.getBuffer.call(t).join("")&&(0,s.writeBuffer)(this,c.getBuffer.call(t),c.seekNext.call(t,c.getLastValidPosition.call(t))),!0!==n.positionCaretOnTab||!1!==t.mouseEnter||d.isComplete.call(t,c.getBuffer.call(t))&&-1!==c.getLastValidPosition.call(t)||b.clickEvent.apply(this,[e,!0]),t.undoValue=t&&t._valueGet(!0)},invalidEvent:function(e){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var e=this.inputmask,t=e.opts,n=this;e.mouseEnter=!1,t.clearMaskOnLostFocus&&(n.inputmask.shadowRoot||n.ownerDocument).activeElement!==n&&(0,s.HandleNativePlaceholder)(n,e.originalPlaceholder)},clickEvent:function(e,t){var n=this.inputmask;n.clicked++;var r=this;if((r.inputmask.shadowRoot||r.ownerDocument).activeElement===r){var o=c.determineNewCaretPosition.call(n,c.caret.call(n,r),t);void 0!==o&&c.caret.call(n,r,o)}},cutEvent:function(e){var t=this.inputmask,n=t.maskset,r=this,o=c.caret.call(t,r),a=t.isRTL?c.getBuffer.call(t).slice(o.end,o.begin):c.getBuffer.call(t).slice(o.begin,o.end),u=t.isRTL?a.reverse().join(""):a.join("");i.default.navigator&&i.default.navigator.clipboard?i.default.navigator.clipboard.writeText(u):i.default.clipboardData&&i.default.clipboardData.getData&&i.default.clipboardData.setData("Text",u),d.handleRemove.call(t,r,l.keys.Delete,o),(0,s.writeBuffer)(r,c.getBuffer.call(t),n.p,e,t.undoValue!==t._valueGet(!0))},blurEvent:function(e){var t=this.inputmask,n=t.opts,r=t.dependencyLib;t.clicked=0;var o=r(this),a=this;if(a.inputmask){(0,s.HandleNativePlaceholder)(a,t.originalPlaceholder);var i=a.inputmask._valueGet(),l=c.getBuffer.call(t).slice();""!==i&&(n.clearMaskOnLostFocus&&(-1===c.getLastValidPosition.call(t)&&i===c.getBufferTemplate.call(t).join("")?l=[]:s.clearOptionalTail.call(t,l)),!1===d.isComplete.call(t,l)&&(setTimeout(function(){o.trigger("incomplete")},0),n.clearIncomplete&&(c.resetMaskSet.call(t,!1),l=n.clearMaskOnLostFocus?[]:c.getBufferTemplate.call(t).slice())),(0,s.writeBuffer)(a,l,void 0,e)),i=t._valueGet(!0),t.undoValue!==i&&(""!=i||t.undoValue!=c.getBufferTemplate.call(t).join("")||t.undoValue==c.getBufferTemplate.call(t).join("")&&t.maskset.validPositions.length>0)&&(t.undoValue=i,o.trigger("change"))}},mouseenterEvent:function(){var e=this.inputmask,t=e.opts.showMaskOnHover,n=this;if(e.mouseEnter=!0,(n.inputmask.shadowRoot||n.ownerDocument).activeElement!==n){var r=(e.isRTL?c.getBufferTemplate.call(e).slice().reverse():c.getBufferTemplate.call(e)).join("");t&&(0,s.HandleNativePlaceholder)(n,r)}},submitEvent:function(){var e=this.inputmask,t=e.opts;e.undoValue!==e._valueGet(!0)&&e.$el.trigger("change"),-1===c.getLastValidPosition.call(e)&&e._valueGet&&e._valueGet()===c.getBufferTemplate.call(e).join("")&&e._valueSet(""),t.clearIncomplete&&!1===d.isComplete.call(e,c.getBuffer.call(e))&&e._valueSet(""),t.removeMaskOnSubmit&&(e._valueSet(e.unmaskedvalue(),!0),setTimeout(function(){(0,s.writeBuffer)(e.el,c.getBuffer.call(e))},0))},resetEvent:function(){var e=this.inputmask;e.refreshValue=!0,setTimeout(function(){(0,s.applyInputValue)(e.el,e._valueGet(!0))},0)}}},9716:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventRuler=void 0;var r,o=n(7760),a=(r=n(2394))&&r.__esModule?r:{default:r},i=n(2839),s=n(8711);t.EventRuler={on:function(e,t,n){var r=e.inputmask.dependencyLib,l=function(t){t.originalEvent&&(t=t.originalEvent||t,arguments[0]=t);var l,c=this,d=c.inputmask,u=d?d.opts:void 0;if(void 0===d&&"FORM"!==this.nodeName){var f=r.data(c,"_inputmask_opts");r(c).off(),f&&new a.default(f).mask(c)}else{if(["submit","reset","setvalue"].includes(t.type)||"FORM"===this.nodeName||!(c.disabled||c.readOnly&&!("keydown"===t.type&&t.ctrlKey&&t.key===i.keys.c||!1===u.tabThrough&&t.key===i.keys.Tab))){switch(t.type){case"input":if(!0===d.skipInputEvent)return d.skipInputEvent=!1,t.preventDefault();break;case"click":case"focus":return d.validationEvent?(d.validationEvent=!1,e.blur(),(0,o.HandleNativePlaceholder)(e,(d.isRTL?s.getBufferTemplate.call(d).slice().reverse():s.getBufferTemplate.call(d)).join("")),setTimeout(function(){e.focus()},u.validationEventTimeOut),!1):(l=arguments,void setTimeout(function(){e.inputmask&&n.apply(c,l)},0))}var p=n.apply(c,arguments);return!1===p&&(t.preventDefault(),t.stopPropagation()),p}t.preventDefault()}};["submit","reset"].includes(t)?(l=l.bind(e),null!==e.form&&r(e.form).on(t,l)):r(e).on(t,l),e.inputmask.events[t]=e.inputmask.events[t]||[],e.inputmask.events[t].push(l)},off:function(e,t){if(e.inputmask&&e.inputmask.events){var n=e.inputmask.dependencyLib,r=e.inputmask.events;for(var o in t&&((r=[])[t]=e.inputmask.events[t]),r){for(var a=r[o];a.length>0;){var i=a.pop();["submit","reset"].includes(o)?null!==e.form&&n(e.form).off(o,i):n(e).off(o,i)}delete e.inputmask.events[o]}}}}},219:function(e,t,n){var r=u(n(7184)),o=u(n(2394)),a=n(2839),i=n(8711),s=n(4713);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e){if("object"!==c(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}function u(e){return e&&e.__esModule?e:{default:e}}n(1313);var f=o.default.dependencyLib,p=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mask=t,this.format=n,this.opts=r,this.inputmask=o,this._date=new Date(1,0,1),this.initDateObject(t,this.opts,this.inputmask)}var t,n;return t=e,(n=[{key:"date",get:function(){return void 0===this._date&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts,this.inputmask)),this._date}},{key:"initDateObject",value:function(e,t,n){var r;for(C(t).lastIndex=0;r=C(t).exec(this.format);){var o=/\d+$/.exec(r[0]),a=o?r[0][0]+"x":r[0],i=void 0;if(void 0!==e){if(o){var l=C(t).lastIndex,c=T.call(n,r.index,t,n&&n.maskset);C(t).lastIndex=l,i=e.slice(0,e.indexOf(c.nextMatch[0]))}else{for(var d=r[0][0],u=r.index;n&&(t.placeholder[s.getTest.call(n,u).match.placeholder]||s.getTest.call(n,u).match.placeholder)===d;)u++;var f=u-r.index;i=e.slice(0,f||v[a]&&v[a][4]||a.length)}e=e.slice(i.length)}Object.prototype.hasOwnProperty.call(v,a)&&this.setValue(this,i,a,v[a][2],v[a][1])}}},{key:"setValue",value:function(e,t,n,r,o){if(void 0!==t)switch(r){case"ampm":e[r]=t,e["raw"+r]=t.replace(/\s/g,"_");break;case"month":if("mmm"===n||"mmmm"===n){e[r]=E("mmm"===n?h.monthNames.slice(0,12).findIndex(function(e){return t.toLowerCase()===e.toLowerCase()})+1:h.monthNames.slice(12,24).findIndex(function(e){return t.toLowerCase()===e.toLowerCase()})+1,2),e[r]="00"===e[r]?"":e[r].toString(),e["raw"+r]=e[r];break}default:e[r]=t.replace(/[^0-9]/g,"0"),e["raw"+r]=t.replace(/\s/g,"_")}if(void 0!==o){var a=e[r];("day"===r&&29===parseInt(a)||"month"===r&&2===parseInt(a))&&(29!==parseInt(e.day)||2!==parseInt(e.month)||""!==e.year&&void 0!==e.year||e._date.setFullYear(2012,1,29)),"day"===r&&(g=!0,0===parseInt(a)&&(a=1)),"month"===r&&(g=!0),"year"===r&&(g=!0,a.length<v[n][4]&&(a=E(a,v[n][4],!0))),(""!==a&&!isNaN(a)||"ampm"===r)&&o.call(e._date,a)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m=(new Date).getFullYear(),h=o.default.prototype.i18n,g=!1,v={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return E(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(e){var t=e?parseInt(e):0;return t>0&&t--,Date.prototype.setMonth.call(this,t)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(e){var t=e?parseInt(e):0;return t>0&&t--,Date.prototype.setMonth.call(this,t)},"month",function(){return E(Date.prototype.getMonth.call(this)+1,2)}],mmm:[h.monthNames.slice(0,12).join("|"),function(e){var t=h.monthNames.slice(0,12).findIndex(function(t){return e.toLowerCase()===t.toLowerCase()});return-1!==t&&Date.prototype.setMonth.call(this,t)},"month",function(){return h.monthNames.slice(0,12)[Date.prototype.getMonth.call(this)]}],mmmm:[h.monthNames.slice(12,24).join("|"),function(e){var t=h.monthNames.slice(12,24).findIndex(function(t){return e.toLowerCase()===t.toLowerCase()});return-1!==t&&Date.prototype.setMonth.call(this,t)},"month",function(){return h.monthNames.slice(12,24)[Date.prototype.getMonth.call(this)]}],yy:["[0-9]{2}",function(e){var t=(new Date).getFullYear().toString().slice(0,2);Date.prototype.setFullYear.call(this,"".concat(t).concat(e))},"year",function(){return E(Date.prototype.getFullYear.call(this),2)},2],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return E(Date.prototype.getFullYear.call(this),4)},4],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return E(Date.prototype.getHours.call(this),2)}],hx:[function(e){return"[0-9]{".concat(e,"}")},Date.prototype.setHours,"hours",function(e){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return E(Date.prototype.getHours.call(this),2)}],Hx:[function(e){return"[0-9]{".concat(e,"}")},Date.prototype.setHours,"hours",function(e){return function(){return E(Date.prototype.getHours.call(this),e)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return E(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return E(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return E(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return E(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",y,"ampm",k,1],tt:["[ap]m",y,"ampm",k,2],T:["[AP]",y,"ampm",k,1],TT:["[AP]M",y,"ampm",k,2],Z:[".*",void 0,"Z",function(){var e=this.toString().match(/\((.+)\)/)[1];return e.includes(" ")&&(e=(e=e.replace("-"," ").toUpperCase()).split(" ").map(function(e){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0]}).join("")),e}],o:[""],S:[""]},b={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function y(e){var t=this.getHours();e.toLowerCase().includes("p")?this.setHours(t+12):e.toLowerCase().includes("a")&&t>=12&&this.setHours(t-12)}function k(){var e=this.getHours();return(e=e||12)>=12?"PM":"AM"}function x(e){var t=/\d+$/.exec(e[0]);if(t&&void 0!==t[0]){var n=v[e[0][0]+"x"].slice("");return n[0]=n[0](t[0]),n[3]=n[3](t[0]),n}if(v[e[0]])return v[e[0]]}function C(e){if(!e.tokenizer){var t=[],n=[];for(var r in v)if(/\.*x$/.test(r)){var o=r[0]+"\\d+";-1===n.indexOf(o)&&n.push(o)}else-1===t.indexOf(r[0])&&t.push(r[0]);e.tokenizer="("+(n.length>0?n.join("|")+"|":"")+t.join("+|")+")+?|.",e.tokenizer=new RegExp(e.tokenizer,"g")}return e.tokenizer}function w(e,t,n){if(!g)return!0;if(void 0===e.rawday||!isFinite(e.rawday)&&new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day||"29"==e.day&&(!isFinite(e.rawyear)||void 0===e.rawyear||""===e.rawyear)||new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day)return t;if("29"==e.day){var r=T.call(this,t.pos,n,this.maskset);if(r.targetMatch&&"yyyy"===r.targetMatch[0]&&t.pos-r.targetMatchIndex==2)return t.remove=t.pos+1,t}else if(2==e.date.getMonth()&&"30"==e.day&&void 0!==t.c)return e.day="03",e.date.setDate(3),e.date.setMonth(1),t.insert=[{pos:t.pos,c:"0"},{pos:t.pos+1,c:t.c}],t.caret=i.seekNext.call(this,t.pos+1),t;return!1}function S(e,t,n,o){var a,i,s="",l=0,c={};for(C(n).lastIndex=0;a=C(n).exec(e);){if(void 0===t)if(i=x(a))s+="("+i[0]+")",n.placeholder&&""!==n.placeholder?(c[l]=n.placeholder[a.index%n.placeholder.length],c[n.placeholder[a.index%n.placeholder.length]]=a[0].charAt(0)):c[l]=a[0].charAt(0);else switch(a[0]){case"[":s+="(";break;case"]":s+=")?";break;default:s+=(0,r.default)(a[0]),c[l]=a[0].charAt(0)}else(i=x(a))?!0!==o&&i[3]?s+=i[3].call(t.date):i[2]?s+=t["raw"+i[2]]:s+=a[0]:s+=a[0];l++}return void 0===t&&(n.placeholder=c),s}function E(e,t,n){for(e=String(e),t=t||2;e.length<t;)e=n?e+"0":"0"+e;return e}function _(e,t,n){return"string"==typeof e?new p(e,t,n,this):e&&"object"===c(e)&&Object.prototype.hasOwnProperty.call(e,"date")?e:void 0}function A(e,t){return S(t.inputFormat,{date:e},t)}function T(e,t,n){var r,o,a=this,i=n&&n.tests[e]?t.placeholder[n.tests[e][0].match.placeholder]||n.tests[e][0].match.placeholder:"",l=0,c=0;for(C(t).lastIndex=0;o=C(t).exec(t.inputFormat);){var d=/\d+$/.exec(o[0]);if(d)c=parseInt(d[0]);else{for(var u=o[0][0],f=l;a&&(t.placeholder[s.getTest.call(a,f).match.placeholder]||s.getTest.call(a,f).match.placeholder)===u;)f++;0===(c=f-l)&&(c=o[0].length)}if(l+=c,-1!=o[0].indexOf(i)||l>=e+1){r=o,o=C(t).exec(t.inputFormat);break}}return{targetMatchIndex:l-c,nextMatch:o,targetMatch:r}}o.default.extendAliases({datetime:{mask:function(e){return e.numericInput=!1,v.S=h.ordinalSuffix.join("|"),e.inputFormat=b[e.inputFormat]||e.inputFormat,e.displayFormat=b[e.displayFormat]||e.displayFormat||e.inputFormat,e.outputFormat=b[e.outputFormat]||e.outputFormat||e.inputFormat,e.regex=S(e.inputFormat,void 0,e),e.min=_(e.min,e.inputFormat,e),e.max=_(e.max,e.inputFormat,e),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",preValidation:function(e,t,n,r,o,a,i,s){if(s)return!0;if(isNaN(n)&&e[t]!==n){var l=T.call(this,t,o,a);if(l.nextMatch&&l.nextMatch[0]===n&&l.targetMatch[0].length>1){var c=x(l.targetMatch)[0];if(new RegExp(c).test("0"+e[t-1]))return e[t]=e[t-1],e[t-1]="0",{fuzzy:!0,buffer:e,refreshFromBuffer:{start:t-1,end:t+1},pos:t+1}}}return!0},postValidation:function(e,t,n,r,o,a,i,l){var c,d,u=this;if(i)return!0;if(!1===r&&(((c=T.call(u,t+1,o,a)).targetMatch&&c.targetMatchIndex===t&&c.targetMatch[0].length>1&&void 0!==v[c.targetMatch[0]]||(c=T.call(u,t+2,o,a)).targetMatch&&c.targetMatchIndex===t+1&&c.targetMatch[0].length>1&&void 0!==v[c.targetMatch[0]])&&(d=x(c.targetMatch)[0]),void 0!==d&&(void 0!==a.validPositions[t+1]&&new RegExp(d).test(n+"0")?(e[t]=n,e[t+1]="0",r={pos:t+2,caret:t}):new RegExp(d).test("0"+n)&&(e[t]="0",e[t+1]=n,r={pos:t+2})),!1===r))return r;if(r.fuzzy&&(e=r.buffer,t=r.pos),(c=T.call(u,t,o,a)).targetMatch&&c.targetMatch[0]&&void 0!==v[c.targetMatch[0]]){var f=x(c.targetMatch);d=f[0];var p=e.slice(c.targetMatchIndex,c.targetMatchIndex+c.targetMatch[0].length);if(!1===new RegExp(d).test(p.join(""))&&2===c.targetMatch[0].length&&a.validPositions[c.targetMatchIndex]&&a.validPositions[c.targetMatchIndex+1]&&(a.validPositions[c.targetMatchIndex+1].input="0"),"year"==f[2])for(var h=s.getMaskTemplate.call(u,!1,1,void 0,!0),g=t+1;g<e.length;g++)e[g]=h[g],a.validPositions.splice(t+1,1)}var b=r,y=_.call(u,e.join(""),o.inputFormat,o);return b&&!isNaN(y.date.getTime())&&(o.prefillYear&&(b=function(e,t,n){if(e.year!==e.rawyear){var r=m.toString(),o=e.rawyear.replace(/[^0-9]/g,""),a=r.slice(0,o.length),i=r.slice(o.length);if(2===o.length&&o===a){var s=new Date(m,e.month-1,e.day);e.day==s.getDate()&&(!n.max||n.max.date.getTime()>=s.getTime())&&(e.date.setFullYear(m),e.year=r,t.insert=[{pos:t.pos+1,c:i[0]},{pos:t.pos+2,c:i[1]}])}}return t}(y,b,o)),b=function(e,t,n,r){if(!t)return t;if(t&&n.min&&!isNaN(n.min.date.getTime())){var o;for(e.reset(),C(n).lastIndex=0;o=C(n).exec(n.inputFormat);){var a;if((a=x(o))&&a[3]){for(var i=a[1],s=e[a[2]],l=n.min[a[2]],c=n.max?n.max[a[2]]:l+1,d=[],u=!1,f=0;f<l.length;f++)void 0!==r.validPositions[f+o.index]||u?(d[f]=s[f],u=u||s[f]>l[f]):(f+o.index==0&&s[f]<l[f]?(d[f]=s[f],u=!0):d[f]=l[f],"year"===a[2]&&s.length-1==f&&l!=c&&(d=(parseInt(d.join(""))+1).toString().split("")),"ampm"===a[2]&&l!=c&&n.min.date.getTime()>e.date.getTime()&&(d[f]=c[f]));i.call(e._date,d.join(""))}}t=n.min.date.getTime()<=e.date.getTime(),e.reInit()}return t&&n.max&&(isNaN(n.max.date.getTime())||(t=n.max.date.getTime()>=e.date.getTime())),t}(y,b=w.call(u,y,b,o),o,a)),void 0!==t&&b&&r.pos!==t?{buffer:S(o.inputFormat,y,o).split(""),refreshFromBuffer:{start:t,end:r.pos},pos:r.caret||r.pos}:b},onKeyDown:function(e,t,n,r){e.ctrlKey&&e.key===a.keys.ArrowRight&&(this.inputmask._valueSet(A(new Date,r)),f(this).trigger("setvalue"))},onUnMask:function(e,t,n){return t?S(n.outputFormat,_.call(this,e,n.inputFormat,n),n,!0):t},casing:function(e,t,n,r){if(0==t.nativeDef.indexOf("[ap]"))return e.toLowerCase();if(0==t.nativeDef.indexOf("[AP]"))return e.toUpperCase();var o=s.getTest.call(this,[n-1]);return 0==o.match.def.indexOf("[AP]")||0===n||o&&o.input===String.fromCharCode(a.keyCode.Space)||o&&o.match.def===String.fromCharCode(a.keyCode.Space)?e.toUpperCase():e.toLowerCase()},onBeforeMask:function(e,t){return"[object Date]"===Object.prototype.toString.call(e)&&(e=A(e,t)),e},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},1313:function(e,t,n){var r,o=(r=n(2394))&&r.__esModule?r:{default:r};o.default.dependencyLib.extend(!0,o.default.prototype.i18n,{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]})},3851:function(e,t,n){var r,o=(r=n(2394))&&r.__esModule?r:{default:r},a=n(8711),i=n(4713);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}o.default.extendDefinitions({A:{validator:"[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var l=/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;function c(e,t,n,r,o){if(n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,o.greedy&&parseInt(e)>255&&l.test("00"+e.charAt(2))){var a=[].concat(function(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.buffer.slice(0,n)),[".",e.charAt(2)]);if(a.join("").match(/\./g).length<4)return{refreshFromBuffer:!0,buffer:a,caret:n+2}}return l.test(e)}o.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:c},j:{validator:c},k:{validator:c},l:{validator:c}},onUnMask:function(e,t,n){return e},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(e){var t=e.separator,n=e.quantifier,r="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",o=r;if(t)for(var a=0;a<n;a++)o+="[".concat(t).concat(r,"]");return o},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(e,t,n){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(e,t,n,r,o,s,l){var c=i.getMaskTemplate.call(this,!0,a.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(c.join(""))}}})},207:function(e,t,n){var r=s(n(7184)),o=s(n(2394)),a=n(2839),i=n(8711);function s(e){return e&&e.__esModule?e:{default:e}}var l=o.default.dependencyLib;function c(e,t){for(var n="",r=0;r<e.length;r++)o.default.prototype.definitions[e.charAt(r)]||t.definitions[e.charAt(r)]||t.optionalmarker[0]===e.charAt(r)||t.optionalmarker[1]===e.charAt(r)||t.quantifiermarker[0]===e.charAt(r)||t.quantifiermarker[1]===e.charAt(r)||t.groupmarker[0]===e.charAt(r)||t.groupmarker[1]===e.charAt(r)||t.alternatormarker===e.charAt(r)?n+="\\"+e.charAt(r):n+=e.charAt(r);return n}function d(e,t,n,r){if(e.length>0&&t>0&&(!n.digitsOptional||r)){var o=e.indexOf(n.radixPoint),a=!1;n.negationSymbol.back===e[e.length-1]&&(a=!0,e.length--),-1===o&&(e.push(n.radixPoint),o=e.length-1);for(var i=1;i<=t;i++)isFinite(e[o+i])||(e[o+i]="0")}return a&&e.push(n.negationSymbol.back),e}function u(e,t){var n=0;for(var r in"+"===e&&(n=i.seekNext.call(this,t.validPositions.length-1)),t.tests)if((r=parseInt(r))>=n)for(var o=0,a=t.tests[r].length;o<a;o++)if((void 0===t.validPositions[r]||"-"===e)&&t.tests[r][o].match.def===e)return r+(void 0!==t.validPositions[r]&&"-"!==e?1:0);return n}function f(e,t){for(var n=-1,r=0,o=t.validPositions.length;r<o;r++){var a=t.validPositions[r];if(a&&a.match.def===e){n=r;break}}return n}function p(e,t,n,r,o){var a=t.buffer?t.buffer.indexOf(o.radixPoint):-1,i=(-1!==a||r&&o.jitMasking)&&new RegExp(o.definitions[9].validator).test(e);return!r&&o._radixDance&&-1!==a&&i&&null==t.validPositions[a]?{insert:{pos:a===n?a+1:a,c:o.radixPoint},pos:n}:i}o.default.extendAliases({numeric:{mask:function(e){e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&(e.positionCaretOnClick="lvp");var t="0",n=e.radixPoint;!0===e.numericInput&&void 0===e.__financeInput?(t="1",e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e._radixDance=!1,n=","===e.radixPoint?"?":"!",""!==e.radixPoint&&void 0===e.definitions[n]&&(e.definitions[n]={},e.definitions[n].validator="["+e.radixPoint+"]",e.definitions[n].placeholder=e.radixPoint,e.definitions[n].static=!0,e.definitions[n].generated=!0)):(e.__financeInput=!1,e.numericInput=!0);var o,a="[+]";if(a+=c(e.prefix,e),""!==e.groupSeparator?(void 0===e.definitions[e.groupSeparator]&&(e.definitions[e.groupSeparator]={},e.definitions[e.groupSeparator].validator="["+e.groupSeparator+"]",e.definitions[e.groupSeparator].placeholder=e.groupSeparator,e.definitions[e.groupSeparator].static=!0,e.definitions[e.groupSeparator].generated=!0),a+=e._mask(e)):a+="9{+}",void 0!==e.digits&&0!==e.digits){var i=e.digits.toString().split(",");isFinite(i[0])&&i[1]&&isFinite(i[1])?a+=n+t+"{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(e.digitsOptional||e.jitMasking?(o=a+n+t+"{0,"+e.digits+"}",e.keepStatic=!0):a+=n+t+"{"+e.digits+"}")}else e.inputmode="numeric";return a+=c(e.suffix,e),a+="[-]",o&&(a=[o+c(e.suffix,e)+"[-]",a]),e.greedy=!1,function(e){void 0===e.parseMinMaxOptions&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp((0,r.default)(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp((0,r.default)(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(e),""!==e.radixPoint&&e.substituteRadixPoint&&(e.substitutes["."==e.radixPoint?",":"."]=e.radixPoint),a},_mask:function(e){return"("+e.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:p},1:{validator:p,definitionSymbol:"9"},9:{validator:"[0-9ï¼-ï¼Ù -Ù©Û°-Û¹]",definitionSymbol:"*"},"+":{validator:function(e,t,n,r,o){return o.allowMinus&&("-"===e||e===o.negationSymbol.front)}},"-":{validator:function(e,t,n,r,o){return o.allowMinus&&e===o.negationSymbol.back}}},preValidation:function(e,t,n,r,o,a,i,s){var l=this;if(!1!==o.__financeInput&&n===o.radixPoint)return!1;var c=e.indexOf(o.radixPoint),d=t;if(t=function(e,t,n,r,o){return o._radixDance&&o.numericInput&&t!==o.negationSymbol.back&&e<=n&&(n>0||t==o.radixPoint)&&(void 0===r.validPositions[e-1]||r.validPositions[e-1].input!==o.negationSymbol.back)&&(e-=1),e}(t,n,c,a,o),"-"===n||n===o.negationSymbol.front){if(!0!==o.allowMinus)return!1;var p=!1,m=f("+",a),h=f("-",a);return-1!==m&&(p=[m],-1!==h&&p.push(h)),!1!==p?{remove:p,caret:d-o.negationSymbol.back.length}:{insert:[{pos:u.call(l,"+",a),c:o.negationSymbol.front,fromIsValid:!0},{pos:u.call(l,"-",a),c:o.negationSymbol.back,fromIsValid:void 0}],caret:d+o.negationSymbol.back.length}}if(n===o.groupSeparator)return{caret:d};if(s)return!0;if(-1!==c&&!0===o._radixDance&&!1===r&&n===o.radixPoint&&void 0!==o.digits&&(isNaN(o.digits)||parseInt(o.digits)>0)&&c!==t){var g=u.call(l,o.radixPoint,a);return a.validPositions[g]&&(a.validPositions[g].generatedInput=a.validPositions[g].generated||!1),{caret:o._radixDance&&t===c-1?c+1:c}}if(!1===o.__financeInput)if(r){if(o.digitsOptional)return{rewritePosition:i.end};if(!o.digitsOptional){if(i.begin>c&&i.end<=c)return n===o.radixPoint?{insert:{pos:c+1,c:"0",fromIsValid:!0},rewritePosition:c}:{rewritePosition:c+1};if(i.begin<c)return{rewritePosition:i.begin-1}}}else if(!o.showMaskOnHover&&!o.showMaskOnFocus&&!o.digitsOptional&&o.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:c};return{rewritePosition:t}},postValidation:function(e,t,n,r,o,a,i){if(!1===r)return r;if(i)return!0;if(null!==o.min||null!==o.max){var s=o.onUnMask(e.slice().reverse().join(""),void 0,l.extend({},o,{unmaskAsNumber:!0}));if(null!==o.min&&s<o.min&&(s.toString().length>o.min.toString().length||s<0))return!1;if(null!==o.max&&s>o.max)return!!o.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:d(o.max.toString().replace(".",o.radixPoint).split(""),o.digits,o).reverse()}}return r},onUnMask:function(e,t,n){if(""===t&&!0===n.nullable)return t;var o=e.replace(n.prefix,"");return o=(o=o.replace(n.suffix,"")).replace(new RegExp((0,r.default)(n.groupSeparator),"g"),""),""!==n.placeholder.charAt(0)&&(o=o.replace(new RegExp(n.placeholder.charAt(0),"g"),"0")),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==o.indexOf(n.radixPoint)&&(o=o.replace(r.default.call(this,n.radixPoint),".")),o=(o=o.replace(new RegExp("^"+(0,r.default)(n.negationSymbol.front)),"-")).replace(new RegExp((0,r.default)(n.negationSymbol.back)+"$"),""),Number(o)):o},isComplete:function(e,t){var n=(t.numericInput?e.slice().reverse():e).join("");return n=(n=(n=(n=(n=n.replace(new RegExp("^"+(0,r.default)(t.negationSymbol.front)),"-")).replace(new RegExp((0,r.default)(t.negationSymbol.back)+"$"),"")).replace(t.prefix,"")).replace(t.suffix,"")).replace(new RegExp((0,r.default)(t.groupSeparator)+"([0-9]{3})","g"),"$1"),","===t.radixPoint&&(n=n.replace((0,r.default)(t.radixPoint),".")),isFinite(n)},onBeforeMask:function(e,t){var n;e=null!==(n=e)&&void 0!==n?n:"";var o=t.radixPoint||",";isFinite(t.digits)&&(t.digits=parseInt(t.digits)),"number"!=typeof e&&"number"!==t.inputType||""===o||(e=e.toString().replace(".",o));var a="-"===e.charAt(0)||e.charAt(0)===t.negationSymbol.front,i=e.split(o),s=i[0].replace(/[^\-0-9]/g,""),l=i.length>1?i[1].replace(/[^0-9]/g,""):"",c=i.length>1;e=s+(""!==l?o+l:l);var u=0;if(""!==o&&(u=t.digitsOptional?t.digits<l.length?t.digits:l.length:t.digits,""!==l||!t.digitsOptional)){var f=Math.pow(10,u||1);e=e.replace((0,r.default)(o),"."),isNaN(parseFloat(e))||(e=(t.roundingFN(parseFloat(e)*f)/f).toFixed(u)),e=e.toString().replace(".",o)}if(0===t.digits&&-1!==e.indexOf(o)&&(e=e.substring(0,e.indexOf(o))),null!==t.min||null!==t.max){var p=e.toString().replace(o,".");null!==t.min&&p<t.min?e=t.min.toString().replace(".",o):null!==t.max&&p>t.max&&(e=t.max.toString().replace(".",o))}return a&&"-"!==e.charAt(0)&&(e="-"+e),d(e.toString().split(""),u,t,c).join("")},onBeforeWrite:function(e,t,n,o){function a(e,t){if(!1!==o.__financeInput||t){var n=e.indexOf(o.radixPoint);-1!==n&&e.splice(n,1)}if(""!==o.groupSeparator)for(;-1!==(n=e.indexOf(o.groupSeparator));)e.splice(n,1);return e}var i,s;if(o.stripLeadingZeroes&&(s=function(e,t){var n=new RegExp("(^"+(""!==t.negationSymbol.front?(0,r.default)(t.negationSymbol.front)+"?":"")+(0,r.default)(t.prefix)+")(.*)("+(0,r.default)(t.suffix)+(""!=t.negationSymbol.back?(0,r.default)(t.negationSymbol.back)+"?":"")+"$)").exec(e.slice().reverse().join("")),o=n?n[2]:"",a=!1;return o&&(o=o.split(t.radixPoint.charAt(0))[0],a=new RegExp("^[0"+t.groupSeparator+"]*").exec(o)),!(!a||!(a[0].length>1||a[0].length>0&&a[0].length<o.length))&&a}(t,o)))for(var c=t.join("").lastIndexOf(s[0].split("").reverse().join(""))-(s[0]==s.input?0:1),u=s[0]==s.input?1:0,f=s[0].length-u;f>0;f--)this.maskset.validPositions.splice(c+f,1),delete t[c+f];if(e)switch(e.type){case"blur":case"checkval":if(null!==o.min){var p=o.onUnMask(t.slice().reverse().join(""),void 0,l.extend({},o,{unmaskAsNumber:!0}));if(null!==o.min&&p<o.min)return{refreshFromBuffer:!0,buffer:d(o.min.toString().replace(".",o.radixPoint).split(""),o.digits,o).reverse()}}if(t[t.length-1]===o.negationSymbol.front){var m=new RegExp("(^"+(""!=o.negationSymbol.front?(0,r.default)(o.negationSymbol.front)+"?":"")+(0,r.default)(o.prefix)+")(.*)("+(0,r.default)(o.suffix)+(""!=o.negationSymbol.back?(0,r.default)(o.negationSymbol.back)+"?":"")+"$)").exec(a(t.slice(),!0).reverse().join(""));0==(m?m[2]:"")&&(i={refreshFromBuffer:!0,buffer:[0]})}else""!==o.radixPoint&&t.indexOf(o.radixPoint)===o.suffix.length&&(i&&i.buffer?i.buffer.splice(0,1+o.suffix.length):(t.splice(0,1+o.suffix.length),i={refreshFromBuffer:!0,buffer:a(t)}));if(o.enforceDigitsOnBlur){var h=(i=i||{})&&i.buffer||t.slice().reverse();i.refreshFromBuffer=!0,i.buffer=d(h,o.digits,o,!0).reverse()}}return i},onKeyDown:function(e,t,n,r){var o,i=l(this);if(3!=e.location){var s,c=e.key;if((s=r.shortcuts&&r.shortcuts[c])&&s.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(s)),i.trigger("setvalue"),!1}if(e.ctrlKey)switch(e.key){case a.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),i.trigger("setvalue"),!1;case a.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),i.trigger("setvalue"),!1}if(!e.shiftKey&&(e.key===a.keys.Delete||e.key===a.keys.Backspace||e.key===a.keys.BACKSPACE_SAFARI)&&n.begin!==t.length){if(t[e.key===a.keys.Delete?n.begin-1:n.end]===r.negationSymbol.front)return o=t.slice().reverse(),""!==r.negationSymbol.front&&o.shift(),""!==r.negationSymbol.back&&o.pop(),i.trigger("setvalue",[o.join(""),n.begin]),!1;if(!0===r._radixDance){var u,f=t.indexOf(r.radixPoint);if(r.digitsOptional){if(0===f)return(o=t.slice().reverse()).pop(),i.trigger("setvalue",[o.join(""),n.begin>=o.length?o.length:n.begin]),!1}else if(-1!==f&&(n.begin<f||n.end<f||e.key===a.keys.Delete&&(n.begin===f||n.begin-1===f)))return n.begin===n.end&&(e.key===a.keys.Backspace||e.key===a.keys.BACKSPACE_SAFARI?n.begin++:e.key===a.keys.Delete&&n.begin-1===f&&(u=l.extend({},n),n.begin--,n.end--)),(o=t.slice().reverse()).splice(o.length-n.begin,n.begin-n.end+1),o=d(o,r.digits,r).join(""),u&&(n=u),i.trigger("setvalue",[o,n.begin>=o.length?f+1:n.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(e){return"("+e.groupSeparator+"99){*|1}("+e.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n?window:{}},7760:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HandleNativePlaceholder=function(e,t){var n=e?e.inputmask:this;if(r.ie){if(e.inputmask._valueGet()!==t&&(e.placeholder!==t||""===e.placeholder)){var o=i.getBuffer.call(n).slice(),a=e.inputmask._valueGet();if(a!==t){var s=i.getLastValidPosition.call(n);-1===s&&a===i.getBufferTemplate.call(n).join("")?o=[]:-1!==s&&d.call(n,o),f(e,o)}}}else e.placeholder!==t&&(e.placeholder=t,""===e.placeholder&&e.removeAttribute("placeholder"))},t.applyInputValue=c,t.checkVal=u,t.clearOptionalTail=d,t.unmaskedvalue=function(e){var t=e?e.inputmask:this,n=t.opts,r=t.maskset;if(e){if(void 0===e.inputmask)return e.value;e.inputmask&&e.inputmask.refreshValue&&c(e,e.inputmask._valueGet(!0))}for(var o=[],a=r.validPositions,s=0,l=a.length;s<l;s++)a[s]&&a[s].match&&(1!=a[s].match.static||Array.isArray(r.metadata)&&!0!==a[s].generatedInput)&&o.push(a[s].input);var d=0===o.length?"":(t.isRTL?o.reverse():o).join("");if("function"==typeof n.onUnMask){var u=(t.isRTL?i.getBuffer.call(t).slice().reverse():i.getBuffer.call(t)).join("");d=n.onUnMask.call(t,u,d,n)}return d},t.writeBuffer=f;var r=n(9845),o=n(6030),a=n(2839),i=n(8711),s=n(7215),l=n(4713);function c(e,t,n){var r=e?e.inputmask:this,o=r.opts;e.inputmask.refreshValue=!1,"function"==typeof o.onBeforeMask&&(t=o.onBeforeMask.call(r,t,o)||t),u(e,!0,!1,t=(t||"").toString().split(""),n),r.undoValue=r._valueGet(!0),(o.clearMaskOnLostFocus||o.clearIncomplete)&&e.inputmask._valueGet()===i.getBufferTemplate.call(r).join("")&&-1===i.getLastValidPosition.call(r)&&e.inputmask._valueSet("")}function d(e){e.length=0;for(var t,n=l.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(t=n.shift());)e.push(t);return e}function u(e,t,n,r,a){var c,d=e?e.inputmask:this,u=d.maskset,p=d.opts,m=d.dependencyLib,h=r.slice(),g="",v=-1,b=p.skipOptionalPartCharacter;p.skipOptionalPartCharacter="",i.resetMaskSet.call(d,!1),d.clicked=0,v=p.radixPoint?i.determineNewCaretPosition.call(d,{begin:0,end:0},!1,!1===p.__financeInput?"radixFocus":void 0).begin:0,u.p=v,d.caretPos={begin:v};var y=[],k=d.caretPos;if(h.forEach(function(e,t){if(void 0!==e){var r=new m.Event("_checkval");r.key=e,g+=e;var a=i.getLastValidPosition.call(d,void 0,!0);!function(e,t){for(var n=l.getMaskTemplate.call(d,!0,0).slice(e,i.seekNext.call(d,e,!1,!1)).join("").replace(/'/g,""),r=n.indexOf(t);r>0&&" "===n[r-1];)r--;var o=0===r&&!i.isMask.call(d,e)&&(l.getTest.call(d,e).match.nativeDef===t.charAt(0)||!0===l.getTest.call(d,e).match.static&&l.getTest.call(d,e).match.nativeDef==="'"+t.charAt(0)||" "===l.getTest.call(d,e).match.nativeDef&&(l.getTest.call(d,e+1).match.nativeDef===t.charAt(0)||!0===l.getTest.call(d,e+1).match.static&&l.getTest.call(d,e+1).match.nativeDef==="'"+t.charAt(0)));if(!o&&r>0&&!i.isMask.call(d,e,!1,!0)){var a=i.seekNext.call(d,e);d.caretPos.begin<a&&(d.caretPos={begin:a})}return o}(v,g)?(c=o.EventHandlers.keypressEvent.call(d,r,!0,!1,n,d.caretPos.begin))&&(v=d.caretPos.begin+1,g=""):c=o.EventHandlers.keypressEvent.call(d,r,!0,!1,n,a+1),c?(void 0!==c.pos&&u.validPositions[c.pos]&&!0===u.validPositions[c.pos].match.static&&void 0===u.validPositions[c.pos].alternation&&(y.push(c.pos),d.isRTL||(c.forwardPosition=c.pos+1)),f.call(d,void 0,i.getBuffer.call(d),c.forwardPosition,r,!1),d.caretPos={begin:c.forwardPosition,end:c.forwardPosition},k=d.caretPos):void 0===u.validPositions[t]&&h[t]===l.getPlaceholder.call(d,t)&&i.isMask.call(d,t,!0)?d.caretPos.begin++:d.caretPos=k}}),y.length>0){var x,C,w=i.seekNext.call(d,-1,void 0,!1);if(!s.isComplete.call(d,i.getBuffer.call(d))&&y.length<=w||s.isComplete.call(d,i.getBuffer.call(d))&&y.length>0&&y.length!==w&&0===y[0])for(var S=w;void 0!==(x=y.shift());)if(x<S){var E=new m.Event("_checkval");if((C=u.validPositions[x]).generatedInput=!0,E.key=C.input,(c=o.EventHandlers.keypressEvent.call(d,E,!0,!1,n,S))&&void 0!==c.pos&&c.pos!==x&&u.validPositions[c.pos]&&!0===u.validPositions[c.pos].match.static)y.push(c.pos);else if(!c)break;S++}}t&&f.call(d,e,i.getBuffer.call(d),c?c.forwardPosition:d.caretPos.begin,a||new m.Event("checkval"),a&&("input"===a.type&&d.undoValue!==i.getBuffer.call(d).join("")||"paste"===a.type)),p.skipOptionalPartCharacter=b}function f(e,t,n,r,o){var l=e?e.inputmask:this,c=l.opts,d=l.dependencyLib;if(r&&"function"==typeof c.onBeforeWrite){var u=c.onBeforeWrite.call(l,r,t,n,c);if(u){if(u.refreshFromBuffer){var f=u.refreshFromBuffer;s.refreshFromBuffer.call(l,!0===f?f:f.start,f.end,u.buffer||t),t=i.getBuffer.call(l,!0)}void 0!==n&&(n=void 0!==u.caret?u.caret:n)}}if(void 0!==e&&(e.inputmask._valueSet(t.join("")),void 0===n||void 0!==r&&"blur"===r.type||i.caret.call(l,e,n,void 0,void 0,void 0!==r&&"keydown"===r.type&&(r.key===a.keys.Delete||r.key===a.keys.Backspace)),void 0===e.inputmask.writeBufferHook||e.inputmask.writeBufferHook(n),!0===o)){var p=d(e),m=e.inputmask._valueGet();e.inputmask.skipInputEvent=!0,p.trigger("input"),setTimeout(function(){m===i.getBufferTemplate.call(l).join("")?p.trigger("cleared"):!0===s.isComplete.call(l,t)&&p.trigger("complete")},0)}}},2394:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(n(3976)),o=h(n(7392)),a=h(n(4963)),i=n(9716),s=h(n(9380)),l=n(7760),c=n(157),d=n(2391),u=n(8711),f=n(7215),p=n(4713);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(e){return e&&e.__esModule?e:{default:e}}var g=s.default.document,v="_inputmask_opts";function b(e,t,n){if(!(this instanceof b))return new b(e,t,n);this.dependencyLib=a.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==n&&("[object Object]"===Object.prototype.toString.call(e)?t=e:(t=t||{},e&&(t.alias=e)),this.opts=a.default.extend(!0,{},this.defaults,t),this.noMasksCache=t&&void 0!==t.definitions,this.userOptions=t||{},y(this.opts.alias,t,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}function y(e,t,n){var r=b.prototype.aliases[e];return r?(r.alias&&y(r.alias,void 0,n),a.default.extend(!0,n,r),a.default.extend(!0,n,t),!0):(null===n.mask&&(n.mask=e),!1)}b.prototype={dataAttribute:"data-inputmask",defaults:r.default,definitions:o.default,aliases:{},masksCache:{},i18n:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(e){var t=this;return"string"==typeof e&&(e=g.getElementById(e)||g.querySelectorAll(e)),(e=e.nodeName?[e]:Array.isArray(e)?e:[].slice.call(e)).forEach(function(e,n){var r=a.default.extend(!0,{},t.opts);if(function(e,t,n,r){function o(t,o){var a=""===r?t:r+"-"+t;null!==(o=void 0!==o?o:e.getAttribute(a))&&("string"==typeof o&&(0===t.indexOf("on")?o=s.default[o]:"false"===o?o=!1:"true"===o&&(o=!0)),n[t]=o)}if(!0===t.importDataAttributes){var i,l,c,d,u=e.getAttribute(r);if(u&&""!==u&&(u=u.replace(/'/g,'"'),l=JSON.parse("{"+u+"}")),l)for(d in c=void 0,l)if("alias"===d.toLowerCase()){c=l[d];break}for(i in o("alias",c),n.alias&&y(n.alias,n,t),t){if(l)for(d in c=void 0,l)if(d.toLowerCase()===i.toLowerCase()){c=l[d];break}o(i,c)}}return a.default.extend(!0,t,n),("rtl"===e.dir||t.rightAlign)&&(e.style.textAlign="right"),("rtl"===e.dir||t.numericInput)&&(e.dir="ltr",e.removeAttribute("dir"),t.isRTL=!0),Object.keys(n).length}(e,r,a.default.extend(!0,{},t.userOptions),t.dataAttribute)){var o=(0,d.generateMaskSet)(r,t.noMasksCache);void 0!==o&&(void 0!==e.inputmask&&(e.inputmask.opts.autoUnmask=!0,e.inputmask.remove()),e.inputmask=new b(void 0,void 0,!0),e.inputmask.opts=r,e.inputmask.noMasksCache=t.noMasksCache,e.inputmask.userOptions=a.default.extend(!0,{},t.userOptions),e.inputmask.el=e,e.inputmask.$el=(0,a.default)(e),e.inputmask.maskset=o,a.default.data(e,v,t.userOptions),c.mask.call(e.inputmask))}}),e&&e[0]&&e[0].inputmask||this},option:function(e,t){return"string"==typeof e?this.opts[e]:"object"===m(e)?(a.default.extend(this.userOptions,e),this.el&&!0!==t&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){if(this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==e){var t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");l.checkVal.call(this,void 0,!1,!1,t),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,u.getBuffer.call(this),0,this.opts)}return l.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){a.default.data(this.el,v,null);var e=this.opts.autoUnmask?(0,l.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);e!==u.getBufferTemplate.call(this).join("")?this._valueSet(e,this.opts.autoUnmask):this._valueSet(""),i.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):g.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?u.getBufferTemplate.call(this).reverse():u.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),f.isComplete.call(this,u.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var e=p.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach(function(t){return t.mask!==e||(e=t,!1)}),e}return this.maskset.metadata},isValid:function(e){if(this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),e){var t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");l.checkVal.call(this,void 0,!0,!1,t)}else e=this.isRTL?u.getBuffer.call(this).slice().reverse().join(""):u.getBuffer.call(this).join("");for(var n=u.getBuffer.call(this),r=u.determineLastRequiredPosition.call(this),o=n.length-1;o>r&&!u.isMask.call(this,o);o--);return n.splice(r,o+1-r),f.isComplete.call(this,n)&&e===(this.isRTL?u.getBuffer.call(this).slice().reverse().join(""):u.getBuffer.call(this).join(""))},format:function(e,t){this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache);var n=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");l.checkVal.call(this,void 0,!0,!1,n);var r=this.isRTL?u.getBuffer.call(this).slice().reverse().join(""):u.getBuffer.call(this).join("");return t?{value:r,metadata:this.getmetadata()}:r},setValue:function(e){this.el&&(0,a.default)(this.el).trigger("setvalue",[e])},analyseMask:d.analyseMask},b.extendDefaults=function(e){a.default.extend(!0,b.prototype.defaults,e)},b.extendDefinitions=function(e){a.default.extend(!0,b.prototype.definitions,e)},b.extendAliases=function(e){a.default.extend(!0,b.prototype.aliases,e)},b.format=function(e,t,n){return b(t).format(e,n)},b.unmask=function(e,t){return b(t).unmaskedvalue(e)},b.isValid=function(e,t){return b(t).isValid(e)},b.remove=function(e){"string"==typeof e&&(e=g.getElementById(e)||g.querySelectorAll(e)),(e=e.nodeName?[e]:e).forEach(function(e){e.inputmask&&e.inputmask.remove()})},b.setValue=function(e,t){"string"==typeof e&&(e=g.getElementById(e)||g.querySelectorAll(e)),(e=e.nodeName?[e]:e).forEach(function(e){e.inputmask?e.inputmask.setValue(t):(0,a.default)(e).trigger("setvalue",[t])})},b.dependencyLib=a.default,s.default.Inputmask=b,t.default=b},5296:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=p(n(9380)),a=p(n(2394));function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,a=function(e){if("object"!==r(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(a)?a:String(a)),o)}var a}function s(e){var t=d();return function(){var n,o=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},l(e)}function c(e,t,n){return c=d()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&u(o,n.prototype),o},c.apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e){return e&&e.__esModule?e:{default:e}}var m=o.default.document;if(m&&m.head&&m.head.attachShadow&&o.default.customElements&&void 0===o.default.customElements.get("input-mask")){var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(o,e);var t,n,r=s(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t=(e=r.call(this)).getAttributeNames(),n=e.attachShadow({mode:"closed"});for(var i in e.input=m.createElement("input"),e.input.type="text",n.appendChild(e.input),t)Object.prototype.hasOwnProperty.call(t,i)&&e.input.setAttribute(t[i],e.getAttribute(t[i]));var s=new a.default;return s.dataAttribute="",s.mask(e.input),e.input.inputmask.shadowRoot=n,e}return t=o,(n=[{key:"attributeChangedCallback",value:function(e,t,n){this.input.setAttribute(e,n)}},{key:"value",get:function(){return this.input.value},set:function(e){this.input.value=e}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(l(HTMLElement));o.default.customElements.define("input-mask",h)}},2839:function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e,t,r){return(t=function(e){var t=function(e){if("object"!==n(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.keys=t.keyCode=void 0,t.toKey=function(e,t){return l[e]||(t?String.fromCharCode(e):String.fromCharCode(e).toLowerCase())},t.toKeyCode=function(e){return s[e]};var s=t.keyCode=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({c:67,x:88,z:90,BACKSPACE_SAFARI:127,Enter:13,Meta_LEFT:91,Meta_RIGHT:92,Space:32},{Alt:18,AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,CapsLock:20,Control:17,ContextMenu:93,Dead:221,Delete:46,End:35,Escape:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Home:36,Insert:45,NumLock:144,PageDown:34,PageUp:33,Pause:19,PrintScreen:44,Process:229,Shift:16,ScrollLock:145,Tab:9,Unidentified:229}),l=Object.entries(s).reduce(function(e,t){var n=r(t,2),o=n[0],a=n[1];return e[a]=void 0===e[a]?o:e[a],e},{});t.keys=Object.entries(s).reduce(function(e,t){var n=r(t,2),o=n[0];return n[1],e[o]="Space"===o?" ":o,e},{})},2391:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.analyseMask=function(e,t,n){var r,o,l,c,d,u,f=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,p=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,m=!1,h=new i.default,g=[],v=[],b=!1;function y(e,r,o){o=void 0!==o?o:e.matches.length;var i=e.matches[o-1];if(t){if(0===r.indexOf("[")||m&&/\\d|\\s|\\w|\\p/i.test(r)||"."===r){var l=n.casing?"i":"";/\\p\{.*}/i.test(r)&&(l+="u"),e.matches.splice(o++,0,{fn:new RegExp(r,l),static:!1,optionality:!1,newBlockMarker:void 0===i?"master":i.def!==r,casing:null,def:r,placeholder:"object"===s(n.placeholder)?n.placeholder[h.matches.length]:void 0,nativeDef:r})}else m&&(r=r[r.length-1]),r.split("").forEach(function(t,r){i=e.matches[o-1],e.matches.splice(o++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||t)?new RegExp("["+(n.staticDefinitionSymbol||t)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===i?"master":i.def!==t&&!0!==i.static,casing:null,def:n.staticDefinitionSymbol||t,placeholder:void 0!==n.staticDefinitionSymbol?t:"object"===s(n.placeholder)?n.placeholder[h.matches.length]:void 0,nativeDef:(m?"'":"")+t})});m=!1}else{var c=n.definitions&&n.definitions[r]||n.usePrototypeDefinitions&&a.default.prototype.definitions[r];c&&!m?e.matches.splice(o++,0,{fn:c.validator?"string"==typeof c.validator?new RegExp(c.validator,n.casing?"i":""):new function(){this.test=c.validator}:/./,static:c.static||!1,optionality:c.optional||!1,defOptionality:c.optional||!1,newBlockMarker:void 0===i||c.optional?"master":i.def!==(c.definitionSymbol||r),casing:c.casing,def:c.definitionSymbol||r,placeholder:c.placeholder,nativeDef:r,generated:c.generated}):(e.matches.splice(o++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||r)?new RegExp("["+(n.staticDefinitionSymbol||r)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===i?"master":i.def!==r&&!0!==i.static,casing:null,def:n.staticDefinitionSymbol||r,placeholder:void 0!==n.staticDefinitionSymbol?r:void 0,nativeDef:(m?"'":"")+r}),m=!1)}}function k(){if(g.length>0){if(y(c=g[g.length-1],o),c.isAlternator){d=g.pop();for(var e=0;e<d.matches.length;e++)d.matches[e].isGroup&&(d.matches[e].isGroup=!1);g.length>0?(c=g[g.length-1]).matches.push(d):h.matches.push(d)}}else y(h,o)}function x(e){var t=new i.default(!0);return t.openGroup=!1,t.matches=e,t}function C(){if((l=g.pop()).openGroup=!1,void 0!==l)if(g.length>0){if((c=g[g.length-1]).matches.push(l),c.isAlternator){d=g.pop();for(var e=0;e<d.matches.length;e++)d.matches[e].isGroup=!1,d.matches[e].alternatorGroup=!1;g.length>0?(c=g[g.length-1]).matches.push(d):h.matches.push(d)}}else h.matches.push(l);else k()}function w(e){var t=e.pop();return t.isQuantifier&&(t=x([e.pop(),t])),t}for(t&&(n.optionalmarker[0]=void 0,n.optionalmarker[1]=void 0);r=t?p.exec(e):f.exec(e);){if(o=r[0],t){switch(o.charAt(0)){case"?":o="{0,1}";break;case"+":case"*":o="{"+o+"}";break;case"|":if(0===g.length){var S=x(h.matches);S.openGroup=!0,g.push(S),h.matches=[],b=!0}}switch(o){case"\\d":o="[0-9]";break;case"\\p":o+=p.exec(e)[0],o+=p.exec(e)[0]}}if(m)k();else switch(o.charAt(0)){case"$":case"^":t||k();break;case n.escapeChar:m=!0,t&&k();break;case n.optionalmarker[1]:case n.groupmarker[1]:C();break;case n.optionalmarker[0]:g.push(new i.default(!1,!0));break;case n.groupmarker[0]:g.push(new i.default(!0));break;case n.quantifiermarker[0]:var E=new i.default(!1,!1,!0),_=(o=o.replace(/[{}?]/g,"")).split("|"),A=_[0].split(","),T=isNaN(A[0])?A[0]:parseInt(A[0]),N=1===A.length?T:isNaN(A[1])?A[1]:parseInt(A[1]),O=isNaN(_[1])?_[1]:parseInt(_[1]);"*"!==T&&"+"!==T||(T="*"===N?0:1),E.quantifier={min:T,max:N,jit:O};var R=g.length>0?g[g.length-1].matches:h.matches;(r=R.pop()).isGroup||(r=x([r])),R.push(r),R.push(E);break;case n.alternatormarker:if(g.length>0){var P=(c=g[g.length-1]).matches[c.matches.length-1];u=c.openGroup&&(void 0===P.matches||!1===P.isGroup&&!1===P.isAlternator)?g.pop():w(c.matches)}else u=w(h.matches);if(u.isAlternator)g.push(u);else if(u.alternatorGroup?(d=g.pop(),u.alternatorGroup=!1):d=new i.default(!1,!1,!1,!0),d.matches.push(u),g.push(d),u.openGroup){u.openGroup=!1;var D=new i.default(!0);D.alternatorGroup=!0,g.push(D)}break;default:k()}}for(b&&C();g.length>0;)l=g.pop(),h.matches.push(l);return h.matches.length>0&&(function e(r){r&&r.matches&&r.matches.forEach(function(o,a){var i=r.matches[a+1];(void 0===i||void 0===i.matches||!1===i.isQuantifier)&&o&&o.isGroup&&(o.isGroup=!1,t||(y(o,n.groupmarker[0],0),!0!==o.openGroup&&y(o,n.groupmarker[1]))),e(o)})}(h),v.push(h)),(n.numericInput||n.isRTL)&&function e(t){for(var r in t.matches=t.matches.reverse(),t.matches)if(Object.prototype.hasOwnProperty.call(t.matches,r)){var o=parseInt(r);if(t.matches[r].isQuantifier&&t.matches[o+1]&&t.matches[o+1].isGroup){var a=t.matches[r];t.matches.splice(r,1),t.matches.splice(o+1,0,a)}void 0!==t.matches[r].matches?t.matches[r]=e(t.matches[r]):t.matches[r]=((i=t.matches[r])===n.optionalmarker[0]?i=n.optionalmarker[1]:i===n.optionalmarker[1]?i=n.optionalmarker[0]:i===n.groupmarker[0]?i=n.groupmarker[1]:i===n.groupmarker[1]&&(i=n.groupmarker[0]),i)}var i;return t}(v[0]),v},t.generateMaskSet=function(e,t){var n;function i(e,t){var n=t.repeat,r=t.groupmarker,a=t.quantifiermarker,i=t.keepStatic;if(n>0||"*"===n||"+"===n){var s="*"===n?0:"+"===n?1:n;if(s!=n)e=r[0]+e+r[1]+a[0]+s+","+n+a[1];else for(var c=e,d=1;d<s;d++)e+=c}if(!0===i){var u=e.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));u&&u.forEach(function(t,n){var r=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,o,a,i=[],s=!0,l=!1;try{for(o=(t=t.call(e)).next,!2;!(s=(n=o.call(t)).done)&&(i.push(n.value),2!==i.length);s=!0);}catch(e){l=!0,r=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw r}}return i}}(e)||function(e){if(e){if("string"==typeof e)return l(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("[")),a=r[0],i=r[1];i=i.replace("]",""),e=e.replace(new RegExp("".concat((0,o.default)(a),"\\[").concat((0,o.default)(i),"\\]")),a.charAt(0)===i.charAt(0)?"(".concat(a,"|").concat(a).concat(i,")"):"".concat(a,"[").concat(i,"]"))})}return e}function c(e,n,o){var l,c,d=!1;return null!==e&&""!==e||((d=null!==o.regex)?e=(e=o.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(d=!0,e=".*")),1===e.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),e=i(e,o),c=d?"regex_"+o.regex:o.numericInput?e.split("").reverse().join(""):e,null!==o.keepStatic&&(c="ks_"+o.keepStatic+c),"object"===s(o.placeholder)&&(c="ph_"+JSON.stringify(o.placeholder)+c),void 0===a.default.prototype.masksCache[c]||!0===t?(l={mask:e,maskToken:a.default.prototype.analyseMask(e,d,o),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:n,maskLength:void 0,jitOffset:{}},!0!==t&&(a.default.prototype.masksCache[c]=l,l=r.default.extend(!0,{},a.default.prototype.masksCache[c]))):l=r.default.extend(!0,{},a.default.prototype.masksCache[c]),l}if("function"==typeof e.mask&&(e.mask=e.mask(e)),Array.isArray(e.mask)){if(e.mask.length>1){null===e.keepStatic&&(e.keepStatic=!0);var d=e.groupmarker[0];return(e.isRTL?e.mask.reverse():e.mask).forEach(function(t){d.length>1&&(d+=e.alternatormarker),void 0!==t.mask&&"function"!=typeof t.mask?d+=t.mask:d+=t}),c(d+=e.groupmarker[1],e.mask,e)}e.mask=e.mask.pop()}return n=e.mask&&void 0!==e.mask.mask&&"function"!=typeof e.mask.mask?c(e.mask.mask,e.mask,e):c(e.mask,e.mask,e),null===e.keepStatic&&(e.keepStatic=!1),n};var r=c(n(4963)),o=c(n(7184)),a=c(n(2394)),i=c(n(9695));function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return e&&e.__esModule?e:{default:e}}},157:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mask=function(){var e=this,t=this.opts,n=this.el,c=this.dependencyLib;a.EventRuler.off(n);var d=function(t,n){var r=t.getAttribute("type"),o="input"===t.tagName.toLowerCase()&&n.supportsInputType.includes(r)||t.isContentEditable||"textarea"===t.tagName.toLowerCase();if(!o)if("input"===t.tagName.toLowerCase()){var l=document.createElement("input");l.setAttribute("type",r),o="text"===l.type,l=null}else o="partial";return!1!==o?function(t){var r,o;function l(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==s.getLastValidPosition.call(e)||!0!==n.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&n.clearMaskOnLostFocus?(e.isRTL?i.clearOptionalTail.call(e,s.getBuffer.call(e).slice()).reverse():i.clearOptionalTail.call(e,s.getBuffer.call(e).slice())).join(""):r.call(this):"":r.call(this)}function d(e){o.call(this,e),this.inputmask&&(0,i.applyInputValue)(this,e)}if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){var u=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;u&&u.get&&u.set?(r=u.get,o=u.set,Object.defineProperty(t,"value",{get:l,set:d,configurable:!0})):"input"!==t.tagName.toLowerCase()&&(r=function(){return this.textContent},o=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:l,set:d,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(r=t.__lookupGetter__("value"),o=t.__lookupSetter__("value"),t.__defineGetter__("value",l),t.__defineSetter__("value",d));t.inputmask.__valueGet=r,t.inputmask.__valueSet=o}t.inputmask._valueGet=function(t){return e.isRTL&&!0!==t?r.call(this.el).split("").reverse().join(""):r.call(this.el)},t.inputmask._valueSet=function(t,n){o.call(this.el,null==t?"":!0!==n&&e.isRTL?t.split("").reverse().join(""):t)},void 0===r&&(r=function(){return this.value},o=function(e){this.value=e},function(t){if(c.valHooks&&(void 0===c.valHooks[t]||!0!==c.valHooks[t].inputmaskpatch)){var r=c.valHooks[t]&&c.valHooks[t].get?c.valHooks[t].get:function(e){return e.value},o=c.valHooks[t]&&c.valHooks[t].set?c.valHooks[t].set:function(e,t){return e.value=t,e};c.valHooks[t]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var o=r(t);return-1!==s.getLastValidPosition.call(e,void 0,void 0,t.inputmask.maskset.validPositions)||!0!==n.nullable?o:""}return r(t)},set:function(e,t){var n=o(e,t);return e.inputmask&&(0,i.applyInputValue)(e,t),n},inputmaskpatch:!0}}}(t.type),function(e){a.EventRuler.on(e,"mouseenter",function(){var e=this,t=e.inputmask._valueGet(!0);t!=(e.inputmask.isRTL?s.getBuffer.call(e.inputmask).slice().reverse():s.getBuffer.call(e.inputmask)).join("")&&(0,i.applyInputValue)(e,t)})}(t))}}(t):t.inputmask=void 0,o}(n,t);if(!1!==d){e.originalPlaceholder=n.placeholder,e.maxLength=void 0!==n?n.maxLength:void 0,-1===e.maxLength&&(e.maxLength=void 0),"inputMode"in n&&null===n.getAttribute("inputmode")&&(n.inputMode=t.inputmode,n.setAttribute("inputmode",t.inputmode)),!0===d&&(t.showMaskOnFocus=t.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(n.autocomplete),r.iphone&&(t.insertModeVisual=!1,n.setAttribute("autocorrect","off")),a.EventRuler.on(n,"submit",o.EventHandlers.submitEvent),a.EventRuler.on(n,"reset",o.EventHandlers.resetEvent),a.EventRuler.on(n,"blur",o.EventHandlers.blurEvent),a.EventRuler.on(n,"focus",o.EventHandlers.focusEvent),a.EventRuler.on(n,"invalid",o.EventHandlers.invalidEvent),a.EventRuler.on(n,"click",o.EventHandlers.clickEvent),a.EventRuler.on(n,"mouseleave",o.EventHandlers.mouseleaveEvent),a.EventRuler.on(n,"mouseenter",o.EventHandlers.mouseenterEvent),a.EventRuler.on(n,"paste",o.EventHandlers.pasteEvent),a.EventRuler.on(n,"cut",o.EventHandlers.cutEvent),a.EventRuler.on(n,"complete",t.oncomplete),a.EventRuler.on(n,"incomplete",t.onincomplete),a.EventRuler.on(n,"cleared",t.oncleared),!0!==t.inputEventOnly&&a.EventRuler.on(n,"keydown",o.EventHandlers.keyEvent),(r.mobile||t.inputEventOnly)&&n.removeAttribute("maxLength"),a.EventRuler.on(n,"input",o.EventHandlers.inputFallBackEvent)),a.EventRuler.on(n,"setvalue",o.EventHandlers.setValueEvent),void 0===e.applyMaskHook||e.applyMaskHook(),s.getBufferTemplate.call(e).join(""),e.undoValue=e._valueGet(!0);var u=(n.inputmask.shadowRoot||n.ownerDocument).activeElement;if(""!==n.inputmask._valueGet(!0)||!1===t.clearMaskOnLostFocus||u===n){(0,i.applyInputValue)(n,n.inputmask._valueGet(!0),t);var f=s.getBuffer.call(e).slice();!1===l.isComplete.call(e,f)&&t.clearIncomplete&&s.resetMaskSet.call(e,!1),t.clearMaskOnLostFocus&&u!==n&&(-1===s.getLastValidPosition.call(e)?f=[]:i.clearOptionalTail.call(e,f)),(!1===t.clearMaskOnLostFocus||t.showMaskOnFocus&&u===n||""!==n.inputmask._valueGet(!0))&&(0,i.writeBuffer)(n,f),u===n&&s.caret.call(e,n,s.seekNext.call(e,s.getLastValidPosition.call(e)))}}};var r=n(9845),o=n(6030),a=n(9716),i=n(7760),s=n(8711),l=n(7215)},9695:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=r||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var o=0|t,a=Math.max(o>=0?o:r-Math.abs(o),0);a<r;){if(n[a]===e)return!0;a++}return!1}})},9302:function(){var e=Function.bind.call(Function.call,Array.prototype.reduce),t=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),n=Function.bind.call(Function.call,Array.prototype.concat),r=Object.keys;Object.entries||(Object.entries=function(o){return e(r(o),function(e,r){return n(e,"string"==typeof r&&t(o,r)?[[r,o[r]]]:[])},[])})},7149:function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===e("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)})},8711:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.caret=function(e,t,n,r,a){var i,s=this,l=this.opts;if(void 0===t)return"selectionStart"in e&&"selectionEnd"in e?(t=e.selectionStart,n=e.selectionEnd):o.default.getSelection?(i=o.default.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&i.commonAncestorContainer!==e||(t=i.startOffset,n=i.endOffset):document.selection&&document.selection.createRange&&(n=(t=0-(i=document.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+i.text.length),{begin:r?t:u.call(s,t),end:r?n:u.call(s,n)};if(Array.isArray(t)&&(n=s.isRTL?t[0]:t[1],t=s.isRTL?t[1]:t[0]),void 0!==t.begin&&(n=s.isRTL?t.begin:t.end,t=s.isRTL?t.end:t.begin),"number"==typeof t){t=r?t:u.call(s,t),n="number"==typeof(n=r?n:u.call(s,n))?n:t;var c=parseInt(((e.ownerDocument.defaultView||o.default).getComputedStyle?(e.ownerDocument.defaultView||o.default).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=c>e.scrollWidth?c:0,e.inputmask.caretPos={begin:t,end:n},l.insertModeVisual&&!1===l.insertMode&&t===n&&(a||n++),e===(e.inputmask.shadowRoot||e.ownerDocument).activeElement){if("setSelectionRange"in e)e.setSelectionRange(t,n);else if(o.default.getSelection){if(i=document.createRange(),void 0===e.firstChild||null===e.firstChild){var d=document.createTextNode("");e.appendChild(d)}i.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),i.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),i.collapse(!0);var f=o.default.getSelection();f.removeAllRanges(),f.addRange(i)}else e.createTextRange&&((i=e.createTextRange()).collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select());void 0===e.inputmask.caretHook||e.inputmask.caretHook.call(s,{begin:t,end:n})}}},t.determineLastRequiredPosition=function(e){var t,n,r=this,o=r.maskset,s=r.dependencyLib,c=l.call(r),d={},u=o.validPositions[c],f=i.getMaskTemplate.call(r,!0,l.call(r),!0,!0),p=f.length,m=void 0!==u?u.locator.slice():void 0;for(t=c+1;t<f.length;t++)m=(n=i.getTestTemplate.call(r,t,m,t-1)).locator.slice(),d[t]=s.extend(!0,{},n);var h=u&&void 0!==u.alternation?u.locator[u.alternation]:void 0;for(t=p-1;t>c&&((n=d[t]).match.optionality||n.match.optionalQuantifier&&n.match.newBlockMarker||h&&(h!==d[t].locator[u.alternation]&&!0!==n.match.static||!0===n.match.static&&n.locator[u.alternation]&&a.checkAlternationMatch.call(r,n.locator[u.alternation].toString().split(","),h.toString().split(","))&&""!==i.getTests.call(r,t)[0].def))&&f[t]===i.getPlaceholder.call(r,t,n.match);t--)p--;return e?{l:p,def:d[p]?d[p].match:void 0}:p},t.determineNewCaretPosition=function(e,t,n){var r,o,a,u=this,f=u.maskset,p=u.opts;if(t&&(u.isRTL?e.end=e.begin:e.begin=e.end),e.begin===e.end){switch(n=n||p.positionCaretOnClick){case"none":break;case"select":e={begin:0,end:s.call(u).length};break;case"ignore":e.end=e.begin=d.call(u,l.call(u));break;case"radixFocus":if(u.clicked>1&&0===f.validPositions.length)break;if(function(e){if(""!==p.radixPoint&&0!==p.digits){var t=f.validPositions;if(void 0===t[e]||void 0===t[e].input){if(e<d.call(u,-1))return!0;var n=s.call(u).indexOf(p.radixPoint);if(-1!==n){for(var r=0,o=t.length;r<o;r++)if(t[r]&&n<r&&t[r].input!==i.getPlaceholder.call(u,r))return!1;return!0}}}return!1}(e.begin)){var m=s.call(u).join("").indexOf(p.radixPoint);e.end=e.begin=p.numericInput?d.call(u,m):m;break}default:if(r=e.begin,o=l.call(u,r,!0),r<=(a=d.call(u,-1!==o||c.call(u,0)?o:-1)))e.end=e.begin=c.call(u,r,!1,!0)?r:d.call(u,r);else{var h=f.validPositions[o],g=i.getTestTemplate.call(u,a,h?h.match.locator:void 0,h),v=i.getPlaceholder.call(u,a,g.match);if(""!==v&&s.call(u)[a]!==v&&!0!==g.match.optionalQuantifier&&!0!==g.match.newBlockMarker||!c.call(u,a,p.keepStatic,!0)&&g.match.def===v){var b=d.call(u,a);(r>=b||r===a)&&(a=b)}e.end=e.begin=a}}return e}},t.getBuffer=s,t.getBufferTemplate=function(){var e=this.maskset;return void 0===e._buffer&&(e._buffer=i.getMaskTemplate.call(this,!1,1),void 0===e.buffer&&(e.buffer=e._buffer.slice())),e._buffer},t.getLastValidPosition=l,t.isMask=c,t.resetMaskSet=function(e){var t=this.maskset;t.buffer=void 0,!0!==e&&(t.validPositions=[],t.p=0),!1===e&&(t.tests={},t.jitOffset={})},t.seekNext=d,t.seekPrevious=function(e,t){var n=this,r=e-1;if(e<=0)return 0;for(;r>0&&(!0===t&&(!0!==i.getTest.call(n,r).match.newBlockMarker||!c.call(n,r,void 0,!0))||!0!==t&&!c.call(n,r,void 0,!0));)r--;return r},t.translatePosition=u;var r,o=(r=n(9380))&&r.__esModule?r:{default:r},a=n(7215),i=n(4713);function s(e){var t=this,n=t.maskset;return void 0!==n.buffer&&!0!==e||(n.buffer=i.getMaskTemplate.call(t,!0,l.call(t),!0),void 0===n._buffer&&(n._buffer=n.buffer.slice())),n.buffer}function l(e,t,n){var r=this.maskset,o=-1,a=-1,i=n||r.validPositions;void 0===e&&(e=-1);for(var s=0,l=i.length;s<l;s++)i[s]&&(t||!0!==i[s].generatedInput)&&(s<=e&&(o=s),s>=e&&(a=s));return-1===o||o===e?a:-1===a||e-o<a-e?o:a}function c(e,t,n){var r=this,o=this.maskset,a=i.getTestTemplate.call(r,e).match;if(""===a.def&&(a=i.getTest.call(r,e).match),!0!==a.static)return a.fn;if(!0===n&&void 0!==o.validPositions[e]&&!0!==o.validPositions[e].generatedInput)return!0;if(!0!==t&&e>-1){if(n){var s=i.getTests.call(r,e);return s.length>1+(""===s[s.length-1].match.def?1:0)}var l=i.determineTestTemplate.call(r,e,i.getTests.call(r,e)),c=i.getPlaceholder.call(r,e,l.match);return l.match.def!==c}return!1}function d(e,t,n){var r=this;void 0===n&&(n=!0);for(var o=e+1;""!==i.getTest.call(r,o).match.def&&(!0===t&&(!0!==i.getTest.call(r,o).match.newBlockMarker||!c.call(r,o,void 0,!0))||!0!==t&&!c.call(r,o,void 0,n));)o++;return o}function u(e){var t=this.opts,n=this.el;return!this.isRTL||"number"!=typeof e||t.greedy&&""===t.placeholder||!n||(e=this._valueGet().length-e)<0&&(e=0),e}},4713:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.determineTestTemplate=u,t.getDecisionTaker=l,t.getMaskTemplate=function(e,t,n,r,o){var a=this,i=this.opts,s=this.maskset,l=i.greedy;o&&i.greedy&&(i.greedy=!1,a.maskset.tests={}),t=t||0;var f,p,h,g,v=[],b=0;do{if(!0===e&&s.validPositions[b])p=(h=o&&s.validPositions[b].match.optionality&&void 0===s.validPositions[b+1]&&(!0===s.validPositions[b].generatedInput||s.validPositions[b].input==i.skipOptionalPartCharacter&&b>0)?u.call(a,b,m.call(a,b,f,b-1)):s.validPositions[b]).match,f=h.locator.slice(),v.push(!0===n?h.input:!1===n?p.nativeDef:c.call(a,b,p));else{p=(h=d.call(a,b,f,b-1)).match,f=h.locator.slice();var y=!0!==r&&(!1!==i.jitMasking?i.jitMasking:p.jit);(g=(g||s.validPositions[b-1])&&p.static&&p.def!==i.groupSeparator&&null===p.fn)||!1===y||void 0===y||"number"==typeof y&&isFinite(y)&&y>b?v.push(!1===n?p.nativeDef:c.call(a,v.length,p)):g=!1}b++}while(!0!==p.static||""!==p.def||t>b);return""===v[v.length-1]&&v.pop(),!1===n&&void 0!==s.maskLength||(s.maskLength=b-1),i.greedy=l,v},t.getPlaceholder=c,t.getTest=f,t.getTestTemplate=d,t.getTests=m,t.isSubsetOf=p;var r,o=(r=n(2394))&&r.__esModule?r:{default:r},a=n(8711);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){var n=(null!=e.alternation?e.mloc[l(e)]:e.locator).join("");if(""!==n)for(n=n.split(":")[0];n.length<t;)n+="0";return n}function l(e){var t=e.locator[e.alternation];return"string"==typeof t&&t.length>0&&(t=t.split(",")[0]),void 0!==t?t.toString():""}function c(e,t,n){var r=this,o=this.opts,s=this.maskset;if(void 0!==(t=t||f.call(r,e).match).placeholder||!0===n){if(""!==t.placeholder&&!0===t.static&&!0!==t.generated){var l=a.getLastValidPosition.call(r,e),c=a.seekNext.call(r,l);return(n?e<=c:e<c)?o.staticDefinitionSymbol&&t.static?t.nativeDef:t.def:"function"==typeof t.placeholder?t.placeholder(o):t.placeholder}return"function"==typeof t.placeholder?t.placeholder(o):t.placeholder}if(!0===t.static){if(e>-1&&void 0===s.validPositions[e]){var d,u=m.call(r,e),p=[];if("string"==typeof o.placeholder&&u.length>1+(""===u[u.length-1].match.def?1:0))for(var h=0;h<u.length;h++)if(""!==u[h].match.def&&!0!==u[h].match.optionality&&!0!==u[h].match.optionalQuantifier&&(!0===u[h].match.static||void 0===d||!1!==u[h].match.fn.test(d.match.def,s,e,!0,o))&&(p.push(u[h]),!0===u[h].match.static&&(d=u[h]),p.length>1&&/[0-9a-bA-Z]/.test(p[0].match.def)))return o.placeholder.charAt(e%o.placeholder.length)}return t.def}return"object"===i(o.placeholder)?t.def:o.placeholder.charAt(e%o.placeholder.length)}function d(e,t,n){return this.maskset.validPositions[e]||u.call(this,e,m.call(this,e,t?t.slice():t,n))}function u(e,t){var n=this.opts,r=0,o=function(e,t){var n=0,r=!1;return t.forEach(function(e){e.match.optionality&&(0!==n&&n!==e.match.optionality&&(r=!0),(0===n||n>e.match.optionality)&&(n=e.match.optionality))}),n&&(0==e||1==t.length?n=0:r||(n=0)),n}(e,t);e=e>0?e-1:0;var a,i,l,c=s(f.call(this,e));n.greedy&&t.length>1&&""===t[t.length-1].match.def&&(r=1);for(var d=0;d<t.length-r;d++){var u=t[d];a=s(u,c.length);var p=Math.abs(a-c);(!0!==u.unMatchedAlternationStopped||t.filter(function(e){return!0!==e.unMatchedAlternationStopped}).length<=1)&&(void 0===i||""!==a&&p<i||l&&!n.greedy&&l.match.optionality&&l.match.optionality-o>0&&"master"===l.match.newBlockMarker&&(!u.match.optionality||u.match.optionality-o<1||!u.match.newBlockMarker)||l&&!n.greedy&&l.match.optionalQuantifier&&!u.match.optionalQuantifier)&&(i=p,l=u)}return l}function f(e,t){var n=this.maskset;return n.validPositions[e]?n.validPositions[e]:(t||m.call(this,e))[0]}function p(e,t,n){function r(e){for(var t,n=[],r=-1,o=0,a=e.length;o<a;o++)if("-"===e.charAt(o))for(t=e.charCodeAt(o+1);++r<t;)n.push(String.fromCharCode(r));else r=e.charCodeAt(o),n.push(e.charAt(o));return n.join("")}return e.match.def===t.match.nativeDef||!(!(n.regex||e.match.fn instanceof RegExp&&t.match.fn instanceof RegExp)||!0===e.match.static||!0===t.match.static)&&("."===t.match.fn.source||-1!==r(t.match.fn.source.replace(/[[\]/]/g,"")).indexOf(r(e.match.fn.source.replace(/[[\]/]/g,""))))}function m(e,t,n){var r,a,i=this,s=this.dependencyLib,l=this.maskset,c=this.opts,d=this.el,f=l.maskToken,m=t?n:0,h=t?t.slice():[0],g=[],v=!1,b=t?t.join(""):"",y=!1;function k(t,n,a,s){function u(a,s,f){function h(e,t){var n=0===t.matches.indexOf(e);return n||t.matches.every(function(r,o){return!0===r.isQuantifier?n=h(e,t.matches[o-1]):Object.prototype.hasOwnProperty.call(r,"matches")&&(n=h(e,r)),!n}),n}function C(e,t,n){var r,o;if((l.tests[e]||l.validPositions[e])&&(l.validPositions[e]?[l.validPositions[e]]:l.tests[e]).every(function(e,a){if(e.mloc[t])return r=e,!1;var i=void 0!==n?n:e.alternation,s=void 0!==e.locator[i]?e.locator[i].toString().indexOf(t):-1;return(void 0===o||s<o)&&-1!==s&&(r=e,o=s),!0}),r){var a=r.locator[r.alternation],i=r.mloc[t]||r.mloc[a]||r.locator;return-1!==i[i.length-1].toString().indexOf(":")&&i.pop(),i.slice((void 0!==n?n:r.alternation)+1)}return void 0!==n?C(e,t):void 0}function w(t,n){return!0===t.match.static&&!0!==n.match.static&&n.match.fn.test(t.match.def,l,e,!1,c,!1)}function S(e,t){var n=e.alternation,r=void 0===t||n<=t.alternation&&-1===e.locator[n].toString().indexOf(t.locator[n]);if(!r&&n>t.alternation)for(var o=0;o<n;o++)if(e.locator[o]!==t.locator[o]){n=o,r=!0;break}return!!r&&function(n){e.mloc=e.mloc||{};var r=e.locator[n];if(void 0!==r){if("string"==typeof r&&(r=r.split(",")[0]),void 0===e.mloc[r]&&(e.mloc[r]=e.locator.slice(),e.mloc[r].push(":".concat(e.alternation))),void 0!==t){for(var o in t.mloc)"string"==typeof o&&(o=parseInt(o.split(",")[0])),e.mloc[o+0]=t.mloc[o];e.locator[n]=Object.keys(e.mloc).join(",")}return e.alternation>n&&(e.alternation=n),!0}return e.alternation=void 0,!1}(n)}function E(e,t){if(e.locator.length!==t.locator.length)return!1;for(var n=e.alternation+1;n<e.locator.length;n++)if(e.locator[n]!==t.locator[n])return!1;return!0}if(m>e+c._maxTestPos)throw new Error("Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. ".concat(l.mask));if(m===e&&void 0===a.matches){if(g.push({match:a,locator:s.reverse(),cd:b,mloc:{}}),!a.optionality||void 0!==f||!(c.definitions&&c.definitions[a.nativeDef]&&c.definitions[a.nativeDef].optional||o.default.prototype.definitions[a.nativeDef]&&o.default.prototype.definitions[a.nativeDef].optional))return!0;v=!0,m=e}else if(void 0!==a.matches){if(a.isGroup&&f!==a)return function(){if(a=u(t.matches[t.matches.indexOf(a)+1],s,f))return!0}();if(a.isOptional)return function(){var t=a,o=g.length;if(a=k(a,n,s,f),g.length>0){if(g.forEach(function(e,t){t>=o&&(e.match.optionality=e.match.optionality?e.match.optionality+1:1)}),r=g[g.length-1].match,void 0!==f||!h(r,t))return a;v=!0,m=e}}();if(a.isAlternator)return function(){function r(e){for(var t,n=e.matches[0].matches?e.matches[0].matches.length:1,r=0;r<e.matches.length&&n===(t=e.matches[r].matches?e.matches[r].matches.length:1);r++);return n!==t}i.hasAlternator=!0;var o,h=a,b=[],k=g.slice(),x=s.length,_=n.length>0?n.shift():-1;if(-1===_||"string"==typeof _){var A,T=m,N=n.slice(),O=[];if("string"==typeof _)O=_.split(",");else for(A=0;A<h.matches.length;A++)O.push(A.toString());if(void 0!==l.excludes[e]){for(var R=O.slice(),P=0,D=l.excludes[e].length;P<D;P++){var M=l.excludes[e][P].toString().split(":");s.length==M[1]&&O.splice(O.indexOf(M[0]),1)}0===O.length&&(delete l.excludes[e],O=R)}(!0===c.keepStatic||isFinite(parseInt(c.keepStatic))&&T>=c.keepStatic)&&(O=O.slice(0,1));for(var B=0;B<O.length;B++){A=parseInt(O[B]),g=[],n="string"==typeof _&&C(m,A,x)||N.slice();var L=h.matches[A];if(L&&u(L,[A].concat(s),f))a=!0;else if(0===B&&(y=r(h)),L&&L.matches&&L.matches.length>h.matches[0].matches.length)break;o=g.slice(),m=T,g=[];for(var I=0;I<o.length;I++){var j=o[I],F=!1;j.alternation=j.alternation||x,S(j);for(var U=0;U<b.length;U++){var H=b[U];if("string"!=typeof _||void 0!==j.alternation&&O.includes(j.locator[j.alternation].toString())){if(j.match.nativeDef===H.match.nativeDef){F=!0,S(H,j);break}if(p(j,H,c)){S(j,H)&&(F=!0,b.splice(b.indexOf(H),0,j));break}if(p(H,j,c)){S(H,j);break}if(w(j,H)){E(j,H)||void 0!==d.inputmask.userOptions.keepStatic?S(j,H)&&(F=!0,b.splice(b.indexOf(H),0,j)):c.keepStatic=!0;break}if(w(H,j)){S(H,j);break}}}F||b.push(j)}}g=k.concat(b),m=e,v=g.length>0&&y,a=b.length>0&&!y,y&&v&&!a&&g.forEach(function(e,t){e.unMatchedAlternationStopped=!0}),n=N.slice()}else a=u(h.matches[_]||t.matches[_],[_].concat(s),f);if(a)return!0}();if(a.isQuantifier&&f!==t.matches[t.matches.indexOf(a)-1])return function(){for(var o=a,i=!1,d=n.length>0?n.shift():0;d<(isNaN(o.quantifier.max)?d+1:o.quantifier.max)&&m<=e;d++){var f=t.matches[t.matches.indexOf(o)-1];if(a=u(f,[d].concat(s),f)){if(g.forEach(function(t,n){(r=x(f,t.match)?t.match:g[g.length-1].match).optionalQuantifier=d>=o.quantifier.min,r.jit=(d+1)*(f.matches.indexOf(r)+1)>o.quantifier.jit,r.optionalQuantifier&&h(r,f)&&(v=!0,m=e,c.greedy&&null==l.validPositions[e-1]&&d>o.quantifier.min&&-1!=["*","+"].indexOf(o.quantifier.max)&&(g.pop(),b=void 0),i=!0,a=!1),!i&&r.jit&&(l.jitOffset[e]=f.matches.length-f.matches.indexOf(r))}),i)break;return!0}}}();if(a=k(a,n,s,f))return!0}else m++}for(var f=n.length>0?n.shift():0;f<t.matches.length;f++)if(!0!==t.matches[f].isQuantifier){var h=u(t.matches[f],[f].concat(a),s);if(h&&m===e)return h;if(m>e)break}}function x(e,t){var n=-1!=e.matches.indexOf(t);return n||e.matches.forEach(function(e,r){void 0===e.matches||n||(n=x(e,t))}),n}if(e>-1){if(void 0===t){for(var C,w=e-1;void 0===(C=l.validPositions[w]||l.tests[w])&&w>-1;)w--;void 0!==C&&w>-1&&(h=function(e,t){var n,r=[];return Array.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation||!0===c.keepStatic?0===(r=u.call(i,e,t.slice()).locator.slice()).length&&(r=t[0].locator.slice()):t.forEach(function(e){""!==e.def&&(0===r.length?(n=e.alternation,r=e.locator.slice()):e.locator[n]&&-1===r[n].toString().indexOf(e.locator[n])&&(r[n]+=","+e.locator[n]))})),r}(w,C),b=h.join(""),m=w)}if(l.tests[e]&&l.tests[e][0].cd===b)return l.tests[e];for(var S=h.shift();S<f.length&&!(k(f[S],h,[S])&&m===e||m>e);S++);}return(0===g.length||v)&&g.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:y&&0===g.filter(function(e){return!0!==e.unMatchedAlternationStopped}).length?[0]:[],mloc:{},cd:b}),void 0!==t&&l.tests[e]?a=s.extend(!0,[],g):(l.tests[e]=s.extend(!0,[],g),a=l.tests[e]),g.forEach(function(e){e.match.optionality=e.match.defOptionality||!1}),a}},7215:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.alternate=s,t.checkAlternationMatch=function(e,t,n){for(var r,o=this.opts.greedy?t:t.slice(0,1),a=!1,i=void 0!==n?n.split(","):[],s=0;s<i.length;s++)-1!==(r=e.indexOf(i[s]))&&e.splice(r,1);for(var l=0;l<e.length;l++)if(o.includes(e[l])){a=!0;break}return a},t.handleRemove=function(e,t,n,r,l){var c=this,d=this.maskset,u=this.opts;if((u.numericInput||c.isRTL)&&(t===o.keys.Backspace?t=o.keys.Delete:t===o.keys.Delete&&(t=o.keys.Backspace),c.isRTL)){var f=n.end;n.end=n.begin,n.begin=f}var p,m=a.getLastValidPosition.call(c,void 0,!0);n.end>=a.getBuffer.call(c).length&&m>=n.end&&(n.end=m+1),t===o.keys.Backspace?n.end-n.begin<1&&(n.begin=a.seekPrevious.call(c,n.begin)):t===o.keys.Delete&&n.begin===n.end&&(n.end=a.isMask.call(c,n.end,!0,!0)?n.end+1:a.seekNext.call(c,n.end)+1),!1!==(p=h.call(c,n))&&((!0!==r&&!1!==u.keepStatic||null!==u.regex&&-1!==i.getTest.call(c,n.begin).match.def.indexOf("|"))&&s.call(c,!0),!0!==r&&(d.p=t===o.keys.Delete?n.begin+p:n.begin,d.p=a.determineNewCaretPosition.call(c,{begin:d.p,end:d.p},!1,!1===u.insertMode&&t===o.keys.Backspace?"none":void 0).begin))},t.isComplete=c,t.isSelection=d,t.isValid=u,t.refreshFromBuffer=p,t.revalidateMask=h;var r=n(6030),o=n(2839),a=n(8711),i=n(4713);function s(e,t,n,r,o,l){var c=this,d=this.dependencyLib,f=this.opts,p=c.maskset;if(!c.hasAlternator)return!1;var m,h,g,v,b,y,k,x,C,w,S,E=d.extend(!0,[],p.validPositions),_=d.extend(!0,{},p.tests),A=!1,T=!1,N=void 0!==o?o:a.getLastValidPosition.call(c);if(l&&(w=l.begin,S=l.end,l.begin>l.end&&(w=l.end,S=l.begin)),-1===N&&void 0===o)m=0,h=(v=i.getTest.call(c,m)).alternation;else for(;N>=0;N--)if((g=p.validPositions[N])&&void 0!==g.alternation){if(N<=(e||0)&&v&&v.locator[g.alternation]!==g.locator[g.alternation])break;m=N,h=p.validPositions[m].alternation,v=g}if(void 0!==h){k=parseInt(m),p.excludes[k]=p.excludes[k]||[],!0!==e&&p.excludes[k].push((0,i.getDecisionTaker)(v)+":"+v.alternation);var O=[],R=-1;for(b=k;k<a.getLastValidPosition.call(c,void 0,!0)+1;b++)-1===R&&e<=b&&void 0!==t&&(O.push(t),R=O.length-1),(y=p.validPositions[k])&&!0!==y.generatedInput&&(void 0===l||b<w||b>=S)&&O.push(y.input),p.validPositions.splice(k,1);for(-1===R&&void 0!==t&&(O.push(t),R=O.length-1);void 0!==p.excludes[k]&&p.excludes[k].length<10;){for(p.tests={},a.resetMaskSet.call(c,!0),A=!0,b=0;b<O.length&&(x=A.caret||0==f.insertMode&&null!=x?a.seekNext.call(c,x):a.getLastValidPosition.call(c,void 0,!0)+1,C=O[b],A=u.call(c,x,C,!1,r,!0));b++)b===R&&(T=A),1==e&&A&&(T={caretPos:b});if(A)break;if(a.resetMaskSet.call(c),v=i.getTest.call(c,k),p.validPositions=d.extend(!0,[],E),p.tests=d.extend(!0,{},_),!p.excludes[k]){T=s.call(c,e,t,n,r,k-1,l);break}if(null!=v.alternation){var P=(0,i.getDecisionTaker)(v);if(-1!==p.excludes[k].indexOf(P+":"+v.alternation)){T=s.call(c,e,t,n,r,k-1,l);break}for(p.excludes[k].push(P+":"+v.alternation),b=k;b<a.getLastValidPosition.call(c,void 0,!0)+1;b++)p.validPositions.splice(k)}else delete p.excludes[k]}}return T&&!1===f.keepStatic||delete p.excludes[k],T}function l(e,t,n){var r=this.opts,a=this.maskset;switch(r.casing||t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var i=a.validPositions[n-1];e=0===n||i&&i.input===String.fromCharCode(o.keyCode.Space)?e.toUpperCase():e.toLowerCase();break;default:if("function"==typeof r.casing){var s=Array.prototype.slice.call(arguments);s.push(a.validPositions),e=r.casing.apply(this,s)}}return e}function c(e){var t=this,n=this.opts,r=this.maskset;if("function"==typeof n.isComplete)return n.isComplete(e,n);if("*"!==n.repeat){var o=!1,s=a.determineLastRequiredPosition.call(t,!0),l=s.l;if(void 0===s.def||s.def.newBlockMarker||s.def.optionality||s.def.optionalQuantifier){o=!0;for(var c=0;c<=l;c++){var d=i.getTestTemplate.call(t,c).match;if(!0!==d.static&&void 0===r.validPositions[c]&&(!1===d.optionality||void 0===d.optionality||d.optionality&&0==d.newBlockMarker)&&(!1===d.optionalQuantifier||void 0===d.optionalQuantifier)||!0===d.static&&""!=d.def&&e[c]!==i.getPlaceholder.call(t,c,d)){o=!1;break}}}return o}}function d(e){var t=this.opts.insertMode?0:1;return this.isRTL?e.begin-e.end>t:e.end-e.begin>t}function u(e,t,n,r,o,f,g){var v=this,b=this.dependencyLib,y=this.opts,k=v.maskset;n=!0===n;var x=e;function C(e){if(void 0!==e){if(void 0!==e.remove&&(Array.isArray(e.remove)||(e.remove=[e.remove]),e.remove.sort(function(e,t){return v.isRTL?e.pos-t.pos:t.pos-e.pos}).forEach(function(e){h.call(v,{begin:e,end:e+1})}),e.remove=void 0),void 0!==e.insert&&(Array.isArray(e.insert)||(e.insert=[e.insert]),e.insert.sort(function(e,t){return v.isRTL?t.pos-e.pos:e.pos-t.pos}).forEach(function(e){""!==e.c&&u.call(v,e.pos,e.c,void 0===e.strict||e.strict,void 0!==e.fromIsValid?e.fromIsValid:r)}),e.insert=void 0),e.refreshFromBuffer&&e.buffer){var t=e.refreshFromBuffer;p.call(v,!0===t?t:t.start,t.end,e.buffer),e.refreshFromBuffer=void 0}void 0!==e.rewritePosition&&(x=e.rewritePosition,e=!0)}return e}function w(t,n,o){var s=!1;return i.getTests.call(v,t).every(function(c,u){var f=c.match;if(a.getBuffer.call(v,!0),!1!==(s=(!f.jit||void 0!==k.validPositions[a.seekPrevious.call(v,t)])&&(null!=f.fn?f.fn.test(n,k,t,o,y,d.call(v,e)):(n===f.def||n===y.skipOptionalPartCharacter)&&""!==f.def&&{c:i.getPlaceholder.call(v,t,f,!0)||f.def,pos:t}))){var p=void 0!==s.c?s.c:n,m=t;return p=p===y.skipOptionalPartCharacter&&!0===f.static?i.getPlaceholder.call(v,t,f,!0)||f.def:p,!0!==(s=C(s))&&void 0!==s.pos&&s.pos!==t&&(m=s.pos),!0!==s&&void 0===s.pos&&void 0===s.c||!1===h.call(v,e,b.extend({},c,{input:l.call(v,p,f,m)}),r,m)&&(s=!1),!1}return!0}),s}void 0!==e.begin&&(x=v.isRTL?e.end:e.begin);var S=!0,E=b.extend(!0,[],k.validPositions);if(!1===y.keepStatic&&void 0!==k.excludes[x]&&!0!==o&&!0!==r)for(var _=x;_<(v.isRTL?e.begin:e.end);_++)void 0!==k.excludes[_]&&(k.excludes[_]=void 0,delete k.tests[_]);if("function"==typeof y.preValidation&&!0!==r&&!0!==f&&(S=C(S=y.preValidation.call(v,a.getBuffer.call(v),x,t,d.call(v,e),y,k,e,n||o))),!0===S){if(S=w(x,t,n),(!n||!0===r)&&!1===S&&!0!==f){var A=k.validPositions[x];if(!A||!0!==A.match.static||A.match.def!==t&&t!==y.skipOptionalPartCharacter){if(y.insertMode||void 0===k.validPositions[a.seekNext.call(v,x)]||e.end>x){var T=!1;if(k.jitOffset[x]&&void 0===k.validPositions[a.seekNext.call(v,x)]&&!1!==(S=u.call(v,x+k.jitOffset[x],t,!0,!0))&&(!0!==o&&(S.caret=x),T=!0),e.end>x&&(k.validPositions[x]=void 0),!T&&!a.isMask.call(v,x,y.keepStatic&&0===x))for(var N=x+1,O=a.seekNext.call(v,x,!1,0!==x);N<=O;N++)if(!1!==(S=w(N,t,n))){S=m.call(v,x,void 0!==S.pos?S.pos:N)||S,x=N;break}}}else S={caret:a.seekNext.call(v,x)}}v.hasAlternator&&!0!==o&&!n&&(o=!0,!1===S&&y.keepStatic&&(c.call(v,a.getBuffer.call(v))||0===x)?S=s.call(v,x,t,n,r,void 0,e):(d.call(v,e)&&k.tests[x]&&k.tests[x].length>1&&y.keepStatic||1==S&&!0!==y.numericInput&&k.tests[x]&&k.tests[x].length>1&&a.getLastValidPosition.call(v,void 0,!0)>x)&&(S=s.call(v,!0))),!0===S&&(S={pos:x})}if("function"==typeof y.postValidation&&!0!==r&&!0!==f){var R=y.postValidation.call(v,a.getBuffer.call(v,!0),void 0!==e.begin?v.isRTL?e.end:e.begin:e,t,S,y,k,n,g);void 0!==R&&(S=!0===R?S:R)}S&&void 0===S.pos&&(S.pos=x),!1===S||!0===f?(a.resetMaskSet.call(v,!0),k.validPositions=b.extend(!0,[],E)):m.call(v,void 0,x,!0);var P=C(S);return void 0!==v.maxLength&&a.getBuffer.call(v).length>v.maxLength&&!r&&(a.resetMaskSet.call(v,!0),k.validPositions=b.extend(!0,[],E),P=!1),P}function f(e,t,n){for(var r=this.maskset,o=!1,a=i.getTests.call(this,e),s=0;s<a.length;s++){if(a[s].match&&(a[s].match.nativeDef===t.match[n.shiftPositions?"def":"nativeDef"]&&(!n.shiftPositions||!t.match.static)||a[s].match.nativeDef===t.match.nativeDef||n.regex&&!a[s].match.static&&a[s].match.fn.test(t.input,r,e,!1,n))){o=!0;break}if(a[s].match&&a[s].match.def===t.match.nativeDef){o=void 0;break}}return!1===o&&void 0!==r.jitOffset[e]&&(o=f.call(this,e+r.jitOffset[e],t,n)),o}function p(e,t,n){var o,i,s=this,l=this.maskset,c=this.opts,d=this.dependencyLib,u=c.skipOptionalPartCharacter,f=s.isRTL?n.slice().reverse():n;if(c.skipOptionalPartCharacter="",!0===e)a.resetMaskSet.call(s,!1),e=0,t=n.length,i=a.determineNewCaretPosition.call(s,{begin:0,end:0},!1).begin;else{for(o=e;o<t;o++)l.validPositions.splice(e,0);i=e}var p=new d.Event("keypress");for(o=e;o<t;o++){p.key=f[o].toString(),s.ignorable=!1;var m=r.EventHandlers.keypressEvent.call(s,p,!0,!1,!1,i);!1!==m&&void 0!==m&&(i=m.forwardPosition)}c.skipOptionalPartCharacter=u}function m(e,t,n){var r=this,o=this.maskset,s=this.dependencyLib;if(void 0===e)for(e=t-1;e>0&&!o.validPositions[e];e--);for(var l=e;l<t;l++)if(void 0===o.validPositions[l]&&!a.isMask.call(r,l,!1)&&(0==l?i.getTest.call(r,l):o.validPositions[l-1])){var c=i.getTests.call(r,l).slice();""===c[c.length-1].match.def&&c.pop();var d,f=i.determineTestTemplate.call(r,l,c);if(f&&(!0!==f.match.jit||"master"===f.match.newBlockMarker&&(d=o.validPositions[l+1])&&!0===d.match.optionalQuantifier)&&((f=s.extend({},f,{input:i.getPlaceholder.call(r,l,f.match,!0)||f.match.def})).generatedInput=!0,h.call(r,l,f,!0),!0!==n)){var p=o.validPositions[t].input;return o.validPositions[t]=void 0,u.call(r,t,p,!0,!0)}}}function h(e,t,n,r){var o=this,s=this.maskset,l=this.opts,c=this.dependencyLib;function p(e,t,n){var r=t[e];if(void 0!==r&&!0===r.match.static&&!0!==r.match.optionality&&(void 0===t[0]||void 0===t[0].alternation)){var o=n.begin<=e-1?t[e-1]&&!0===t[e-1].match.static&&t[e-1]:t[e-1],a=n.end>e+1?t[e+1]&&!0===t[e+1].match.static&&t[e+1]:t[e+1];return o&&a}return!1}var m=0,h=void 0!==e.begin?e.begin:e,g=void 0!==e.end?e.end:e,v=!0;if(e.begin>e.end&&(h=e.end,g=e.begin),r=void 0!==r?r:h,void 0===n&&(h!==g||l.insertMode&&void 0!==s.validPositions[r]||void 0===t||t.match.optionalQuantifier||t.match.optionality)){var b,y=c.extend(!0,[],s.validPositions),k=a.getLastValidPosition.call(o,void 0,!0);s.p=h;var x=d.call(o,e)?h:r;for(b=k;b>=x;b--)s.validPositions.splice(b,1),void 0===t&&delete s.tests[b+1];var C,w,S=r,E=S;for(t&&(s.validPositions[r]=c.extend(!0,{},t),E++,S++),null==y[g]&&s.jitOffset[g]&&(g+=s.jitOffset[g]+1),b=t?g:g-1;b<=k;b++){if(void 0!==(C=y[b])&&!0!==C.generatedInput&&(b>=g||b>=h&&p(b,y,{begin:h,end:g}))){for(;""!==i.getTest.call(o,E).match.def;){if(!1!==(w=f.call(o,E,C,l))||"+"===C.match.def){"+"===C.match.def&&a.getBuffer.call(o,!0);var _=u.call(o,E,C.input,"+"!==C.match.def,!0);if(v=!1!==_,S=(_.pos||E)+1,!v&&w)break}else v=!1;if(v){void 0===t&&C.match.static&&b===e.begin&&m++;break}if(!v&&a.getBuffer.call(o),E>s.maskLength)break;E++}""==i.getTest.call(o,E).match.def&&(v=!1),E=S}if(!v)break}if(!v)return s.validPositions=c.extend(!0,[],y),a.resetMaskSet.call(o,!0),!1}else t&&i.getTest.call(o,r).match.cd===t.match.cd&&(s.validPositions[r]=c.extend(!0,{},t));return a.resetMaskSet.call(o,!0),m}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}var r={};return function(){var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(7149),n(3194),n(9302),n(4013),n(3851),n(219),n(207),n(5296);var t,o=(t=n(2394))&&t.__esModule?t:{default:t};e.default=o.default}(),r}()},692:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(r,o){"use strict";var a=[],i=Object.getPrototypeOf,s=a.slice,l=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},c=a.push,d=a.indexOf,u={},f=u.toString,p=u.hasOwnProperty,m=p.toString,h=m.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},b=function(e){return null!=e&&e===e.window},y=r.document,k={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var r,o,a=(n=n||y).createElement("script");if(a.text=e,t)for(r in k)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)}function C(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[f.call(e)]||"object":typeof e}var w="3.7.1",S=/HTML$/i,E=function(e,t){return new E.fn.init(e,t)};function _(e){var t=!!e&&"length"in e&&e.length,n=C(e);return!v(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}E.fn=E.prototype={jquery:w,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},E.extend=E.fn.extend=function(){var e,t,n,r,o,a,i=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof i&&(c=i,i=arguments[s]||{},s++),"object"==typeof i||v(i)||(i={}),s===l&&(i=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&i!==r&&(c&&r&&(E.isPlainObject(r)||(o=Array.isArray(r)))?(n=i[t],a=o&&!Array.isArray(n)?[]:o||E.isPlainObject(n)?n:{},o=!1,i[t]=E.extend(c,a,r)):void 0!==r&&(i[t]=r));return i},E.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e)||(t=i(e))&&("function"!=typeof(n=p.call(t,"constructor")&&t.constructor)||m.call(n)!==h))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(_(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,o=e.nodeType;if(!o)for(;t=e[r++];)n+=E.text(t);return 1===o||11===o?e.textContent:9===o?e.documentElement.textContent:3===o||4===o?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(_(Object(e))?E.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!S.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,a=e.length,i=!n;o<a;o++)!t(e[o],o)!==i&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,i=[];if(_(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&i.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&i.push(o);return l(i)},guid:1,support:g}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=a[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var T=a.pop,N=a.sort,O=a.splice,R="[\\x20\\t\\r\\n\\f]",P=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g");E.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var D=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function M(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}E.escapeSelector=function(e){return(e+"").replace(D,M)};var B=y,L=c;!function(){var e,t,n,o,i,l,c,u,f,m,h=L,v=E.expando,b=0,y=0,k=ee(),x=ee(),C=ee(),w=ee(),S=function(e,t){return e===t&&(i=!0),0},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="(?:\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",M="\\["+R+"*("+D+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+R+"*\\]",I=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",j=new RegExp(R+"+","g"),F=new RegExp("^"+R+"*,"+R+"*"),U=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),H=new RegExp(R+"|>"),z=new RegExp(I),$=new RegExp("^"+D+"$"),q={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+I),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\([^\\r\\n\\f])","g"),X=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Q=function(){le()},Z=fe(function(e){return!0===e.disabled&&A(e,"fieldset")},{dir:"parentNode",next:"legend"});try{h.apply(a=s.call(B.childNodes),B.childNodes),a[B.childNodes.length].nodeType}catch(e){h={apply:function(e,t){L.apply(e,s.call(t))},call:function(e){L.apply(e,s.call(arguments,1))}}}function J(e,t,n,r){var o,a,i,s,c,d,p,m=t&&t.ownerDocument,b=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return n;if(!r&&(le(t),t=t||l,u)){if(11!==b&&(c=K.exec(e)))if(o=c[1]){if(9===b){if(!(i=t.getElementById(o)))return n;if(i.id===o)return h.call(n,i),n}else if(m&&(i=m.getElementById(o))&&J.contains(t,i)&&i.id===o)return h.call(n,i),n}else{if(c[2])return h.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&t.getElementsByClassName)return h.apply(n,t.getElementsByClassName(o)),n}if(!(w[e+" "]||f&&f.test(e))){if(p=e,m=t,1===b&&(H.test(e)||U.test(e))){for((m=G.test(e)&&se(t.parentNode)||t)==t&&g.scope||((s=t.getAttribute("id"))?s=E.escapeSelector(s):t.setAttribute("id",s=v)),a=(d=de(e)).length;a--;)d[a]=(s?"#"+s:":scope")+" "+ue(d[a]);p=d.join(",")}try{return h.apply(n,m.querySelectorAll(p)),n}catch(t){w(e,!0)}finally{s===v&&t.removeAttribute("id")}}}return be(e.replace(P,"$1"),t,n,r)}function ee(){var e=[];return function n(r,o){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=o}}function te(e){return e[v]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return A(t,"input")&&t.type===e}}function oe(e){return function(t){return(A(t,"input")||A(t,"button"))&&t.type===e}}function ae(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Z(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ie(e){return te(function(t){return t=+t,te(function(n,r){for(var o,a=e([],n.length,t),i=a.length;i--;)n[o=a[i]]&&(n[o]=!(r[o]=n[o]))})})}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var n,r=e?e.ownerDocument||e:B;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,u=!E.isXMLDoc(l),m=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&B!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",Q),g.getById=ne(function(e){return c.appendChild(e).id=E.expando,!l.getElementsByName||!l.getElementsByName(E.expando).length}),g.disconnectedMatch=ne(function(e){return m.call(e,"*")}),g.scope=ne(function(){return l.querySelectorAll(":scope")}),g.cssHas=ne(function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),g.getById?(t.filter.ID=function(e){var t=e.replace(Y,X);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&u){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(Y,X);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&u){var n,r,o,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(o=t.getElementsByName(e),r=0;a=o[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&u)return t.getElementsByClassName(e)},f=[],ne(function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||f.push("\\["+R+"*(?:value|"+_+")"),e.querySelectorAll("[id~="+v+"-]").length||f.push("~="),e.querySelectorAll("a#"+v+"+*").length||f.push(".#.+[+~]"),e.querySelectorAll(":checked").length||f.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||f.push("\\["+R+"*name"+R+"*="+R+"*(?:''|\"\")")}),g.cssHas||f.push(":has"),f=f.length&&new RegExp(f.join("|")),S=function(e,t){if(e===t)return i=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==B&&J.contains(B,e)?-1:t===l||t.ownerDocument==B&&J.contains(B,t)?1:o?d.call(o,e)-d.call(o,t):0:4&n?-1:1)},l):l}for(e in J.matches=function(e,t){return J(e,null,null,t)},J.matchesSelector=function(e,t){if(le(e),u&&!w[t+" "]&&(!f||!f.test(t)))try{var n=m.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){w(t,!0)}return J(t,l,null,[e]).length>0},J.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),E.contains(e,t)},J.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var r=t.attrHandle[n.toLowerCase()],o=r&&p.call(t.attrHandle,n.toLowerCase())?r(e,n,!u):void 0;return void 0!==o?o:e.getAttribute(n)},J.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,n=[],r=0,a=0;if(i=!g.sortStable,o=!g.sortStable&&s.call(e,0),N.call(e,S),i){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)O.call(e,n[r],1)}return o=null,e},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(s.apply(this)))},t=E.expr={cacheLength:50,createPseudo:te,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Y,X),e[3]=(e[3]||e[4]||e[5]||"").replace(Y,X),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||J.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&J.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=de(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Y,X).toLowerCase();return"*"===e?function(){return!0}:function(e){return A(e,t)}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=J.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,f,p,m=a!==i?"nextSibling":"previousSibling",h=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!l&&!s,k=!1;if(h){if(a){for(;m;){for(u=t;u=u[m];)if(s?A(u,g):1===u.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[i?h.firstChild:h.lastChild],i&&y){for(k=(f=(c=(d=h[v]||(h[v]={}))[e]||[])[0]===b&&c[1])&&c[2],u=f&&h.childNodes[f];u=++f&&u&&u[m]||(k=f=0)||p.pop();)if(1===u.nodeType&&++k&&u===t){d[e]=[b,f,k];break}}else if(y&&(k=f=(c=(d=t[v]||(t[v]={}))[e]||[])[0]===b&&c[1]),!1===k)for(;(u=++f&&u&&u[m]||(k=f=0)||p.pop())&&(!(s?A(u,g):1===u.nodeType)||!++k||(y&&((d=u[v]||(u[v]={}))[e]=[b,k]),u!==t)););return(k-=o)===r||k%r===0&&k/r>=0}}},PSEUDO:function(e,n){var r,o=t.pseudos[e]||t.setFilters[e.toLowerCase()]||J.error("unsupported pseudo: "+e);return o[v]?o(n):o.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te(function(e,t){for(var r,a=o(e,n),i=a.length;i--;)e[r=d.call(e,a[i])]=!(t[r]=a[i])}):function(e){return o(e,0,r)}):o}},pseudos:{not:te(function(e){var t=[],n=[],r=ve(e.replace(P,"$1"));return r[v]?te(function(e,t,n,o){for(var a,i=r(e,null,o,[]),s=e.length;s--;)(a=i[s])&&(e[s]=!(t[s]=a))}):function(e,o,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:te(function(e){return function(t){return J(e,t).length>0}}),contains:te(function(e){return e=e.replace(Y,X),function(t){return(t.textContent||E.text(t)).indexOf(e)>-1}}),lang:te(function(e){return $.test(e||"")||J.error("unsupported lang: "+e),e=e.replace(Y,X).toLowerCase(),function(t){var n;do{if(n=u?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:ae(!1),disabled:ae(!0),checked:function(e){return A(e,"input")&&!!e.checked||A(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return W.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){return A(e,"input")&&"button"===e.type||A(e,"button")},text:function(e){var t;return A(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ie(function(){return[0]}),last:ie(function(e,t){return[t-1]}),eq:ie(function(e,t,n){return[n<0?n+t:n]}),even:ie(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ie(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ie(function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:ie(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=oe(e);function ce(){}function de(e,n){var r,o,a,i,s,l,c,d=x[e+" "];if(d)return n?0:d.slice(0);for(s=e,l=[],c=t.preFilter;s;){for(i in r&&!(o=F.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),r=!1,(o=U.exec(s))&&(r=o.shift(),a.push({value:r,type:o[0].replace(P," ")}),s=s.slice(r.length)),t.filter)!(o=q[i].exec(s))||c[i]&&!(o=c[i](o))||(r=o.shift(),a.push({value:r,type:i,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?J.error(e):x(e,l).slice(0)}function ue(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function fe(e,t,n){var r=t.dir,o=t.next,a=o||r,i=n&&"parentNode"===a,s=y++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o);return!1}:function(t,n,l){var c,d,u=[b,s];if(l){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(d=t[v]||(t[v]={}),o&&A(t,o))t=t[r]||t;else{if((c=d[a])&&c[0]===b&&c[1]===s)return u[2]=c[2];if(d[a]=u,u[2]=e(t,n,l))return!0}return!1}}function pe(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function me(e,t,n,r,o){for(var a,i=[],s=0,l=e.length,c=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,r,o)||(i.push(a),c&&t.push(s)));return i}function he(e,t,n,r,o,a){return r&&!r[v]&&(r=he(r)),o&&!o[v]&&(o=he(o,a)),te(function(a,i,s,l){var c,u,f,p,m=[],g=[],v=i.length,b=a||function(e,t,n){for(var r=0,o=t.length;r<o;r++)J(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),y=!e||!a&&t?b:me(b,m,e,s,l);if(n?n(y,p=o||(a?e:v||r)?[]:i,s,l):p=y,r)for(c=me(p,g),r(c,[],s,l),u=c.length;u--;)(f=c[u])&&(p[g[u]]=!(y[g[u]]=f));if(a){if(o||e){if(o){for(c=[],u=p.length;u--;)(f=p[u])&&c.push(y[u]=f);o(null,p=[],c,l)}for(u=p.length;u--;)(f=p[u])&&(c=o?d.call(a,f):m[u])>-1&&(a[c]=!(i[c]=f))}}else p=me(p===i?p.splice(v,p.length):p),o?o(null,i,p,l):h.apply(i,p)})}function ge(e){for(var r,o,a,i=e.length,s=t.relative[e[0].type],l=s||t.relative[" "],c=s?1:0,u=fe(function(e){return e===r},l,!0),f=fe(function(e){return d.call(r,e)>-1},l,!0),p=[function(e,t,o){var a=!s&&(o||t!=n)||((r=t).nodeType?u(e,t,o):f(e,t,o));return r=null,a}];c<i;c++)if(o=t.relative[e[c].type])p=[fe(pe(p),o)];else{if((o=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(a=++c;a<i&&!t.relative[e[a].type];a++);return he(c>1&&pe(p),c>1&&ue(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(P,"$1"),o,c<a&&ge(e.slice(c,a)),a<i&&ge(e=e.slice(a)),a<i&&ue(e))}p.push(o)}return pe(p)}function ve(e,r){var o,a=[],i=[],s=C[e+" "];if(!s){for(r||(r=de(e)),o=r.length;o--;)(s=ge(r[o]))[v]?a.push(s):i.push(s);s=C(e,function(e,r){var o=r.length>0,a=e.length>0,i=function(i,s,c,d,f){var p,m,g,v=0,y="0",k=i&&[],x=[],C=n,w=i||a&&t.find.TAG("*",f),S=b+=null==C?1:Math.random()||.1,_=w.length;for(f&&(n=s==l||s||f);y!==_&&null!=(p=w[y]);y++){if(a&&p){for(m=0,s||p.ownerDocument==l||(le(p),c=!u);g=e[m++];)if(g(p,s||l,c)){h.call(d,p);break}f&&(b=S)}o&&((p=!g&&p)&&v--,i&&k.push(p))}if(v+=y,o&&y!==v){for(m=0;g=r[m++];)g(k,x,s,c);if(i){if(v>0)for(;y--;)k[y]||x[y]||(x[y]=T.call(d));x=me(x)}h.apply(d,x),f&&!i&&x.length>0&&v+r.length>1&&E.uniqueSort(d)}return f&&(b=S,n=C),k};return o?te(i):i}(i,a)),s.selector=e}return s}function be(e,n,r,o){var a,i,s,l,c,d="function"==typeof e&&e,f=!o&&de(e=d.selector||e);if(r=r||[],1===f.length){if((i=f[0]=f[0].slice(0)).length>2&&"ID"===(s=i[0]).type&&9===n.nodeType&&u&&t.relative[i[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(Y,X),n)||[])[0]))return r;d&&(n=n.parentNode),e=e.slice(i.shift().value.length)}for(a=q.needsContext.test(e)?0:i.length;a--&&(s=i[a],!t.relative[l=s.type]);)if((c=t.find[l])&&(o=c(s.matches[0].replace(Y,X),G.test(i[0].type)&&se(n.parentNode)||n))){if(i.splice(a,1),!(e=o.length&&ue(i)))return h.apply(r,o),r;break}}return(d||ve(e,f))(o,n,!u,r,!n||G.test(e)&&se(n.parentNode)||n),r}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=v.split("").sort(S).join("")===v,le(),g.sortDetached=ne(function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))}),E.find=J,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,J.compile=ve,J.select=be,J.setDocument=le,J.tokenize=de,J.escape=E.escapeSelector,J.getText=E.text,J.isXML=E.isXMLDoc,J.selectors=E.expr,J.support=E.support,J.uniqueSort=E.uniqueSort}();var I=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&E(e).is(n))break;r.push(e)}return r},j=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},F=E.expr.match.needsContext,U=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(e,t,n){return v(t)?E.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?E.grep(e,function(e){return e===t!==n}):"string"!=typeof t?E.grep(e,function(e){return d.call(t,e)>-1!==n}):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<r;t++)if(E.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,o[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(H(this,e||[],!1))},not:function(e){return this.pushStack(H(this,e||[],!0))},is:function(e){return!!H(this,"string"==typeof e&&F.test(e)?E(e):e||[],!1).length}});var z,$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||z,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:$.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),U.test(r[1])&&E.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=y.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,z=E(y);var q=/^(?:parents|prev(?:Until|All))/,V={children:!0,contents:!0,next:!0,prev:!0};function W(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,a=[],i="string"!=typeof e&&E(e);if(!F.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?E.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?d.call(E(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return I(e,"parentNode")},parentsUntil:function(e,t,n){return I(e,"parentNode",n)},next:function(e){return W(e,"nextSibling")},prev:function(e){return W(e,"previousSibling")},nextAll:function(e){return I(e,"nextSibling")},prevAll:function(e){return I(e,"previousSibling")},nextUntil:function(e,t,n){return I(e,"nextSibling",n)},prevUntil:function(e,t,n){return I(e,"previousSibling",n)},siblings:function(e){return j((e.parentNode||{}).firstChild,e)},children:function(e){return j(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(e,t){E.fn[e]=function(n,r){var o=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=E.filter(r,o)),this.length>1&&(V[e]||E.uniqueSort(o),q.test(e)&&o.reverse()),this.pushStack(o)}});var K=/[^\x20\t\r\n\f]+/g;function G(e){return e}function Y(e){throw e}function X(e,t,n,r){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(n):e&&v(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(K)||[],function(e,n){t[n]=!0}),t}(e):E.extend({},e);var t,n,r,o,a=[],i=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;i.length;s=-1)for(n=i.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(s=a.length-1,i.push(n)),function t(n){E.each(n,function(n,r){v(r)?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==C(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;(n=E.inArray(t,a,n))>-1;)a.splice(n,1),n<=s&&s--}),this},has:function(e){return e?E.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=i=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=i=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],i.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return E.Deferred(function(n){E.each(t,function(t,r){var o=v(e[r[4]])&&e[r[4]];a[r[1]](function(){var e=o&&o.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,n,o){var a=0;function i(e,t,n,o){return function(){var s=this,l=arguments,c=function(){var r,c;if(!(e<a)){if((r=n.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(c)?o?c.call(r,i(a,t,G,o),i(a,t,Y,o)):(a++,c.call(r,i(a,t,G,o),i(a,t,Y,o),i(a,t,G,t.notifyWith))):(n!==G&&(s=void 0,l=[r]),(o||t.resolveWith)(s,l))}},d=o?c:function(){try{c()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,d.error),e+1>=a&&(n!==Y&&(s=void 0,l=[r]),t.rejectWith(s,l))}};e?d():(E.Deferred.getErrorHook?d.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(d.error=E.Deferred.getStackHook()),r.setTimeout(d))}}return E.Deferred(function(r){t[0][3].add(i(0,r,v(o)?o:G,r.notifyWith)),t[1][3].add(i(0,r,v(e)?e:G)),t[2][3].add(i(0,r,v(n)?n:Y))}).promise()},promise:function(e){return null!=e?E.extend(e,o):o}},a={};return E.each(t,function(e,r){var i=r[2],s=r[5];o[r[1]]=i.add,s&&i.add(function(){n=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),i.add(r[3].fire),a[r[0]]=function(){return a[r[0]+"With"](this===a?void 0:this,arguments),this},a[r[0]+"With"]=i.fireWith}),o.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),o=s.call(arguments),a=E.Deferred(),i=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||a.resolveWith(r,o)}};if(t<=1&&(X(e,a.done(i(n)).resolve,a.reject,!t),"pending"===a.state()||v(o[n]&&o[n].then)))return a.then();for(;n--;)X(o[n],i(n),a.reject);return a.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&Q.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){r.setTimeout(function(){throw e})};var Z=E.Deferred();function J(){y.removeEventListener("DOMContentLoaded",J),r.removeEventListener("load",J),E.ready()}E.fn.ready=function(e){return Z.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||Z.resolveWith(y,[E]))}}),E.ready.then=Z.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?r.setTimeout(E.ready):(y.addEventListener("DOMContentLoaded",J),r.addEventListener("load",J));var ee=function(e,t,n,r,o,a,i){var s=0,l=e.length,c=null==n;if("object"===C(n))for(s in o=!0,n)ee(e,t,s,n[s],!0,a,i);else if(void 0!==r&&(o=!0,v(r)||(i=!0),c&&(i?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(E(e),n)})),t))for(;s<l;s++)t(e[s],n,i?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):a},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function oe(e){return e.replace(te,"ms-").replace(ne,re)}var ae=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ie(){this.expando=E.expando+ie.uid++}ie.uid=1,ie.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ae(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[oe(t)]=n;else for(r in t)o[oe(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][oe(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(oe):(t=oe(t))in r?[t]:t.match(K)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var se=new ie,le=new ie,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,de=/[A-Z]/g;function ue(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(de,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(e){}le.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return le.hasData(e)||se.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return se.access(e,t,n)},_removeData:function(e,t){se.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,o,a=this[0],i=a&&a.attributes;if(void 0===e){if(this.length&&(o=le.get(a),1===a.nodeType&&!se.get(a,"hasDataAttrs"))){for(n=i.length;n--;)i[n]&&0===(r=i[n].name).indexOf("data-")&&(r=oe(r.slice(5)),ue(a,r,o[r]));se.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){le.set(this,e)}):ee(this,function(t){var n;if(a&&void 0===t)return void 0!==(n=le.get(a,e))||void 0!==(n=ue(a,e))?n:void 0;this.each(function(){le.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){le.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=se.get(e,t),n&&(!r||Array.isArray(n)?r=se.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,o=n.shift(),a=E._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,function(){E.dequeue(e,t)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:E.Callbacks("once memory").add(function(){se.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each(function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=E.Deferred(),a=this,i=this.length,s=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)(n=se.get(a[i],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=new RegExp("^(?:([+-])=|)("+fe+")([a-z%]*)$","i"),me=["Top","Right","Bottom","Left"],he=y.documentElement,ge=function(e){return E.contains(e.ownerDocument,e)},ve={composed:!0};he.getRootNode&&(ge=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var be=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===E.css(e,"display")};function ye(e,t,n,r){var o,a,i=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},l=s(),c=n&&n[3]||(E.cssNumber[t]?"":"px"),d=e.nodeType&&(E.cssNumber[t]||"px"!==c&&+l)&&pe.exec(E.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;i--;)E.style(e,t,d+c),(1-a)*(1-(a=s()/l||.5))<=0&&(i=0),d/=a;d*=2,E.style(e,t,d+c),n=n||[]}return n&&(d=+d||+l||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=d,r.end=o)),o}var ke={};function xe(e){var t,n=e.ownerDocument,r=e.nodeName,o=ke[r];return o||(t=n.body.appendChild(n.createElement(r)),o=E.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ke[r]=o,o)}function Ce(e,t){for(var n,r,o=[],a=0,i=e.length;a<i;a++)(r=e[a]).style&&(n=r.style.display,t?("none"===n&&(o[a]=se.get(r,"display")||null,o[a]||(r.style.display="")),""===r.style.display&&be(r)&&(o[a]=xe(r))):"none"!==n&&(o[a]="none",se.set(r,"display",n)));for(a=0;a<i;a++)null!=o[a]&&(e[a].style.display=o[a]);return e}E.fn.extend({show:function(){return Ce(this,!0)},hide:function(){return Ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){be(this)?E(this).show():E(this).hide()})}});var we,Se,Ee=/^(?:checkbox|radio)$/i,_e=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ae=/^$|^module$|\/(?:java|ecma)script/i;we=y.createDocumentFragment().appendChild(y.createElement("div")),(Se=y.createElement("input")).setAttribute("type","radio"),Se.setAttribute("checked","checked"),Se.setAttribute("name","t"),we.appendChild(Se),g.checkClone=we.cloneNode(!0).cloneNode(!0).lastChild.checked,we.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!we.cloneNode(!0).lastChild.defaultValue,we.innerHTML="<option></option>",g.option=!!we.lastChild;var Te={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ne(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?E.merge([e],n):n}function Oe(e,t){for(var n=0,r=e.length;n<r;n++)se.set(e[n],"globalEval",!t||se.get(t[n],"globalEval"))}Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,g.option||(Te.optgroup=Te.option=[1,"<select multiple='multiple'>","</select>"]);var Re=/<|&#?\w+;/;function Pe(e,t,n,r,o){for(var a,i,s,l,c,d,u=t.createDocumentFragment(),f=[],p=0,m=e.length;p<m;p++)if((a=e[p])||0===a)if("object"===C(a))E.merge(f,a.nodeType?[a]:a);else if(Re.test(a)){for(i=i||u.appendChild(t.createElement("div")),s=(_e.exec(a)||["",""])[1].toLowerCase(),l=Te[s]||Te._default,i.innerHTML=l[1]+E.htmlPrefilter(a)+l[2],d=l[0];d--;)i=i.lastChild;E.merge(f,i.childNodes),(i=u.firstChild).textContent=""}else f.push(t.createTextNode(a));for(u.textContent="",p=0;a=f[p++];)if(r&&E.inArray(a,r)>-1)o&&o.push(a);else if(c=ge(a),i=Ne(u.appendChild(a),"script"),c&&Oe(i),n)for(d=0;a=i[d++];)Ae.test(a.type||"")&&n.push(a);return u}var De=/^([^.]*)(?:\.(.+)|)/;function Me(){return!0}function Be(){return!1}function Le(e,t,n,r,o,a){var i,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],a);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Be;else if(!o)return e;return 1===a&&(i=o,o=function(e){return E().off(e),i.apply(this,arguments)},o.guid=i.guid||(i.guid=E.guid++)),e.each(function(){E.event.add(this,t,o,r,n)})}function Ie(e,t,n){n?(se.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var n,r=se.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),se.set(this,t,r),this[t](),n=se.get(this,t),se.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(se.set(this,t,E.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Me)}})):void 0===se.get(e,t)&&E.event.add(e,t,Me)}E.event={global:{},add:function(e,t,n,r,o){var a,i,s,l,c,d,u,f,p,m,h,g=se.get(e);if(ae(e))for(n.handler&&(n=(a=n).handler,o=a.selector),o&&E.find.matchesSelector(he,o),n.guid||(n.guid=E.guid++),(l=g.events)||(l=g.events=Object.create(null)),(i=g.handle)||(i=g.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(K)||[""]).length;c--;)p=h=(s=De.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),p&&(u=E.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=E.event.special[p]||{},d=E.extend({type:p,origType:h,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:m.join(".")},a),(f=l[p])||((f=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,m,i)||e.addEventListener&&e.addEventListener(p,i)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,d):f.push(d),E.event.global[p]=!0)},remove:function(e,t,n,r,o){var a,i,s,l,c,d,u,f,p,m,h,g=se.hasData(e)&&se.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(K)||[""]).length;c--;)if(p=h=(s=De.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),p){for(u=E.event.special[p]||{},f=l[p=(r?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=a=f.length;a--;)d=f[a],!o&&h!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||r&&r!==d.selector&&("**"!==r||!d.selector)||(f.splice(a,1),d.selector&&f.delegateCount--,u.remove&&u.remove.call(e,d));i&&!f.length&&(u.teardown&&!1!==u.teardown.call(e,m,g.handle)||E.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)E.event.remove(e,p+t[c],n,r,!0);E.isEmptyObject(l)&&se.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,a,i,s=new Array(arguments.length),l=E.event.fix(e),c=(se.get(this,"events")||Object.create(null))[l.type]||[],d=E.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(i=E.event.handlers.call(this,l,c),t=0;(o=i[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(r=((E.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,a,i,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],i={},n=0;n<l;n++)void 0===i[o=(r=t[n]).selector+" "]&&(i[o]=r.needsContext?E(o,this).index(c)>-1:E.find(o,this,null,[c]).length),i[o]&&a.push(r);a.length&&s.push({elem:c,handlers:a})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&A(t,"input")&&Ie(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&A(t,"input")&&Ie(t,"click"),!0},_default:function(e){var t=e.target;return Ee.test(t.type)&&t.click&&A(t,"input")&&se.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Me:Be,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Be,isPropagationStopped:Be,isImmediatePropagationStopped:Be,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Me,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Me,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Me,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){if(y.documentMode){var n=se.get(this,"handle"),r=E.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else E.event.simulate(t,e.target,E.event.fix(e))}E.event.special[e]={setup:function(){var r;if(Ie(this,e,!0),!y.documentMode)return!1;(r=se.get(this,t))||this.addEventListener(t,n),se.set(this,t,(r||0)+1)},trigger:function(){return Ie(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=se.get(this,t)-1)?se.set(this,t,e):(this.removeEventListener(t,n),se.remove(this,t))},_default:function(t){return se.get(t.target,e)},delegateType:t},E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=y.documentMode?this:r,a=se.get(o,t);a||(y.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),se.set(o,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=y.documentMode?this:r,a=se.get(o,t)-1;a?se.set(o,t,a):(y.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),se.remove(o,t))}}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||E.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),E.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Be),this.each(function(){E.event.remove(this,e,n,t)})}});var je=/<script|<style|<link/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function He(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function $e(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function qe(e,t){var n,r,o,a,i,s;if(1===t.nodeType){if(se.hasData(e)&&(s=se.get(e).events))for(o in se.remove(t,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)E.event.add(t,o,s[o][n]);le.hasData(e)&&(a=le.access(e),i=E.extend({},a),le.set(t,i))}}function Ve(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function We(e,t,n,r){t=l(t);var o,a,i,s,c,d,u=0,f=e.length,p=f-1,m=t[0],h=v(m);if(h||f>1&&"string"==typeof m&&!g.checkClone&&Fe.test(m))return e.each(function(o){var a=e.eq(o);h&&(t[0]=m.call(this,o,a.html())),We(a,t,n,r)});if(f&&(a=(o=Pe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=(i=E.map(Ne(o,"script"),ze)).length;u<f;u++)c=o,u!==p&&(c=E.clone(c,!0,!0),s&&E.merge(i,Ne(c,"script"))),n.call(e[u],c,u);if(s)for(d=i[i.length-1].ownerDocument,E.map(i,$e),u=0;u<s;u++)c=i[u],Ae.test(c.type||"")&&!se.access(c,"globalEval")&&E.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?E._evalUrl&&!c.noModule&&E._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):x(c.textContent.replace(Ue,""),c,d))}return e}function Ke(e,t,n){for(var r,o=t?E.filter(t,e):e,a=0;null!=(r=o[a]);a++)n||1!==r.nodeType||E.cleanData(Ne(r)),r.parentNode&&(n&&ge(r)&&Oe(Ne(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,a,i,s=e.cloneNode(!0),l=ge(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(i=Ne(s),r=0,o=(a=Ne(e)).length;r<o;r++)Ve(a[r],i[r]);if(t)if(n)for(a=a||Ne(e),i=i||Ne(s),r=0,o=a.length;r<o;r++)qe(a[r],i[r]);else qe(e,s);return(i=Ne(s,"script")).length>0&&Oe(i,!l&&Ne(e,"script")),s},cleanData:function(e){for(var t,n,r,o=E.event.special,a=0;void 0!==(n=e[a]);a++)if(ae(n)){if(t=n[se.expando]){if(t.events)for(r in t.events)o[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[se.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Ke(this,e,!0)},remove:function(e){return Ke(this,e)},text:function(e){return ee(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return We(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,e).appendChild(e)})},prepend:function(){return We(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=He(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return We(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return We(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(Ne(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return ee(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!Te[(_e.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(Ne(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return We(this,arguments,function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(Ne(this)),n&&n.replaceChild(t,this))},e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){E.fn[e]=function(e){for(var n,r=[],o=E(e),a=o.length-1,i=0;i<=a;i++)n=i===a?this:this.clone(!0),E(o[i])[t](n),c.apply(r,n.get());return this.pushStack(r)}});var Ge=new RegExp("^("+fe+")(?!px)[a-z%]+$","i"),Ye=/^--/,Xe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Qe=function(e,t,n){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=a[o];return r},Ze=new RegExp(me.join("|"),"i");function Je(e,t,n){var r,o,a,i,s=Ye.test(t),l=e.style;return(n=n||Xe(e))&&(i=n.getPropertyValue(t)||n[t],s&&i&&(i=i.replace(P,"$1")||void 0),""!==i||ge(e)||(i=E.style(e,t)),!g.pixelBoxStyles()&&Ge.test(i)&&Ze.test(t)&&(r=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=n.width,l.width=r,l.minWidth=o,l.maxWidth=a)),void 0!==i?i+"":i}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",he.appendChild(c).appendChild(d);var e=r.getComputedStyle(d);n="1%"!==e.top,l=12===t(e.marginLeft),d.style.right="60%",i=36===t(e.right),o=36===t(e.width),d.style.position="absolute",a=12===t(d.offsetWidth/3),he.removeChild(c),d=null}}function t(e){return Math.round(parseFloat(e))}var n,o,a,i,s,l,c=y.createElement("div"),d=y.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===d.style.backgroundClip,E.extend(g,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),i},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),a},reliableTrDimensions:function(){var e,t,n,o;return null==s&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",he.appendChild(e).appendChild(t).appendChild(n),o=r.getComputedStyle(t),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,he.removeChild(e)),s}}))}();var tt=["Webkit","Moz","ms"],nt=y.createElement("div").style,rt={};function ot(e){return E.cssProps[e]||rt[e]||(e in nt?e:rt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var at=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var r=pe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ct(e,t,n,r,o,a){var i="width"===t?1:0,s=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;i<4;i+=2)"margin"===n&&(c+=E.css(e,n+me[i],!0,o)),r?("content"===n&&(l-=E.css(e,"padding"+me[i],!0,o)),"margin"!==n&&(l-=E.css(e,"border"+me[i]+"Width",!0,o))):(l+=E.css(e,"padding"+me[i],!0,o),"padding"!==n?l+=E.css(e,"border"+me[i]+"Width",!0,o):s+=E.css(e,"border"+me[i]+"Width",!0,o));return!r&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l+c}function dt(e,t,n){var r=Xe(e),o=(!g.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),a=o,i=Je(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(i)){if(!n)return i;i="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&A(e,"tr")||"auto"===i||!parseFloat(i)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===E.css(e,"boxSizing",!1,r),(a=s in e)&&(i=e[s])),(i=parseFloat(i)||0)+ct(e,t,n||(o?"border":"content"),a,r,i)+"px"}function ut(e,t,n,r,o){return new ut.prototype.init(e,t,n,r,o)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Je(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,i,s=oe(t),l=Ye.test(t),c=e.style;if(l||(t=ot(s)),i=E.cssHooks[t]||E.cssHooks[s],void 0===n)return i&&"get"in i&&void 0!==(o=i.get(e,!1,r))?o:c[t];"string"==(a=typeof n)&&(o=pe.exec(n))&&o[1]&&(n=ye(e,t,o),a="number"),null!=n&&n==n&&("number"!==a||l||(n+=o&&o[3]||(E.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),i&&"set"in i&&void 0===(n=i.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,a,i,s=oe(t);return Ye.test(t)||(t=ot(s)),(i=E.cssHooks[t]||E.cssHooks[s])&&"get"in i&&(o=i.get(e,!0,n)),void 0===o&&(o=Je(e,t,r)),"normal"===o&&t in st&&(o=st[t]),""===n||n?(a=parseFloat(o),!0===n||isFinite(a)?a||0:o):o}}),E.each(["height","width"],function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!at.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?dt(e,t,r):Qe(e,it,function(){return dt(e,t,r)})},set:function(e,n,r){var o,a=Xe(e),i=!g.scrollboxSize()&&"absolute"===a.position,s=(i||r)&&"border-box"===E.css(e,"boxSizing",!1,a),l=r?ct(e,t,r,s,a):0;return s&&i&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-ct(e,t,"border",!1,a)-.5)),l&&(o=pe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),lt(0,n,l)}}}),E.cssHooks.marginLeft=et(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,o={},a="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+me[r]+t]=a[r]||a[r-2]||a[0];return o}},"margin"!==e&&(E.cssHooks[e+t].set=lt)}),E.fn.extend({css:function(e,t){return ee(this,function(e,t,n){var r,o,a={},i=0;if(Array.isArray(t)){for(r=Xe(e),o=t.length;i<o;i++)a[t[i]]=E.css(e,t[i],!1,r);return a}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,arguments.length>1)}}),E.Tween=ut,ut.prototype={constructor:ut,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(E.cssNumber[n]?"":"px")},cur:function(){var e=ut.propHooks[this.prop];return e&&e.get?e.get(this):ut.propHooks._default.get(this)},run:function(e){var t,n=ut.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ut.propHooks._default.set(this),this}},ut.prototype.init.prototype=ut.prototype,ut.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[ot(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},ut.propHooks.scrollTop=ut.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=ut.prototype.init,E.fx.step={};var ft,pt,mt=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;function gt(){pt&&(!1===y.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(gt):r.setTimeout(gt,E.fx.interval),E.fx.tick())}function vt(){return r.setTimeout(function(){ft=void 0}),ft=Date.now()}function bt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=me[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function yt(e,t,n){for(var r,o=(kt.tweeners[t]||[]).concat(kt.tweeners["*"]),a=0,i=o.length;a<i;a++)if(r=o[a].call(n,t,e))return r}function kt(e,t,n){var r,o,a=0,i=kt.prefilters.length,s=E.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=ft||vt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),a=0,i=c.tweens.length;a<i;a++)c.tweens[a].run(r);return s.notifyWith(e,[c,r,n]),r<1&&i?n:(i||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:ft||vt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),d=c.props;for(function(e,t){var n,r,o,a,i;for(n in e)if(o=t[r=oe(n)],a=e[n],Array.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(i=E.cssHooks[r])&&"expand"in i)for(n in a=i.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=o);else t[r]=o}(d,c.opts.specialEasing);a<i;a++)if(r=kt.prefilters[a].call(c,e,d,c.opts))return v(r.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return E.map(d,yt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(kt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,pe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(K);for(var n,r=0,o=e.length;r<o;r++)n=e[r],kt.tweeners[n]=kt.tweeners[n]||[],kt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,a,i,s,l,c,d,u="width"in t||"height"in t,f=this,p={},m=e.style,h=e.nodeType&&be(e),g=se.get(e,"fxshow");for(r in n.queue||(null==(i=E._queueHooks(e,"fx")).unqueued&&(i.unqueued=0,s=i.empty.fire,i.empty.fire=function(){i.unqueued||s()}),i.unqueued++,f.always(function(){f.always(function(){i.unqueued--,E.queue(e,"fx").length||i.empty.fire()})})),t)if(o=t[r],mt.test(o)){if(delete t[r],a=a||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||E.style(e,r)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(r in u&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(c=g&&g.display)&&(c=se.get(e,"display")),"none"===(d=E.css(e,"display"))&&(c?d=c:(Ce([e],!0),c=e.style.display||c,d=E.css(e,"display"),Ce([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===E.css(e,"float")&&(l||(f.done(function(){m.display=c}),null==c&&(d=m.display,c="none"===d?"":d)),m.display="inline-block")),n.overflow&&(m.overflow="hidden",f.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(h=g.hidden):g=se.access(e,"fxshow",{display:c}),a&&(g.hidden=!h),h&&Ce([e],!0),f.done(function(){for(r in h||Ce([e]),se.remove(e,"fxshow"),p)E.style(e,r,p[r])})),l=yt(h?g[r]:0,r,f),r in g||(g[r]=l.start,h&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?kt.prefilters.unshift(e):kt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=E.isEmptyObject(e),a=E.speed(t,n,r),i=function(){var t=kt(this,E.extend({},e),a);(o||se.get(this,"finish"))&&t.stop(!0)};return i.finish=i,o||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=E.timers,i=se.get(this);if(o)i[o]&&i[o].stop&&r(i[o]);else for(o in i)i[o]&&i[o].stop&&ht.test(o)&&r(i[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));!t&&n||E.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=se.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],a=E.timers,i=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<i;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),E.each(["toggle","show","hide"],function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(bt(t,!0),e,r,o)}}),E.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(ft=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),ft=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){pt||(pt=!0,gt())},E.fx.stop=function(){pt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}})},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var xt,Ct=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return ee(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?E.prop(e,t,n):(1===a&&E.isXMLDoc(e)||(o=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?xt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(K);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),xt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||E.find.attr;Ct[t]=function(e,t,r){var o,a,i=t.toLowerCase();return r||(a=Ct[i],Ct[i]=o,o=null!=n(e,t,r)?i:null,Ct[i]=a),o}});var wt=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;function Et(e){return(e.match(K)||[]).join(" ")}function _t(e){return e.getAttribute&&e.getAttribute("class")||""}function At(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(K)||[]}E.fn.extend({prop:function(e,t){return ee(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&E.isXMLDoc(e)||(t=E.propFix[t]||t,o=E.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(e){var t,n,r,o,a,i;return v(e)?this.each(function(t){E(this).addClass(e.call(this,t,_t(this)))}):(t=At(e)).length?this.each(function(){if(r=_t(this),n=1===this.nodeType&&" "+Et(r)+" "){for(a=0;a<t.length;a++)o=t[a],n.indexOf(" "+o+" ")<0&&(n+=o+" ");i=Et(n),r!==i&&this.setAttribute("class",i)}}):this},removeClass:function(e){var t,n,r,o,a,i;return v(e)?this.each(function(t){E(this).removeClass(e.call(this,t,_t(this)))}):arguments.length?(t=At(e)).length?this.each(function(){if(r=_t(this),n=1===this.nodeType&&" "+Et(r)+" "){for(a=0;a<t.length;a++)for(o=t[a];n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");i=Et(n),r!==i&&this.setAttribute("class",i)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,r,o,a,i=typeof e,s="string"===i||Array.isArray(e);return v(e)?this.each(function(n){E(this).toggleClass(e.call(this,n,_t(this),t),t)}):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=At(e),this.each(function(){if(s)for(a=E(this),o=0;o<n.length;o++)r=n[o],a.hasClass(r)?a.removeClass(r):a.addClass(r);else void 0!==e&&"boolean"!==i||((r=_t(this))&&se.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":se.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Et(_t(n))+" ").indexOf(t)>-1)return!0;return!1}});var Tt=/\r/g;E.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=v(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,E(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=E.map(o,function(e){return null==e?"":e+""})),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=E.valHooks[o.type]||E.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Tt,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:Et(E.text(e))}},select:{get:function(e){var t,n,r,o=e.options,a=e.selectedIndex,i="select-one"===e.type,s=i?null:[],l=i?a+1:o.length;for(r=a<0?l:i?a:0;r<l;r++)if(((n=o[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=E(n).val(),i)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,a=E.makeArray(t),i=o.length;i--;)((r=o[i]).selected=E.inArray(E.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},g.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Nt=r.location,Ot={guid:Date.now()},Rt=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Pt=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,o){var a,i,s,l,c,d,u,f,m=[n||y],h=p.call(e,"type")?e.type:e,g=p.call(e,"namespace")?e.namespace.split("."):[];if(i=f=s=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Pt.test(h+E.event.triggered)&&(h.indexOf(".")>-1&&(g=h.split("."),h=g.shift(),g.sort()),c=h.indexOf(":")<0&&"on"+h,(e=e[E.expando]?e:new E.Event(h,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),u=E.event.special[h]||{},o||!u.trigger||!1!==u.trigger.apply(n,t))){if(!o&&!u.noBubble&&!b(n)){for(l=u.delegateType||h,Pt.test(l+h)||(i=i.parentNode);i;i=i.parentNode)m.push(i),s=i;s===(n.ownerDocument||y)&&m.push(s.defaultView||s.parentWindow||r)}for(a=0;(i=m[a++])&&!e.isPropagationStopped();)f=i,e.type=a>1?l:u.bindType||h,(d=(se.get(i,"events")||Object.create(null))[e.type]&&se.get(i,"handle"))&&d.apply(i,t),(d=c&&i[c])&&d.apply&&ae(i)&&(e.result=d.apply(i,t),!1===e.result&&e.preventDefault());return e.type=h,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(m.pop(),t)||!ae(n)||c&&v(n[h])&&!b(n)&&((s=n[c])&&(n[c]=null),E.event.triggered=h,e.isPropagationStopped()&&f.addEventListener(h,Dt),n[h](),e.isPropagationStopped()&&f.removeEventListener(h,Dt),E.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}});var Mt=/\[\]$/,Bt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var o;if(Array.isArray(t))E.each(t,function(t,o){n||Mt.test(e)?r(e,o):jt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==C(t))r(e,t);else for(o in t)jt(e+"["+o+"]",t[o],n,r)}E.param=function(e,t){var n,r=[],o=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){o(this.name,this.value)});else for(n in e)jt(n,e[n],t,o);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&It.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!Ee.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(Bt,"\r\n")}}):{name:t.name,value:n.replace(Bt,"\r\n")}}).get()}});var Ft=/%20/g,Ut=/#.*$/,Ht=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,$t=/^(?:GET|HEAD)$/,qt=/^\/\//,Vt={},Wt={},Kt="*/".concat("*"),Gt=y.createElement("a");function Yt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,a=t.toLowerCase().match(K)||[];if(v(n))for(;r=a[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Xt(e,t,n,r){var o={},a=e===Wt;function i(s){var l;return o[s]=!0,E.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}return i(t.dataTypes[0])||!o["*"]&&i("*")}function Qt(e,t){var n,r,o=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Gt.href=Nt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Qt(Qt(e,E.ajaxSettings),t):Qt(E.ajaxSettings,e)},ajaxPrefilter:Yt(Vt),ajaxTransport:Yt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,a,i,s,l,c,d,u,f,p=E.ajaxSetup({},t),m=p.context||p,h=p.context&&(m.nodeType||m.jquery)?E(m):E.event,g=E.Deferred(),v=E.Callbacks("once memory"),b=p.statusCode||{},k={},x={},C="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(c){if(!i)for(i={};t=zt.exec(a);)i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,k[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)w.always(e[w.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return n&&n.abort(t),S(0,t),this}};if(g.promise(w),p.url=((e||p.url||Nt.href)+"").replace(qt,Nt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(K)||[""],null==p.crossDomain){l=y.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Gt.protocol+"//"+Gt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=E.param(p.data,p.traditional)),Xt(Vt,p,t,w),c)return w;for(u in(d=E.event&&p.global)&&0===E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!$t.test(p.type),o=p.url.replace(Ut,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ft,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Rt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ht,"$1"),f=(Rt.test(o)?"&":"?")+"_="+Ot.guid+++f),p.url=o+f),p.ifModified&&(E.lastModified[o]&&w.setRequestHeader("If-Modified-Since",E.lastModified[o]),E.etag[o]&&w.setRequestHeader("If-None-Match",E.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Kt+"; q=0.01":""):p.accepts["*"]),p.headers)w.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(m,w,p)||c))return w.abort();if(C="abort",v.add(p.complete),w.done(p.success),w.fail(p.error),n=Xt(Wt,p,t,w)){if(w.readyState=1,d&&h.trigger("ajaxSend",[w,p]),c)return w;p.async&&p.timeout>0&&(s=r.setTimeout(function(){w.abort("timeout")},p.timeout));try{c=!1,n.send(k,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,i,l){var u,f,y,k,x,C=t;c||(c=!0,s&&r.clearTimeout(s),n=void 0,a=l||"",w.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(k=function(e,t,n){for(var r,o,a,i,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)a=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}i||(i=o)}a=a||i}if(a)return a!==l[0]&&l.unshift(a),n[a]}(p,w,i)),!u&&E.inArray("script",p.dataTypes)>-1&&E.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),k=function(e,t,n,r){var o,a,i,s,l,c={},d=e.dataTypes.slice();if(d[1])for(i in e.converters)c[i.toLowerCase()]=e.converters[i];for(a=d.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=d.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(i=c[l+" "+a]||c["* "+a]))for(o in c)if((s=o.split(" "))[1]===a&&(i=c[l+" "+s[0]]||c["* "+s[0]])){!0===i?i=c[o]:!0!==c[o]&&(a=s[0],d.unshift(s[1]));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(p,k,w,u),u?(p.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(E.lastModified[o]=x),(x=w.getResponseHeader("etag"))&&(E.etag[o]=x)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=k.state,f=k.data,u=!(y=k.error))):(y=C,!e&&C||(C="error",e<0&&(e=0))),w.status=e,w.statusText=(t||C)+"",u?g.resolveWith(m,[f,C,w]):g.rejectWith(m,[w,C,y]),w.statusCode(b),b=void 0,d&&h.trigger(u?"ajaxSuccess":"ajaxError",[w,p,u?f:y]),v.fireWith(m,[w,C]),d&&(h.trigger("ajaxComplete",[w,p]),--E.active||E.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,t){E[t]=function(e,n,r,o){return v(n)&&(o=o||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:o,data:n,success:r},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return v(e)?this.each(function(t){E(this).wrapInner(e.call(this,t))}):this.each(function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v(e);return this.each(function(n){E(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},Jt=E.ajaxSettings.xhr();g.cors=!!Jt&&"withCredentials"in Jt,g.ajax=Jt=!!Jt,E.ajaxTransport(function(e){var t,n;if(g.cors||Jt&&!e.crossDomain)return{send:function(o,a){var i,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];for(i in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(i,o[i]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}});var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||E.expando+"_"+Ot.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var o,a,i,s=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nn,"$1"+o):!1!==e.jsonp&&(e.url+=(Rt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return i||E.error(o+" was not called"),i[0]},e.dataTypes[0]="json",a=r[o],r[o]=function(){i=arguments},n.always(function(){void 0===a?E(r).removeProp(o):r[o]=a,e[o]&&(e.jsonpCallback=t.jsonpCallback,tn.push(o)),i&&v(a)&&a(i[0]),i=a=void 0}),"script"}),g.createHTMLDocument=((en=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(r)):t=y),a=!n&&[],(o=U.exec(e))?[t.createElement(o[1])]:(o=Pe([e],t,a),a&&a.length&&E(a).remove(),E.merge([],o.childNodes)));var r,o,a},E.fn.load=function(e,t,n){var r,o,a,i=this,s=e.indexOf(" ");return s>-1&&(r=Et(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),i.length>0&&E.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){a=arguments,i.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){i.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length},E.offset={setOffset:function(e,t,n){var r,o,a,i,s,l,c=E.css(e,"position"),d=E(e),u={};"static"===c&&(e.style.position="relative"),s=d.offset(),a=E.css(e,"top"),l=E.css(e,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(i=(r=d.position()).top,o=r.left):(i=parseFloat(a)||0,o=parseFloat(l)||0),v(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(u.top=t.top-s.top+i),null!=t.left&&(u.left=t.left-s.left+o),"using"in t?t.using.call(e,u):d.css(u)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){E.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),o.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-E.css(r,"marginTop",!0),left:t.left-o.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||he})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return ee(this,function(e,r,o){var a;if(b(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===o)return a?a[t]:e[r];a?a.scrollTo(n?a.pageXOffset:o,n?o:a.pageYOffset):e[r]=o},e,r,arguments.length)}}),E.each(["top","left"],function(e,t){E.cssHooks[t]=et(g.pixelPosition,function(e,n){if(n)return n=Je(e,t),Ge.test(n)?E(e).position()[t]+"px":n})}),E.each({Height:"height",Width:"width"},function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){E.fn[r]=function(o,a){var i=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===a?"margin":"border");return ee(this,function(t,n,o){var a;return b(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===o?E.css(t,n,s):E.style(t,n,o,s)},t,i?o:void 0,i)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=s.call(arguments,2),o=function(){return e.apply(t||this,r.concat(s.call(arguments)))},o.guid=e.guid=e.guid||E.guid++,o},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=A,E.isFunction=v,E.isWindow=b,E.camelCase=oe,E.type=C,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var on=r.jQuery,an=r.$;return E.noConflict=function(e){return r.$===E&&(r.$=an),e&&r.jQuery===E&&(r.jQuery=on),E},void 0===o&&(r.jQuery=r.$=E),E})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(199),t=n.n(e),r=(n(54),n(348),n(425),n(692)),o=n.n(r),a=n(660),i=n.n(a);function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,d,u,f,p,m=(c=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],d=function(){function e(t){var n=t.targetModal,r=t.triggers,o=void 0===r?[]:r,a=t.onShow,i=void 0===a?function(){}:a,l=t.onClose,c=void 0===l?function(){}:l,d=t.openTrigger,u=void 0===d?"data-micromodal-trigger":d,f=t.closeTrigger,p=void 0===f?"data-micromodal-close":f,m=t.openClass,h=void 0===m?"is-open":m,g=t.disableScroll,v=void 0!==g&&g,b=t.disableFocus,y=void 0!==b&&b,k=t.awaitCloseAnimation,x=void 0!==k&&k,C=t.awaitOpenAnimation,w=void 0!==C&&C,S=t.debugMode,E=void 0!==S&&S;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal="string"==typeof n?document.getElementById(n):n,this.config={debugMode:E,disableScroll:v,openTrigger:u,closeTrigger:p,openClass:h,onShow:i,onClose:c,awaitCloseAnimation:x,awaitOpenAnimation:w,disableFocus:y},o.length>0&&this.registerTriggers.apply(this,s(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t;return(t=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.filter(Boolean).forEach(function(t){t.addEventListener("click",function(t){return e.showModal(t)})})}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()},!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",function e(){t.classList.remove(n),t.removeEventListener("animationend",e,!1)},!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(e){this.modal="string"==typeof e?document.getElementById(e):e,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(c);return Array.apply(void 0,s(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var n=t.filter(function(t){return!t.hasAttribute(e.config.closeTrigger)});n.length>0&&n[0].focus(),0===n.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter(function(e){return null!==e.offsetParent}),this.modal.contains(document.activeElement)){var n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&n===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),u=null,f=function(e){if("string"==typeof id?!document.getElementById(e):!e)return console.warn("MicroModal: âSeems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},p=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: âPlease specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var n in t)f(n);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=s(document.querySelectorAll("[".concat(t.openTrigger,"]"))),r=function(e,t){var n=[];return e.forEach(function(e){var r=e.attributes[t].value;void 0===n[r]&&(n[r]=[]),n[r].push(e)}),n}(n,t.openTrigger);if(!0!==t.debugMode||!1!==p(n,r))for(var o in r){var a=r[o];t.targetModal=o,t.triggers=s(a),u=new d(t)}},show:function(e,t){var n=t||{};n.targetModal=e,!0===n.debugMode&&!1===f(e)||(u&&u.removeEventListeners(),(u=new d(n)).showModal())},close:function(e){e?u.closeModalByIdOrElement(e):u.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=m);const h=m;o()(function(){var e,n;o()(".user").hover(function(){o()(".user-menu").removeClass("hidden")},function(){o()(".user-menu").addClass("hidden")}),o()('*[data-close="true"]').on("click",function(){var e=o()(this).parent().parent();e.slideToggle("fast",function(){e.remove()})}),o()(".flash").delay(5e3).fadeOut(),o()(".areyousure").click(function(){return window.confirm("Are you sure?")}),function(){function e(e,t,n){e.on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(e){o()(this).off(e),o()(this).removeClass(t+" animated"),n&&n()}),e.addClass(t+" animated")}o()('*[data-addToCart="true"]').on("click",function(e){e.preventDefault();var t=o()(this).attr("data-typeID");socket.emit("addToCart",{typeID:t,username:document.signedInUser.username})}),socket.on("addedToCart",function(t){!function(t){var n=o()(".nav-cart"),r=t.clone();o()(r).css({position:"absolute",top:o()(t).offset().top+"px",left:o()(t).offset().left+"px",opacity:1,"z-index":1e3}),o()("body").append(o()(r));var a=o()(n).offset().left+o()(n).width()/2-o()(t).width()/3/2,i=o()(n).offset().top+o()(n).height()/2-o()(t).height()/3/2;o()(r).addClass("hover").animate({opacity:0,left:a,top:i,width:o()(t).width()/3,height:o()(t).height()/3,fontSize:0,lineHeight:0},1e3,function(){var a=n.find(".count");a.text(parseInt(a.text())+1),o()(r).remove(),e(n,"rubberBand"),o()(t).find("span").attr("data-icon","N")})}(o()('*[data-addToCart="true"][data-typeID="'+t.id+'"]'))}),socket.on("alreadyInCart",function(t){e(o()('*[data-addToCart="true"][data-typeID="'+t.id+'"]'),"shake")})}(),o()("#tinymce").length&&"undefined"!=typeof mcePlugins&&(t().baseURL="/components/tinymce/",t().suffix=".min",t().init({height:500,plugins:mcePlugins,selector:"#tinymce",images_upload_url:"/imageupload",images_upload_base_path:"/doc_images",extended_valid_elements:"iframe[src|frameborder|style|scrolling|class|width|height|name|align]",relative_urls:!1,file_picker_callback:function(e,t,n){o()("#my_form").find("input").click().on("change",function(){var t=new FormData;t.append("userfile",o()("input[type=file]")[0].files[0]),console.log("FORM DATA",t),o().ajax({url:"/imageupload",type:"POST",success:function(t){o()("#my_form").find("input").val(""),e(t.location)},error:function(e){o()("#my_form").find("input").val(""),alert(e)},data:t,cache:!1,contentType:!1,processData:!1})})}})),e=o()("#search-results"),n="",o()("#search-input").on("input",function(){var t=o()(this).val();n=t,t.length>0?function(e){socket.emit("search",e)}(t):(e.addClass("hidden"),e.empty())}),socket.on("results",function(t){t.length>0?(e.removeClass("hidden"),e.empty(),t.map(function(t){e.append("<h5>"+t.heading+"</h5>"),t.items.map(function(t){e.append('<li><a href="'+t.link+'"><span data-icon="&#x35;"/>'+t.name+"</a></li>")})})):(e.empty(),e.removeClass("hidden"),e.append('Nothing found for "'+n+'"'))}),h.init(),(new(i())).mask("#costCode")})})()})();